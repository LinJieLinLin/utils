<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>index.umd.js - lj-utils</title>
    
    <meta name="description" content="A clean, responsive documentation template theme for JSDoc 3." />
    
        <meta name="keywords" content="jsdoc, docdash,lj-utils" />
        <meta name="keyword" content="jsdoc, docdash,lj-utils" />
    
    
    
    <meta property="og:title" content="Docdash"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://cloud.githubusercontent.com/assets/447956/13398144/4dde7f36-defd-11e5-8909-1a9013302cb9.png"/>
    <meta property="og:site_name" content="Docdash"/>
    <meta property="og:url" content="http://clenemt.github.io/docdash/"/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/LinJieLinLin/utils" target="_blank" class="menu-item" id="Github" >Github repo</a></h2><h2><a href="https://gitee.com/uni-pro/utils" target="_blank" class="menu-item" id="Gitee" >Gitee repo</a></h2><h2><a href="../coverage/index.html" target="_blank" class="menu-item" id="coverage" >coverage</a></h2><h3>Classes</h3><ul><li><a href="CanvasClass_CanvasClass.html">CanvasClass#CanvasClass</a></li><li><a href="Counter.html">Counter</a><ul class='methods'><li data-type='method'><a href="Counter.html#setCount">setCount</a></li><li data-type='method'><a href="Counter.html#setMaxCount">setMaxCount</a></li><li data-type='method'><a href="Counter.html#start">start</a></li><li data-type='method'><a href="Counter.html#stop">stop</a></li></ul></li><li><a href="Debounce.html">Debounce</a><ul class='methods'><li data-type='method'><a href="Debounce.html#debounce">debounce</a></li></ul></li><li><a href="Loading.html">Loading</a><ul class='methods'><li data-type='method'><a href="Loading.html#hide">hide</a></li><li data-type='method'><a href="Loading.html#loading">loading</a></li><li data-type='method'><a href="Loading.html#show">show</a></li></ul></li><li><a href="Throttle.html">Throttle</a><ul class='methods'><li data-type='method'><a href="Throttle.html#throttle">throttle</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-directive.html">directive</a></li><li><a href="module-encrypt_base64.html">encrypt/base64</a><ul class='methods'><li data-type='method'><a href="module-encrypt_base64.html#.deBase64">deBase64</a></li><li data-type='method'><a href="module-encrypt_base64.html#.decode">decode</a></li><li data-type='method'><a href="module-encrypt_base64.html#.enBase64">enBase64</a></li><li data-type='method'><a href="module-encrypt_base64.html#.encode">encode</a></li></ul></li><li><a href="module-encrypt_crypto.html">encrypt/crypto</a><ul class='methods'><li data-type='method'><a href="module-encrypt_crypto.html#.aesInit">aesInit</a></li><li data-type='method'><a href="module-encrypt_crypto.html#.deAes">deAes</a></li><li data-type='method'><a href="module-encrypt_crypto.html#.deBase64">deBase64</a></li><li data-type='method'><a href="module-encrypt_crypto.html#.decode">decode</a></li><li data-type='method'><a href="module-encrypt_crypto.html#.enAes">enAes</a></li><li data-type='method'><a href="module-encrypt_crypto.html#.enBase64">enBase64</a></li><li data-type='method'><a href="module-encrypt_crypto.html#.encode">encode</a></li><li data-type='method'><a href="module-encrypt_crypto.html#.md5">md5</a></li></ul></li><li><a href="module-index.html">index</a><ul class='methods'><li data-type='method'><a href="module-index.html#.blobToBase64">blobToBase64</a></li><li data-type='method'><a href="module-index.html#.blobToFile">blobToFile</a></li><li data-type='method'><a href="module-index.html#.blobUrlToFile">blobUrlToFile</a></li><li data-type='method'><a href="module-index.html#.dataURLtoBlob">dataURLtoBlob</a></li><li data-type='method'><a href="module-index.html#.decodeHtml">decodeHtml</a></li><li data-type='method'><a href="module-index.html#.deepCopy">deepCopy</a></li><li data-type='method'><a href="module-index.html#.delCookie">delCookie</a></li><li data-type='method'><a href="module-index.html#.dlFile">dlFile</a></li><li data-type='method'><a href="module-index.html#.encodeHtml">encodeHtml</a></li><li data-type='method'><a href="module-index.html#.formatNumber">formatNumber</a></li><li data-type='method'><a href="module-index.html#.formatSize">formatSize</a></li><li data-type='method'><a href="module-index.html#.formatTime">formatTime</a></li><li data-type='method'><a href="module-index.html#.friendlyTime">friendlyTime</a></li><li data-type='method'><a href="module-index.html#.getCookie">getCookie</a></li><li data-type='method'><a href="module-index.html#.getDuration">getDuration</a></li><li data-type='method'><a href="module-index.html#.getEnv">getEnv</a></li><li data-type='method'><a href="module-index.html#.getInfo">getInfo</a></li><li data-type='method'><a href="module-index.html#.getNetworkStatus">getNetworkStatus</a></li><li data-type='method'><a href="module-index.html#.getObj">getObj</a></li><li data-type='method'><a href="module-index.html#.getRandomColor">getRandomColor</a></li><li data-type='method'><a href="module-index.html#.getRegexp">getRegexp</a></li><li data-type='method'><a href="module-index.html#.getStorage">getStorage</a></li><li data-type='method'><a href="module-index.html#.getUrlParam">getUrlParam</a></li><li data-type='method'><a href="module-index.html#.getUrlParamObj">getUrlParamObj</a></li><li data-type='method'><a href="module-index.html#.getUuid">getUuid</a></li><li data-type='method'><a href="module-index.html#.hideInfo">hideInfo</a></li><li data-type='method'><a href="module-index.html#.isBlob">isBlob</a></li><li data-type='method'><a href="module-index.html#.isFile">isFile</a></li><li data-type='method'><a href="module-index.html#.isIdCard">isIdCard</a></li><li data-type='method'><a href="module-index.html#.isJson">isJson</a></li><li data-type='method'><a href="module-index.html#.isPrime">isPrime</a></li><li data-type='method'><a href="module-index.html#.loadFile">loadFile</a></li><li data-type='method'><a href="module-index.html#.px2vw">px2vw</a></li><li data-type='method'><a href="module-index.html#.randomInt">randomInt</a></li><li data-type='method'><a href="module-index.html#.remInit">remInit</a></li><li data-type='method'><a href="module-index.html#.replaceUrlParam">replaceUrlParam</a></li><li data-type='method'><a href="module-index.html#.rmbPrice">rmbPrice</a></li><li data-type='method'><a href="module-index.html#.safe">safe</a></li><li data-type='method'><a href="module-index.html#.safeData">safeData</a></li><li data-type='method'><a href="module-index.html#.secondToTime">secondToTime</a></li><li data-type='method'><a href="module-index.html#.setCookie">setCookie</a></li><li data-type='method'><a href="module-index.html#.setEnv">setEnv</a></li><li data-type='method'><a href="module-index.html#.setLog">setLog</a></li><li data-type='method'><a href="module-index.html#.setObj">setObj</a></li><li data-type='method'><a href="module-index.html#.setStorage">setStorage</a></li><li data-type='method'><a href="module-index.html#.setTitle">setTitle</a></li><li data-type='method'><a href="module-index.html#.setUrlParams">setUrlParams</a></li><li data-type='method'><a href="module-index.html#.sleep">sleep</a></li><li data-type='method'><a href="module-index.html#.string10to62">string10to62</a></li><li data-type='method'><a href="module-index.html#.string62to10">string62to10</a></li><li data-type='method'><a href="module-index.html#.toFixed">toFixed</a></li><li data-type='method'><a href="module-index.html#.toHump">toHump</a></li><li data-type='method'><a href="module-index.html#.toLine">toLine</a></li><li data-type='method'><a href="module-index.html#.toList">toList</a></li><li data-type='method'><a href="module-index.html#~autoPlayAudio">autoPlayAudio</a></li><li data-type='method'><a href="module-index.html#~blobToBase64">blobToBase64</a></li><li data-type='method'><a href="module-index.html#~blobToFile">blobToFile</a></li><li data-type='method'><a href="module-index.html#~blobUrlToFile">blobUrlToFile</a></li><li data-type='method'><a href="module-index.html#~dataURLtoBlob">dataURLtoBlob</a></li><li data-type='method'><a href="module-index.html#~decodeHtml">decodeHtml</a></li><li data-type='method'><a href="module-index.html#~deepCopy">deepCopy</a></li><li data-type='method'><a href="module-index.html#~delCookie">delCookie</a></li><li data-type='method'><a href="module-index.html#~dlFile">dlFile</a></li><li data-type='method'><a href="module-index.html#~encodeHtml">encodeHtml</a></li><li data-type='method'><a href="module-index.html#~formatNumber">formatNumber</a></li><li data-type='method'><a href="module-index.html#~formatSize">formatSize</a></li><li data-type='method'><a href="module-index.html#~formatTime">formatTime</a></li><li data-type='method'><a href="module-index.html#~friendlyTime">friendlyTime</a></li><li data-type='method'><a href="module-index.html#~getCookie">getCookie</a></li><li data-type='method'><a href="module-index.html#~getDuration">getDuration</a></li><li data-type='method'><a href="module-index.html#~getEnv">getEnv</a></li><li data-type='method'><a href="module-index.html#~getInfo">getInfo</a></li><li data-type='method'><a href="module-index.html#~getNetworkStatus">getNetworkStatus</a></li><li data-type='method'><a href="module-index.html#~getObj">getObj</a></li><li data-type='method'><a href="module-index.html#~getRandomColor">getRandomColor</a></li><li data-type='method'><a href="module-index.html#~getRegexp">getRegexp</a></li><li data-type='method'><a href="module-index.html#~getStorage">getStorage</a></li><li data-type='method'><a href="module-index.html#~getUrlParam">getUrlParam</a></li><li data-type='method'><a href="module-index.html#~getUrlParamObj">getUrlParamObj</a></li><li data-type='method'><a href="module-index.html#~getUuid">getUuid</a></li><li data-type='method'><a href="module-index.html#~hideInfo">hideInfo</a></li><li data-type='method'><a href="module-index.html#~isBlob">isBlob</a></li><li data-type='method'><a href="module-index.html#~isFile">isFile</a></li><li data-type='method'><a href="module-index.html#~isIdCard">isIdCard</a></li><li data-type='method'><a href="module-index.html#~isJson">isJson</a></li><li data-type='method'><a href="module-index.html#~isPrime">isPrime</a></li><li data-type='method'><a href="module-index.html#~loadFile">loadFile</a></li><li data-type='method'><a href="module-index.html#~px2vw">px2vw</a></li><li data-type='method'><a href="module-index.html#~randomInt">randomInt</a></li><li data-type='method'><a href="module-index.html#~remInit">remInit</a></li><li data-type='method'><a href="module-index.html#~replaceUrlParam">replaceUrlParam</a></li><li data-type='method'><a href="module-index.html#~requestDeviceMotionPermission">requestDeviceMotionPermission</a></li><li data-type='method'><a href="module-index.html#~rmbPrice">rmbPrice</a></li><li data-type='method'><a href="module-index.html#~safe">safe</a></li><li data-type='method'><a href="module-index.html#~safeData">safeData</a></li><li data-type='method'><a href="module-index.html#~secondToTime">secondToTime</a></li><li data-type='method'><a href="module-index.html#~setCookie">setCookie</a></li><li data-type='method'><a href="module-index.html#~setEnv">setEnv</a></li><li data-type='method'><a href="module-index.html#~setLog">setLog</a></li><li data-type='method'><a href="module-index.html#~setObj">setObj</a></li><li data-type='method'><a href="module-index.html#~setStorage">setStorage</a></li><li data-type='method'><a href="module-index.html#~setTitle">setTitle</a></li><li data-type='method'><a href="module-index.html#~setUrlParams">setUrlParams</a></li><li data-type='method'><a href="module-index.html#~sleep">sleep</a></li><li data-type='method'><a href="module-index.html#~string10to62">string10to62</a></li><li data-type='method'><a href="module-index.html#~string62to10">string62to10</a></li><li data-type='method'><a href="module-index.html#~toFixed">toFixed</a></li><li data-type='method'><a href="module-index.html#~toHump">toHump</a></li><li data-type='method'><a href="module-index.html#~toLine">toLine</a></li><li data-type='method'><a href="module-index.html#~toList">toList</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-microApi.html">microApi</a><ul class='members'><li data-type='member'><a href="module-microApi.html#.APP">APP</a></li><li data-type='member'><a href="module-microApi.html#.IS_H5">IS_H5</a></li><li data-type='member'><a href="module-microApi.html#~interceptors">interceptors</a></li></ul><ul class='methods'><li data-type='method'><a href="module-microApi.html#.checkSetting">checkSetting</a></li><li data-type='method'><a href="module-microApi.html#.checkUpdate">checkUpdate</a></li><li data-type='method'><a href="module-microApi.html#.clearStorageSync">clearStorageSync</a></li><li data-type='method'><a href="module-microApi.html#.cloudApi">cloudApi</a></li><li data-type='method'><a href="module-microApi.html#.downloadImgs">downloadImgs</a></li><li data-type='method'><a href="module-microApi.html#.getCurrentPage">getCurrentPage</a></li><li data-type='method'><a href="module-microApi.html#.getCurrentPageUrl">getCurrentPageUrl</a></li><li data-type='method'><a href="module-microApi.html#.getDb">getDb</a></li><li data-type='method'><a href="module-microApi.html#.getDom">getDom</a></li><li data-type='method'><a href="module-microApi.html#.getLocation">getLocation</a></li><li data-type='method'><a href="module-microApi.html#.getRichText">getRichText</a></li><li data-type='method'><a href="module-microApi.html#.getStorage">getStorage</a></li><li data-type='method'><a href="module-microApi.html#.getStorageSync">getStorageSync</a></li><li data-type='method'><a href="module-microApi.html#.getSystemInfo">getSystemInfo</a></li><li data-type='method'><a href="module-microApi.html#.getUserInfo">getUserInfo</a></li><li data-type='method'><a href="module-microApi.html#.hideLoading">hideLoading</a></li><li data-type='method'><a href="module-microApi.html#.init">init</a></li><li data-type='method'><a href="module-microApi.html#.ljApiFn">ljApiFn</a></li><li data-type='method'><a href="module-microApi.html#.login">login</a></li><li data-type='method'><a href="module-microApi.html#.P">P</a></li><li data-type='method'><a href="module-microApi.html#.refresh">refresh</a></li><li data-type='method'><a href="module-microApi.html#.request">request</a></li><li data-type='method'><a href="module-microApi.html#.requestCloud">requestCloud</a></li><li data-type='method'><a href="module-microApi.html#.scrollTop">scrollTop</a></li><li data-type='method'><a href="module-microApi.html#.setRequest">setRequest</a></li><li data-type='method'><a href="module-microApi.html#.setStorage">setStorage</a></li><li data-type='method'><a href="module-microApi.html#.setTitle">setTitle</a></li><li data-type='method'><a href="module-microApi.html#.showLoading">showLoading</a></li><li data-type='method'><a href="module-microApi.html#.toast">toast</a></li><li data-type='method'><a href="module-microApi.html#.toPage">toPage</a></li><li data-type='method'><a href="module-microApi.html#.uploadImg">uploadImg</a></li><li data-type='method'><a href="module-microApi.html#.uploadImgs">uploadImgs</a></li><li data-type='method'><a href="module-microApi.html#.wxLog">wxLog</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">index.umd.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>(function (global, factory) {
    typeof exports === 'object' &amp;&amp; typeof module !== 'undefined' ? factory(exports) :
    typeof define === 'function' &amp;&amp; define.amd ? define(['exports'], factory) :
    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.f = {}));
})(this, (function (exports) { 'use strict';

    /**
     * @module index
     * @author linjielinlin 993353454@qq.com
     * @date 2022-05-11 22:07:43
     * @description 判断函数
     */
    /**
     * @function
     * @description 判断质数
     * @param {number} argValue 要判断的数据
     * @returns {boolean} 结果
     */
    const isPrime = (argValue) => !/^.?$|^(..+?)\1+$/.test('.'.repeat(argValue));
    /**
     * @function
     * @description 判断是否是JSON
     * @param  {any} argData 数据
     * @returns {boolean}
     */
    const isJson = (argData) => {
        try {
            return typeof JSON.parse(argData || '') === 'object';
        }
        catch (e) { }
        return false;
    };
    /**
     * @function
     * @description 判断是否是Blob
     * @param  {any} argData 数据
     * @returns {boolean}
     */
    const isBlob = (argData) => {
        return argData instanceof Blob;
    };
    /**
     * @function
     * @description 判断是否是File
     * @param  {any} argData 数据
     * @returns {boolean}
     */
    const isFile = (argData) => {
        return argData instanceof File;
    };
    /**
     * @function
     * @description 是否为正确的身份证号码
     * @param  {string} code 身份证号码
     * @returns {boolean}
     */
    const isIdCard = (code) => {
        let tip = '';
        let city = {
            11: '北京',
            12: '天津',
            13: '河北',
            14: '山西',
            15: '内蒙古',
            21: '辽宁',
            22: '吉林',
            23: '黑龙江 ',
            31: '上海',
            32: '江苏',
            33: '浙江',
            34: '安徽',
            35: '福建',
            36: '江西',
            37: '山东',
            41: '河南',
            42: '湖北 ',
            43: '湖南',
            44: '广东',
            45: '广西',
            46: '海南',
            50: '重庆',
            51: '四川',
            52: '贵州',
            53: '云南',
            54: '西藏 ',
            61: '陕西',
            62: '甘肃',
            63: '青海',
            64: '宁夏',
            65: '新疆',
            71: '台湾',
            81: '香港',
            82: '澳门',
            91: '国外 ',
        };
        let pass = true;
        if (!code ||
            !/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(code)) {
            tip = '身份证号格式错误';
            pass = false;
        }
        else if (!city[+code.substring(0, 2)]) {
            tip = '地址编码错误';
            pass = false;
        }
        else {
            // 18位身份证需要验证最后一位校验位
            if (code.length === 18) {
                const codeArr = code.split('');
                // ∑(ai×Wi)(mod 11)
                // 加权因子
                let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];
                // 校验位
                let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2];
                let sum = 0;
                let ai = 0;
                let wi = 0;
                for (let i = 0; i &lt; 17; i++) {
                    ai = Number(codeArr[i]);
                    wi = factor[i];
                    sum += ai * wi;
                }
                let last = parity[sum % 11] + '';
                if (last !== code[17]) {
                    tip = '校验位错误';
                    pass = false;
                }
            }
        }
        console.assert(!tip, tip);
        return pass;
    };

    /**
     * @module index
     * @author linjielinlin 993353454@qq.com
     * @date 2022-05-11 22:07:43
     * @description 公共函数，使用'lj-utils'引入
     */
    let isOnline = true;
    let ENV = {};
    let DATA_OBJECT = {};
    // 断网监听
    if (globalThis &amp;&amp; globalThis.addEventListener) {
        // #ifdef H5
        globalThis.addEventListener('offline', function () {
            console.debug('offLine');
            isOnline = false;
        });
        globalThis.addEventListener('online', function () {
            console.debug('onLine');
            isOnline = true;
        });
        // #endif
    }
    /**
     * @function
     * @description 获取当前网络状态（H5）
     * @return boolean
     */
    const getNetworkStatus = () => {
        return isOnline;
    };
    /**
     * @function
     * @description 正则收集
     * @returns {object}
     */
    const getRegexp = () => {
        return {
            // 匹配html标签，提取html文字： htmlCode.replace(reg.html,'')
            html: /&lt;[^>]+>/gim,
            // 至少1数字1字母1字符，8-16位
            password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\W_]).{8,16}$/,
            // 普通身份证号正则，isIdCard更为严格
            idCard: /^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/,
            // 简易身份证号 数字+x
            idCardNormal: /^[0-9]\d+([0-9]|X|x)*$/,
            // 手机号
            phone: /^1\d{10}$/,
            // 邮箱
            email: /\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/,
            // 网址
            http: /http:\/\/|https:\/\//,
            // 含0整数（得分）
            score: /^[1-9]\d*|0$/,
            // 整数
            int: /^[1-9]\d*$/,
            // 匹配数字
            number: /^\d*$/,
            // >=0||1位小数
            float1: /^(([1-9]\d*)|0|(0.\d{0,1})|([1-9]\d*.\d{0,1}))$/,
            // >=0||2位小数
            float2: /^(([1-9]\d*)|0|(0.\d{0,2})|([1-9]\d*.\d{0,2}))$/,
            // >=0||3位小数
            float3: /^(([1-9]\d*)|0|(0.\d{0,3})|([1-9]\d*.\d{0,3}))$/,
            // 字母+数字组合
            letterNumber: /^[a-zA-Z0-9]*$/,
            // 字母
            letter: /^[a-zA-Z]*$/,
            // 帐号50个字内：大小写+数字+中文+'_'+'-'
            account: /^[a-zA-Z0-9_\-\u4e00-\u9fa5]{1,50}$/,
            // 中英文姓名 50个字内/中文 中文/英文-. 英文-./
            realName: /^([\u4e00-\u9fa5]{1,50}|[\u4e00-\u9fa5]{1,25}[\s][\u4e00-\u9fa5]{1,24}|[a-zA-Z_\-.]{1,50}|[a-zA-Z_\-.]{1,25}[\s][a-zA-Z_\-.]{1,24})$/,
            // 匹配中文
            cn: /^[\u4e00-\u9fa5]*$/,
            // 匹配ASCII,非中文之外的字符（全角字符）
            ascii: /^[\x20-\x7E]+$/,
        };
    };
    /**
     * @function
     * @description 设置标题
     * @param  {string} argTitle 标题
     */
    const setTitle = (argTitle) => {
        if (typeof globalThis.document === 'object') {
            globalThis.document.title = String(argTitle);
        }
        if (getInfo().isAppleMobile) {
            const i = document.createElement('iframe');
            i.onload = () => {
                setTimeout(() => {
                    console.debug('apple mobile setting title');
                    i.remove();
                }, 10);
            };
            globalThis.document.body.appendChild(i);
        }
    };
    /**
     * @function
     * @description 使用postcss-px2rem时使用
     * @param {number} argBaseSize 基础大小 16px（要跟配置一致）
     * @param {number} argWidth 基准宽度
     */
    const remInit = (argBaseSize = 16, argWidth = 375) => {
        // 设置 rem 函数
        const setRem = () => {
            // 当前页面宽度相对于 argWidth 宽的缩放比例，可根据自己需要修改。
            const scale = safeData(globalThis, 'document.documentElement.clientWidth', argWidth) /
                argWidth;
            // 设置页面根节点字体大小
            safeData(globalThis, 'document.documentElement.style.fontSize', argBaseSize * scale + 'px', true);
        };
        // 初始化
        setRem();
        // 改变窗口大小时重新设置 rem
        globalThis.onresize = () => {
            setRem();
        };
    };
    /**
     * @function
     * @description 获取cookie
     * @param  {string} argName 要获取的值
     * @returns {string}
     */
    const getCookie = (argName) => {
        const cookies = globalThis.document.cookie.split('; ');
        const cookie = cookies.find((cookie) => {
            const [name] = cookie.split('=');
            return argName === name;
        });
        return cookie ? decodeURIComponent(cookie.split('=')[1] || '') : '';
    };
    /**
     * @function
     * @description 设置cookie
     * @param  {string} argName 要设置的key
     * @param  {string} argValue 要设置的value
     * @param  {number} argTime 过期时间/时 默认24小时
     */
    const setCookie = (argName, argValue = '', argTime = 24) => {
        let now = new Date();
        let offset = 8;
        let utc = now.getTime() + now.getTimezoneOffset() * 60000;
        let nd = utc + 3600000 * offset;
        let exp = new Date(nd);
        let domain = globalThis.document.domain;
        exp.setTime(exp.getTime() + argTime * 60 * 60 * 1000);
        globalThis.document.cookie =
            argName +
                '=' +
                encodeURIComponent(argValue) +
                ';path=/;expires=' +
                exp.toUTCString() +
                ';domain=' +
                domain +
                ';';
    };
    /**
     * @function
     * @description 清除cookie
     * @param  {string} argName 要清除的值
     */
    const delCookie = (argName = '') => {
        setCookie(argName, '', -1);
    };
    /**
     * @function
     * @description 检测浏览器状态，系统状态 *
     * @returns {Info} {
     * ua: ua,
     * platform: 平台,
     * isMobile: 移动端,
     * isWin: winPC端,
     * isIphone: iphone,
     * isIpad: ipad,
     * isMac: mac,
     * isAppleMobile: 苹果移动端webview
     * isSafari: Safari浏览器,
     * isIos: Ios平台,
     * isAndroid: android平台,
     * isIE: 显示8 9 10, true为11以上
     * ...
     * }
     */
    const getInfo = () => {
        let ua = safeData(globalThis, 'navigator.userAgent', '').toLowerCase();
        let platform = safeData(globalThis, 'navigator.userAgentData.platform', '').toLowerCase();
        let info = {
            ua: ua,
            platform: platform,
            isMobile: !!ua.match(/mobile/),
            isWin: !!platform.match('win'),
            isIphone: !!ua.match(/iphone/),
            isIpad: !!ua.match(/ipad/),
            isMac: !!platform.match('mac'),
            isIos: !!platform.match('ios'),
            isAndroid: !!platform.match('android'),
            isSafari: ua.indexOf('safari') > -1 &amp;&amp; ua.indexOf('chrome') &lt; 1,
            isIE: 'ActiveXObject' in globalThis,
            ieVersion: 0,
            isAppleMobile: false,
            isWeixin: !!ua.match(/MicroMessenger/i),
            isAlipay: !!ua.match(/Alipay/i),
        };
        if (info.ua.match('msie')) {
            let IE = info.ua.match(/msie\s([0-9]*)/);
            if (IE &amp;&amp; IE.length >= 2) {
                info.ieVersion = +IE[1];
            }
        }
        info.isAppleMobile = !!(info.isMobile &amp;&amp;
            ua.toLowerCase().indexOf('applewebkit') &amp;&amp;
            ua.indexOf('chrome') &lt; 1);
        return info;
    };
    /**
     * @function
     * @description 获取随机颜色
     * @return string
     */
    const getRandomColor = function () {
        return ('#' +
            ('00000' + ((Math.random() * 0x1000000) &lt;&lt; 0).toString(16)).substring(-6));
    };
    /**
     * @function
     * @description 获取storage的值，默认将json转为obj
     * @param {string} argKey 要获取的key
     * @param {string} argNoJson true时不自动转换JSON字符串
     * @returns {any} key对应的数据
     */
    const getStorage = (argKey, argNoJson) => {
        let res = globalThis.localStorage.getItem(argKey);
        // 默认转义JSON字符串
        if (!argNoJson &amp;&amp; isJson(res) &amp;&amp; res) {
            res = JSON.parse(res);
        }
        return res || '';
    };
    /**
     * @function
     * @description 设置storage的值，默认将obj转为json
     * @param {string} argKey 要获取的key
     * @param {unknown} argData 要保存的数据
     * @returns {string} 保存的数据String
     */
    const setStorage = (argKey, argData) => {
        if (typeof argData === 'object') {
            argData = JSON.stringify(argData);
        }
        globalThis.localStorage.setItem(argKey, String(argData));
        return String(argData);
    };
    /**
     * @function
     * @description setTimeout promise版
     * @param  {number} ms 时间，毫秒
     */
    const sleep = (ms) => {
        return new Promise((resolve) => setTimeout(resolve, ms));
    };
    /**
     * @function
     * @description 数据安全访问
     * @param  {any} argData  [原始数据]
     * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']
     * @param  {any} argValue [如果数据有误，返回的值，选填]
     * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]
     * @returns {any}
     */
    const safe = function safe(argData, argCheck, argValue, argSetValueForce) {
        if (!argData) {
            return argValue;
        }
        if (typeof argCheck !== 'string' &amp;&amp; typeof argCheck !== 'number') {
            console.warn('argCheck请传入string当前为:' + argCheck);
            return '';
        }
        const temKey = argCheck.toString().split('.');
        const temLen = temKey.length;
        if (temLen > 1) {
            for (let i = 0; i &lt; temLen - 1; i++) {
                if (typeof argData[temKey[i]] !== 'object') {
                    if (argSetValueForce) {
                        console.warn('safeData setValue err：', argData, 'index:', i);
                    }
                    return argValue;
                }
                argData = argData[temKey[i]] || {};
            }
        }
        if (argSetValueForce) {
            argData[temKey[temLen - 1]] = argValue;
        }
        if (typeof argValue === 'undefined') {
            return argData[temKey[temLen - 1]];
        }
        else {
            return argData[temKey[temLen - 1]] || argValue;
        }
    };
    /**
     * @function
     * @description 数据安全访问
     * @param  {any} argData  [原始数据]
     * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']
     * @param  {any} argValue [如果数据有误，返回的值，选填]
     * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]
     * @returns {any}
     */
    const safeData = (argData, argCheck, argValue, argSetValueForce) => {
        if (typeof argCheck !== 'string' &amp;&amp; typeof argCheck !== 'number') {
            console.warn('argCheck请传入string当前为:' + argCheck);
            return '';
        }
        const temKey = argCheck.toString().split('.');
        const temLen = temKey.length;
        if (!argData) {
            return argValue;
        }
        if (temLen > 1) {
            for (let i = 0; i &lt; temLen - 1; i++) {
                if (typeof argData[temKey[i]] !== 'object') {
                    if (argSetValueForce) {
                        console.warn('safeData setValue err：', argData, 'index:', i);
                    }
                    return argValue;
                }
                argData = argData[temKey[i]] || {};
            }
        }
        if (argSetValueForce) {
            argData[temKey[temLen - 1]] = argValue;
        }
        if (typeof argValue === 'undefined') {
            return argData[temKey[temLen - 1]];
        }
        else {
            return argData[temKey[temLen - 1]] || argValue;
        }
    };
    /**
     * @description obj转url参数
     * @function
     * @param {any} argParams 参数对象
     * @param {boolean?} noMark 默认带?,true时,不带
     * @returns {string}
     */
    const setUrlParams = (argParams, noMark) => {
        let re = '';
        if (!noMark) {
            re = '?';
        }
        let paramsList = Object.keys(argParams);
        let temLength = paramsList.length;
        if (!temLength) {
            return '';
        }
        paramsList.map((v, k) => {
            re += v + '=' + argParams[v];
            if (k &lt; temLength - 1) {
                re += '&amp;';
            }
        });
        return re;
    };
    /**
     * @description 获取url参数
     * @function
     * @param {string} argName 要获取的key
     * @param {string} argUrl url数据
     * @returns {string}
     */
    const getUrlParam = (argName, argUrl = globalThis.location.search || '') => {
        let result = argUrl.match(new RegExp('[?&amp;]' + argName + '=([^&amp;]+)', 'i'));
        if (!result) {
            return '';
        }
        return decodeURIComponent(result[1]);
    };
    /**
     * @description 获取所有url参数，eg: a=1&amp;b=2 to {a:1,b:2}
     * @function
     * @param {string} argData 要处理的数据
     * @returns {any}
     */
    const getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {
        const res = {};
        try {
            argData
                .slice(argData.indexOf('?') + 1)
                .split('&amp;')
                .forEach((v) => {
                const [key, val] = v.split('=');
                if (key !== v) {
                    res[key] = decodeURIComponent(val);
                }
            });
            return res;
        }
        catch (e) {
            console.error('转换失败', e);
            return res;
        }
        // let temObj = new URLSearchParams(argData)
        // let resObj = {}
        // for (const [key, value] of temObj) {
        //   resObj[key] = value
        // }
        // return resObj
    };
    /**
     * @description 通过正则匹配修改当前页面的url中的参数
     * @function
     * @param  {string} name key
     * @param  {string | number| undefined | null} value 要替换的value
     * @param  {string} url 要替换的网址,默认location.href
     * @returns {string}
     */
    const replaceUrlParam = (name, value, url = globalThis.location.href || '') => {
        const reg = new RegExp('([?]|&amp;)(' + name + '=)([^&amp;#]*)([&amp;]?|$)', 'img');
        const r = url.match(reg);
        const search = url.split('?');
        let strValue = url;
        if (value === undefined || value === null) {
            if (r != null) {
                strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {
                    if (!p4 || !p4.length) {
                        return '';
                    }
                    else if (p1 === p4) {
                        return p1;
                    }
                    return p1 + p4;
                });
                strValue = strValue.replace('?&amp;', '?');
            }
        }
        else if (r != null) {
            strValue = url.replace(reg, `$1$2${value}$4`);
        }
        else if (search.length > 1) {
            const sub = search[1].split('#');
            if (sub.length > 1) {
                if (sub[1].length) {
                    strValue = `${search[0]}?${sub[0]}&amp;${name}=${value}#${sub[1]}`;
                }
                else {
                    strValue = `${search[0]}?${sub[0]}&amp;${name}=${value}${sub[1]}`;
                }
            }
            else {
                strValue = `${search[0]}?${search[1]}&amp;${name}=${value}`;
            }
        }
        else {
            // 不存在?时,搜索hash
            const sub = url.split('#');
            if (sub.length > 1) {
                strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;
            }
            else {
                strValue = `${url}?${name}=${value}`;
            }
        }
        return strValue;
    };
    /**
     * @function
     * @description 获取简单uuid
     * @returns {string} uuid
     */
    const getUuid = () => {
        const S4 = () => (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
        return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now();
    };
    /**
     * @function
     * @description 获取随机数,含最大值，含最小值
     * @param  {number} min 最小值
     * @param  {number} max 最大值
     * @returns {number}
     */
    const randomInt = (min = 0, max = 100) => {
        min = Math.ceil(min);
        max = Math.floor(max);
        // 含最大值，含最小值
        return Math.floor(Math.random() * (max - min + 1)) + min;
    };
    /**
     * @function
     * @description 设置env参数，一般在main.js中调用
     * @param  {AnyObject} env 要设置的值
     */
    const setEnv = (env) => {
        ENV = env;
    };
    /**
     * @function
     * @description 获取env参数
     * @param  {string} key 要获取的值
     * @returns {string} 获取的值
     */
    const getEnv = (key) => {
        return safeData(ENV, key, '');
    };
    /**
     * @function
     * @description 设置object参数,可做运行时缓存
     * @param  {string} key 要设置的key
     * @param  {AnyObject} data 要设置的值
     * @returns {AnyObject}
     */
    const setObj = (key, data) => {
        if (!key) {
            DATA_OBJECT = data;
        }
        else {
            DATA_OBJECT[key] = data;
        }
        return DATA_OBJECT;
    };
    /**
     * @function
     * @description 获取object参数
     * @param  {string} key 要获取的值
     * @param  {string} argData 要合并的值
     * @param  {boolean} isDeepCopy 是否深拷贝
     * @returns {AnyObject} 获取的值
     */
    const getObj = (key, argData, isDeepCopy) => {
        let res = safeData(DATA_OBJECT, key, {});
        if (argData) {
            res = Object.assign(res, argData);
        }
        if (!isDeepCopy) {
            return res;
        }
        else {
            return JSON.parse(JSON.stringify(res));
        }
    };
    /**
     * @function
     * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug
     * @param {AnyObject} logConfig 重写配置
     * @param {function} logConfig.error 错误日志回调（做额外处理用）
     */
    const setLog = (logLevel, logConfig) => {
        // 1 error 2 warn 3 info 4 log 5 debug
        logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4;
        const logList = ['log', 'info', 'warn', 'error'];
        const log = {};
        logList.forEach((v) => {
            log[v] = console[v];
        });
        for (let key in logConfig) {
            if (console[key]) {
                console[key] = (...arg) => {
                    var _a, _b;
                    log[key](...arg, (_a = Error().stack) === null || _a === void 0 ? void 0 : _a.split('\n')[2]);
                    // 回调处理
                    logConfig[key] &amp;&amp; logConfig[key](...arg, (_b = Error().stack) === null || _b === void 0 ? void 0 : _b.split('\n')[2]);
                };
            }
        }
        switch (+logLevel) {
            case 1:
                console.warn = () => { };
            case 2:
                console.info = () => { };
            case 3:
                console.log = () => { };
            case 4:
                console.debug = () => { };
        }
        // return log
    };
    /**
     * @function
     * @description深拷贝函数
     * @param obj 需要拷贝的对象
     * @returns 拷贝后的对象
     */
    const deepCopy = (obj) => {
        if (typeof obj !== 'object' || obj === null) {
            return obj;
        }
        let copy = Array.isArray(obj) ? [] : {};
        for (let key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
                copy[key] = deepCopy(obj[key]);
            }
        }
        return copy;
    };

    /******************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */

    function __awaiter(thisArg, _arguments, P, generator) {
        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
            function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }

    /**
     * @module index
     * @author linjielinlin 993353454@qq.com
     * @date 2022-05-11 22:07:43
     * @description 文件相关处理
     */
    /**
     * 描述
     * @function
     * @description blob转base64
     * @date 2020-03-01
     * @param {Blob} argBlob 要处理的数据
     * @returns {Promise} 返回base64
     */
    const blobToBase64 = (argBlob) => __awaiter(void 0, void 0, void 0, function* () {
        // eslint-disable-next-line no-undef
        const fileReader = new FileReader();
        fileReader.readAsDataURL(argBlob);
        fileReader.onload = (e) => {
            return Promise.resolve(e &amp;&amp; e.target &amp;&amp; e.target.result);
        };
        fileReader.onerror = () => {
            return Promise.reject(new Error('文件流异常'));
        };
    });
    /**
     * 描述
     * @function
     * @description blobUrl 转 file文件
     * @date 2020-03-01
     * @param {string} argData blobUrl
     * @returns {Promise} 返回文件流
     */
    const blobUrlToFile = (argData) => __awaiter(void 0, void 0, void 0, function* () {
        return new Promise(function (resolve, reject) {
            // eslint-disable-next-line no-undef
            var xhr = new XMLHttpRequest();
            xhr.open('GET', argData, true);
            xhr.responseType = 'blob';
            xhr.onload = function (e) {
                if (this.status === 200) {
                    return resolve(this.response);
                }
            };
            xhr.onerror = (err) => {
                return reject(err);
            };
            xhr.send();
        });
    });
    /**
     * @function
     * @description 图片dataUrl base64转blob对象
     * @param {string} argData dataUrl
     * @returns {Blob}
     */
    const dataURLtoBlob = (argData) => {
        if (!argData.match(/;base64,/)) {
            return new Blob();
        }
        let arr = argData.split(',');
        let mime = safeData(arr[0].match(/:(.*?);/), '1', '');
        if (!mime) {
            return new Blob();
        }
        let bstr = globalThis.atob(arr[1]);
        let n = bstr.length;
        let u8arr = new Uint8Array(n);
        while (n--) {
            u8arr[n] = bstr.charCodeAt(n);
        }
        return new Blob([u8arr], { type: mime });
    };
    /**
     * @function
     * @description blob转file对象
     * @param {Blob} argBlob blob对像
     * @param {string} argName filename
     * @returns {File}
     */
    const blobToFile = (argBlob, argName = Date.now().toString()) => {
        let file = new File([argBlob], argName, {
            type: argBlob.type,
        });
        return file;
    };
    /**
     * @function
     * @description 下载文件
     * @param {string|Blob|File} argData blob对像/file对象/dataUrl/base64
     * @param {string} argName filename
     * @param {number} argDelTime 移除dateUrl时间
     */
    const dlFile = (argData, argName = Date.now().toString(), argDelTime = 10000) => {
        let downNode = globalThis.document.createElement('a');
        downNode.download = argName;
        // 字符内容转换为blob地址
        let href = '';
        if (typeof argData === 'string') {
            if (argData.startsWith('blob:')) {
                href = argData;
            }
            else if (argData.startsWith('data:image')) {
                href = argData;
            }
            argData = new Blob([argData]);
        }
        href = href || URL.createObjectURL(argData);
        downNode.href = href;
        setTimeout(() => {
            URL.revokeObjectURL(href);
        }, argDelTime);
        globalThis.document.body.appendChild(downNode);
        downNode.click();
        globalThis.document.body.removeChild(downNode);
    };
    /**
     * @function
     * @description 获取音视频时长
     * @param {Blob|File|string} argFile 音视频数据，string时为链接
     * @returns {Promise} 时长单位秒
     */
    const getDuration = (argFile) => __awaiter(void 0, void 0, void 0, function* () {
        let filePath;
        if (typeof argFile === 'string') {
            filePath = argFile;
        }
        else {
            filePath = URL.createObjectURL(argFile);
        }
        return new Promise((resolve, reject) => {
            const audio = new Audio(filePath);
            audio.addEventListener('loadedmetadata', function (e) {
                if (filePath.startsWith('blob:')) {
                    URL.revokeObjectURL(filePath);
                }
                const duration = audio.duration;
                audio.src = '';
                return resolve(duration);
            });
            setTimeout(() => {
                return reject(new Error('读取时长超时'));
            }, 5000);
        });
    });
    /**
     * @function
     * @description 动态加载html文件标签
     * @param {string} argUrl 要加载的url
     * @param {string} argType 加载类型 js/css
     * @param {object} argOptions{
     * disCheck:'不检查是否有相同标签'
     * force:'如果有相同标签，先删除再添加'
     * } 是否强制添加
     * @return {Promise}
     */
    const loadFile = (argUrl, argType = 'js', argOptions = {}) => {
        let temId = argType + '-' + argUrl.split('/').pop();
        let head = globalThis.document.getElementsByTagName('head')[0];
        let nodeTag;
        if (!argOptions.disCheck) {
            let checkTag = globalThis.document.getElementById(temId);
            // 已经存在对应tag
            if (checkTag) {
                if (argOptions.force) {
                    head.removeChild(checkTag);
                }
                else {
                    return Promise.resolve({ msg: '已存在，中断加载！' });
                }
            }
        }
        switch (argType) {
            case 'css':
                nodeTag = globalThis.document.createElement('link');
                nodeTag.type = 'text/css';
                nodeTag.rel = 'stylesheet';
                nodeTag.href = argUrl;
                break;
            case 'js':
                nodeTag = globalThis.document.createElement('script');
                nodeTag.src = argUrl;
                nodeTag.type = 'text/javascript';
                break;
            default:
                console.error('暂不支持：' + argType);
                return Promise.reject({ msg: '暂不支持：' + argType });
        }
        nodeTag.id = temId;
        head.appendChild(nodeTag);
        return new Promise((resolve) => {
            if (nodeTag.readyState) {
                nodeTag.onreadystatechange = function () {
                    if (nodeTag.readyState === 'complete') {
                        nodeTag.onreadystatechange = null;
                        return resolve(argUrl);
                    }
                };
            }
            else {
                // Others
                nodeTag.onload = function () {
                    return resolve(argUrl);
                };
            }
        });
    };

    /**
     * @module index
     * @author linjielinlin 993353454@qq.com
     * @date 2022-05-11 22:07:43
     * @description 类型转换相关处理
     */
    /**
     * @function
     * @description 转义html标签
     * @param  {string} argHtml 需要转义的文本
     * @returns {string}
     */
    const encodeHtml = (argHtml) => {
        if (!argHtml || argHtml.length === 0) {
            return '';
        }
        const htmlEntities = {
            '&amp;': '&amp;amp;',
            '&lt;': '&amp;lt;',
            '>': '&amp;gt;',
            "'": '&amp;apos;',
            '"': '&amp;quot;',
            ' ': '&amp;nbsp;',
            '\n': '&lt;br>',
        };
        return argHtml.replace(/[&amp;&lt;>"' \n]/g, function (char) {
            return htmlEntities[char];
        });
    };
    /**
     * @function
     * @description 反转义html标签
     * @param  {string} argHtml 需要反转义的文本
     * @returns {string}
     */
    const decodeHtml = (argHtml) => {
        const htmlEntities = {
            quot: '"',
            apos: "'",
            lt: '&lt;',
            gt: '>',
            nbsp: ' ',
            amp: '&amp;',
        };
        return argHtml.replace(/&amp;([^;]+);/g, (match, entity) => {
            return htmlEntities[entity] || match;
        });
    };
    /**
     * @function
     * @description 显示人民币价格
     * @param  {unknown} argData 价格
     * @param  {number} argRate -1 保留多少位小数
     * @param  {string} argUnit ￥ 单位
     * @param  {string} argDef 空数据默认值
     * @returns {string} eg: ￥100
     */
    const rmbPrice = (argData, argRate = -1, argUnit = '￥', argDef = '--') => {
        if (typeof argData === 'string' || typeof argData === 'number') {
            if (!argData &amp;&amp; argData !== 0) {
                return argDef;
            }
        }
        else {
            return argDef;
        }
        argData = Number(argData);
        if (argRate > -1) {
            argData = +toFixed(argData, argRate);
        }
        return argUnit + argData;
    };
    /**
     * @description 日期格式化显示
     * @function
     * @param  {string|number} date 时间对象\时间戳，默认当前时间
     * @param  {string} fmt 格式化符串，默认'YYYY-MM-DD HH:mm:ss' E为星期数，EEE:星期一 q为季度，S为毫秒数
     * @param  {string} emptyTip date为false时，默认''
     * @returns {string}
     */
    const formatTime = (date = +new Date(), fmt = 'YYYY-MM-DD HH:mm:ss', emptyTip = '') => {
        if (!date &amp;&amp; date !== 0) {
            return emptyTip;
        }
        if (isNaN(+date)) {
            return emptyTip;
        }
        if (typeof date === 'number') {
            if (date.toString().length === 10) {
                date = date * 1000;
            }
        }
        date = new Date(+date);
        const fmtMap = {
            'M+': date.getMonth() + 1,
            'D+': date.getDate(),
            'h+': date.getHours() % 12 === 0 ? 12 : date.getHours() % 12,
            'H+': date.getHours(),
            'm+': date.getMinutes(),
            's+': date.getSeconds(),
            'q+': Math.floor((date.getMonth() + 3) / 3),
            S: date.getMilliseconds(),
        };
        const week = {
            0: '\u65e5',
            1: '\u4e00',
            2: '\u4e8c',
            3: '\u4e09',
            4: '\u56db',
            5: '\u4e94',
            6: '\u516d',
        };
        const temY = fmt.match(/(Y+)/);
        if (temY) {
            fmt = fmt.replace(temY[0], (date.getFullYear() + '').substring(4 - temY[0].length));
        }
        const temWeek = fmt.match(/(E+)/);
        if (temWeek) {
            const temWeekName = ['', '\u5468'];
            fmt = fmt.replace(temWeek[0], (temWeekName[temWeek[0].length] || '\u661f\u671f') +
                safeData(week, date.getDay().toString(), ''));
        }
        for (let k in fmtMap) {
            let temMatch = fmt.match(new RegExp('(' + k + ')'));
            if (temMatch) {
                fmt = fmt.replace(temMatch[0], temMatch[0].length === 1
                    ? fmtMap[k].toString()
                    : ('00' + fmtMap[k].toString()).substring(('' + fmtMap[k]).length));
            }
        }
        return fmt;
    };
    /**
     * @description 日期格式化友好显示 刚刚 x分钟前 ...，超过一年的按 fmt来格式化
     * @function
     * @param  {string|number|Date} date 时间对象\时间戳，默认当前时间
     * @param  {string} fmt 格式化符串，默认'YYYY-MM-DD HH:mm:ss'
     * @param  {string} emptyTip date为false时，默认''
     * @returns {string}
     */
    const friendlyTime = (date = +new Date(), fmt = 'YYYY-MM-DD HH:mm:ss', emptyTip = '') => {
        if (!date &amp;&amp; date !== 0) {
            return emptyTip;
        }
        if (isNaN(+date)) {
            return emptyTip;
        }
        if (typeof date === 'number' || typeof date === 'string') {
            if (date.toString().length === 10) {
                date = date.toString() + '000';
            }
        }
        date = new Date(+date);
        let diff = (new Date().getTime() - date.getTime()) / 1000;
        let dayDiff = Math.floor(diff / 86400);
        let isValidDate = Object.prototype.toString.call(date) === '[object Date]' &amp;&amp;
            !isNaN(date.getTime());
        if (!isValidDate) {
            console.warn('friendlyTime:', 'not a valid date');
            return emptyTip || '--';
        }
        if (isNaN(dayDiff) || dayDiff &lt; 0 || dayDiff >= 365) {
            return formatTime(date, fmt);
        }
        return ((dayDiff === 0 &amp;&amp;
            ((diff &lt; 60 &amp;&amp; '刚刚') ||
                (diff &lt; 120 &amp;&amp; '1分钟前') ||
                (diff &lt; 3600 &amp;&amp; Math.floor(diff / 60) + '分钟前') ||
                (diff &lt; 7200 &amp;&amp; '1小时前') ||
                (diff &lt; 86400 &amp;&amp; Math.floor(diff / 3600) + '小时前'))) ||
            (dayDiff === 1 &amp;&amp; '昨天') ||
            (dayDiff &lt; 7 &amp;&amp; dayDiff + '天前') ||
            (dayDiff &lt; 31 &amp;&amp; Math.ceil(dayDiff / 7) + '周前') ||
            (dayDiff &lt; 365 &amp;&amp; Math.ceil(dayDiff / 31) + '月前')).toString();
    };
    /**
     * @function
     * @description px转vw
     * @param {number} argPx px
     * @param {number} argWith px对应最大宽度
     * @param {number} argNum 保留小数
     * @param {string} argUnit 单位 'vw'||'%'
     * @return {string}
     */
    const px2vw = (argPx, argWith = 375, argNum = 6, argUnit = 'vw') => {
        return +toFixed((100 / argWith) * argPx, argNum) + argUnit;
    };
    /**
     * @function
     * @description 秒转倒计时
     * @param {number} argData 秒数
     * @param {Object} argOption - 配置项
     * @param {string} argOption.s - 秒的单位，默认为'秒'
     * @param {string} argOption.m - 分的单位，默认为'分'
     * @param {string} argOption.h - 时的单位，默认为'时'
     * @param {string} argOption.d - 天的单位，默认为'天'
     * @param {string} argOption.M - 月的单位，默认为'月'
     * @param {string} argOption.y - 年的单位，默认为'年'
     * @param {string} argOption.minUtil 最小显示的时间单位，小于该单位的舍去，默认为's'
     * @param {string} argOption.maxUnit 最大的时间单位,默认为'y'，大于该单位的合入该单位 's,m,h,d,M,y 对应 秒 分 时 天 月 年'，eg: 'm' '13月'
     * @param {boolean} argOption.hideZero - 是否隐藏为0的时间单位，默认为false,如 01h05s
     * @param {boolean} argOption.isAddZero - 是否小于10时，是否添加0，默认为true
     * @returns {string}
     */
    const secondToTime = (argData, argOption = {}) => {
        var _a;
        let res = [];
        const { s = '秒', m = '分', h = '时', d = '天', M = '月', y = '年', minUnit = 's', maxUnit = 'y', isAddZero = true, } = argOption;
        const listObj = {
            s: {
                size: 1,
                type: 's',
                unit: s,
                index: 0,
            },
            m: {
                size: 60,
                unit: m,
                type: 'm',
                index: 1,
            },
            h: {
                size: 60,
                unit: h,
                type: 'h',
                index: 2,
            },
            d: {
                size: 24,
                unit: d,
                type: 'd',
                index: 3,
            },
            M: {
                size: 30,
                unit: M,
                type: 'M',
                index: 4,
            },
            y: {
                size: 12,
                unit: y,
                type: 'y',
                index: 5,
            },
        };
        let list = [listObj.s, listObj.m, listObj.h, listObj.d, listObj.M, listObj.y];
        let temLen = list.length;
        let second = argData;
        let size = 1;
        let index = 0;
        for (let i = 0; i &lt; temLen; i++) {
            let lastSize = size;
            if (maxUnit === list[i].type) {
                let temTime = Math.floor(second / lastSize);
                if (isAddZero &amp;&amp; temTime &lt; 10) {
                    temTime = '0' + temTime;
                }
                res.unshift(temTime);
                index = temLen - i - 1;
                break;
            }
            size = size * (((_a = list[i + 1]) === null || _a === void 0 ? void 0 : _a.size) || 0) || 1;
            let time = Math.floor((second % size) / lastSize);
            if (isAddZero &amp;&amp; time &lt; 10) {
                time = '0' + time;
            }
            res.unshift(time);
        }
        let timeText = '';
        let isZero = true;
        temLen = res.length;
        for (let i = 0; i &lt; temLen; i++) {
            const v = res[i];
            if (!+v &amp;&amp; (isZero || argOption.hideZero)) ;
            else {
                isZero = false;
                timeText += v + list[5 - (index + i)].unit;
                if (minUnit === list[5 - (index + i)].type) {
                    break;
                }
            }
        }
        return timeText;
    };
    /**
     * @function
     * @description 容量单位转换
     * @param {number} argData byte数据
     * @param {number} argNum 保留小数位
     * @param {number} argIndex 起始单位偏移eg: 0:b 1:k 2:m
     * @param {number} argRate 进制
     * @param {string[]} unit 进制
     * @returns {string} 计算结果
     */
    const formatSize = (argData, argNum = 2, argIndex = 0, argRate = 1024, unit = ['B', 'K', 'M', 'G', 'T', 'P']) => {
        let list = unit;
        if (!argData) {
            return '0' + list[argIndex];
        }
        let len = list.length;
        let nowIndex = len - 1;
        let temData = 0;
        for (let i = 0; i &lt; len; i++) {
            temData = argData / Math.pow(argRate, i);
            if (temData &lt; argRate) {
                nowIndex = argIndex + i;
                break;
            }
        }
        return +toFixed(temData, argNum) + list[nowIndex];
    };
    /**
     * @function
     * @description 数量单位转换k/w
     * @param {number} argData 数据
     * @param {number} argNum 保留小数位
     * @returns {string} 计算结果
     */
    const formatNumber = (argData, argNum = 2) => {
        if (argData &lt; 1000) {
            return argData.toString();
        }
        else if (argData &lt; 10000) {
            return +toFixed(argData / 1000, argNum) + 'k';
        }
        else {
            return +toFixed(argData / 10000, argNum) + 'w';
        }
    };
    /**
     * object 转为 list，list item 具体是什么取决于传入的 getItem 函数
     * @param map
     * @param getItem
     * @return getItem()[]
     */
    function toList(map, getItem) {
        const list = [];
        Object.keys(map).forEach((key) => {
            // @ts-ignore, trust me.
            const item = getItem(key, map[key]);
            list.push(item);
        });
        return list;
    }
    /**
     * 描述
     * @function
     * @description 数据中间加星号
     * @param {string|number} argData 要处理的数据
     * @param {number} argStart=3 前端显示多少位
     * @param {number} argEnd=4 后面显示多少位
     * @returns {string} 返回处理好的数据
     */
    const hideInfo = (argData = '', argStart = 3, argEnd = 4) => {
        argData = String(argData);
        let temLen = argData.length;
        let temSL = argData.length - argEnd - argStart;
        let start = '';
        if (temSL > 0) {
            for (let i = 0; i &lt; temSL; i++) {
                start += '*';
            }
            argData =
                argData.substring(0, argStart) +
                    start +
                    argData.substring(temLen - argEnd, temLen);
        }
        return argData;
    };
    /**
     * 描述
     * @function
     * @description 10进制转62进制,用于短网址转换
     * @date 2020-03-01
     * @param {number|string} argData 要处理的数据
     * @returns {string} 返回处理好的数据
     */
    const string10to62 = (argData) => {
        let chars = '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'.split('');
        let radix = chars.length;
        let data = +argData;
        let arr = [];
        do {
            let mod = data % radix;
            data = (data - mod) / radix;
            arr.unshift(chars[mod]);
        } while (data);
        return arr.join('');
    };
    /**
     * 描述
     * @function
     * @description 62进制转10进制,用于短网址转换
     * @date 2020-03-01
     * @param {string} argData 要处理的数据
     * @returns {number} 返回处理好的数据
     */
    const string62to10 = (argData) => {
        let chars = '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ';
        let radix = chars.length;
        let len = argData.length;
        let i = 0;
        let resNum = 0;
        while (i &lt; len) {
            resNum +=
                Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || '0');
        }
        return resNum;
    };
    /**
     * 描述
     * @function
     * @description toFixed处理
     * @date 2020-03-01
     * @param {string|number} argData 要处理的数据
     * @param {number} argNum 要保留位数,默认返回2位小数
     * @param {string} argType 返回类型，round:默认四舍五入,floor:向下取整,ceil:向上取整,abs:绝对值
     * @returns {string} 返回处理好的数据
     */
    const toFixed = (argData, argNum = 2, argType = 'round') => {
        if (isNaN(+argData)) {
            return '';
        }
        const data = Math[argType](+argData * Math.pow(10, argNum)) / Math.pow(10, argNum);
        return data.toFixed(argNum);
    };
    /**
     * @function
     * @description 将驼峰字符串转换为下划线字符串
     * @param {string} argData 要转换的字符串
     * @param {string} argUnit 要转换的字符，默认为“_”
     * @return {string} 转换后的下划线字符串
     */
    const toLine = (argData, argUnit = '_') => {
        return argData.replace(/([A-Z])/g, argUnit + '$1').toLowerCase();
    };
    /**
     * @function
     * @description 将下划线字符串转换为驼峰字符串
     * @param {string} argData 要转换的字符串
     * @param {string} argUnit 要转换的字符，默认为“_”
     * @return {string} 转换后的驼峰字符串
     */
    const toHump = (argData, argUnit = '_') => {
        return argData.replace(new RegExp('\\' + argUnit + '(\\w)', 'g'), (_, letter) => {
            return letter.toUpperCase();
        });
    };

    exports.blobToBase64 = blobToBase64;
    exports.blobToFile = blobToFile;
    exports.blobUrlToFile = blobUrlToFile;
    exports.dataURLtoBlob = dataURLtoBlob;
    exports.decodeHtml = decodeHtml;
    exports.deepCopy = deepCopy;
    exports.delCookie = delCookie;
    exports.dlFile = dlFile;
    exports.encodeHtml = encodeHtml;
    exports.formatNumber = formatNumber;
    exports.formatSize = formatSize;
    exports.formatTime = formatTime;
    exports.friendlyTime = friendlyTime;
    exports.getCookie = getCookie;
    exports.getDuration = getDuration;
    exports.getEnv = getEnv;
    exports.getInfo = getInfo;
    exports.getNetworkStatus = getNetworkStatus;
    exports.getObj = getObj;
    exports.getRandomColor = getRandomColor;
    exports.getRegexp = getRegexp;
    exports.getStorage = getStorage;
    exports.getUrlParam = getUrlParam;
    exports.getUrlParamObj = getUrlParamObj;
    exports.getUuid = getUuid;
    exports.hideInfo = hideInfo;
    exports.isBlob = isBlob;
    exports.isFile = isFile;
    exports.isIdCard = isIdCard;
    exports.isJson = isJson;
    exports.isPrime = isPrime;
    exports.loadFile = loadFile;
    exports.px2vw = px2vw;
    exports.randomInt = randomInt;
    exports.remInit = remInit;
    exports.replaceUrlParam = replaceUrlParam;
    exports.rmbPrice = rmbPrice;
    exports.safe = safe;
    exports.safeData = safeData;
    exports.secondToTime = secondToTime;
    exports.setCookie = setCookie;
    exports.setEnv = setEnv;
    exports.setLog = setLog;
    exports.setObj = setObj;
    exports.setStorage = setStorage;
    exports.setTitle = setTitle;
    exports.setUrlParams = setUrlParams;
    exports.sleep = sleep;
    exports.string10to62 = string10to62;
    exports.string62to10 = string62to10;
    exports.toFixed = toFixed;
    exports.toHump = toHump;
    exports.toLine = toLine;
    exports.toList = toList;

}));
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.11</a> on Thu May 25 2023 07:50:21 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



    <script src="scripts/baidu.js"></script>
    
    <script src="https://npm.elemecdn.com/lj-utils/index.umd.js"></script>
    
</body>
</html>
