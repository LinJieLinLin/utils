window.jest_html_reporters_callback__({"numFailedTestSuites":0,"numFailedTests":0,"numPassedTestSuites":9,"numPassedTests":66,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":9,"numTotalTests":66,"startTime":1706283595442,"success":false,"testResults":[{"leaks":false,"numFailingTests":0,"numPassingTests":18,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1706283596194,"runtime":354,"slow":false,"start":1706283595840},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/transform.spec.ts","testResults":[{"rowKey":0,"ancestorTitles":["transform"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"transform rmbPrice","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"rmbPrice"},{"rowKey":1,"ancestorTitles":["transform"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"transform formatTime","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"formatTime"},{"rowKey":2,"ancestorTitles":["transform"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"transform friendlyTime","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"friendlyTime"},{"rowKey":3,"ancestorTitles":["transform"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"transform px2vw","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"px2vw"},{"rowKey":4,"ancestorTitles":["transform"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"transform secondToTime","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"secondToTime"},{"rowKey":5,"ancestorTitles":["transform"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"transform formatSize","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"formatSize"},{"rowKey":6,"ancestorTitles":["transform"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"transform formatNumber","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"formatNumber"},{"rowKey":7,"ancestorTitles":["transform"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"transform encodeHtml","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"encodeHtml"},{"rowKey":8,"ancestorTitles":["transform"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"transform decodeHtml","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"decodeHtml"},{"rowKey":9,"ancestorTitles":["transform"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"transform hideInfo","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"hideInfo"},{"rowKey":10,"ancestorTitles":["transform"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"transform toFixed","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"toFixed"},{"rowKey":11,"ancestorTitles":["transform"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"transform toLine","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"toLine"},{"rowKey":12,"ancestorTitles":["transform"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"transform toHump","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"toHump"},{"rowKey":13,"ancestorTitles":["transform"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"transform string10to62","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"string10to62"},{"rowKey":14,"ancestorTitles":["transform"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"transform string62to10","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"string62to10"},{"rowKey":15,"ancestorTitles":["transform"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"transform arrayToObj","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"arrayToObj"},{"rowKey":16,"ancestorTitles":["transform"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"transform objToArray","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"objToArray"},{"rowKey":17,"ancestorTitles":["transform"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"transform objToObj","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"objToObj"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  arrayToObj: () => arrayToObj,\n  decodeHtml: () => decodeHtml,\n  encodeHtml: () => encodeHtml,\n  formatNumber: () => formatNumber,\n  formatSize: () => formatSize,\n  formatTime: () => formatTime,\n  friendlyTime: () => friendlyTime,\n  hideInfo: () => hideInfo,\n  objToArray: () => objToArray,\n  objToObj: () => objToObj,\n  px2vw: () => px2vw,\n  rmbPrice: () => rmbPrice,\n  secondToTime: () => secondToTime,\n  string10to62: () => string10to62,\n  string62to10: () => string62to10,\n  toFixed: () => toFixed,\n  toHump: () => toHump,\n  toLine: () => toLine\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_base = require(\"./base\");\nconst encodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  const htmlEntities = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    \"'\": \"&apos;\",\n    '\"': \"&quot;\",\n    \" \": \"&nbsp;\",\n    \"\\n\": \"<br>\"\n  };\n  return argHtml.replace(/[&<>\"' \\n]/g, function(char) {\n    return htmlEntities[char];\n  });\n};\nconst decodeHtml = (argHtml) => {\n  const htmlEntities = {\n    quot: '\"',\n    apos: \"'\",\n    lt: \"<\",\n    gt: \">\",\n    nbsp: \" \",\n    amp: \"&\"\n  };\n  return argHtml.replace(/&([^;]+);/g, (match, entity) => {\n    return htmlEntities[entity] || match;\n  });\n};\nconst rmbPrice = (argData, argRate = -1, argUnit = \"\\uFFE5\", argDef = \"--\") => {\n  if (typeof argData === \"string\" || typeof argData === \"number\") {\n    if (!argData && argData !== 0) {\n      return argDef;\n    }\n  } else {\n    return argDef;\n  }\n  argData = Number(argData);\n  if (argRate > -1) {\n    argData = +toFixed(argData, argRate);\n  }\n  return argUnit + argData;\n};\nconst formatTime = (date = +new Date(), fmt = \"YYYY-MM-DD HH:mm:ss\", emptyTip = \"\") => {\n  if (!date && date !== 0) {\n    return emptyTip;\n  }\n  if (isNaN(+date)) {\n    return emptyTip;\n  }\n  if (typeof date === \"number\") {\n    if (date.toString().length === 10) {\n      date = date * 1e3;\n    }\n  }\n  date = new Date(+date);\n  const fmtMap = {\n    \"M+\": date.getMonth() + 1,\n    \"D+\": date.getDate(),\n    \"h+\": date.getHours() % 12 === 0 ? 12 : date.getHours() % 12,\n    \"H+\": date.getHours(),\n    \"m+\": date.getMinutes(),\n    \"s+\": date.getSeconds(),\n    \"q+\": Math.floor((date.getMonth() + 3) / 3),\n    S: date.getMilliseconds()\n  };\n  const week = {\n    0: \"\\u65E5\",\n    1: \"\\u4E00\",\n    2: \"\\u4E8C\",\n    3: \"\\u4E09\",\n    4: \"\\u56DB\",\n    5: \"\\u4E94\",\n    6: \"\\u516D\"\n  };\n  const temY = fmt.match(/(Y+)/);\n  if (temY) {\n    fmt = fmt.replace(\n      temY[0],\n      (date.getFullYear() + \"\").substring(4 - temY[0].length)\n    );\n  }\n  const temWeek = fmt.match(/(E+)/);\n  if (temWeek) {\n    const temWeekName = [\"\", \"\\u5468\"];\n    fmt = fmt.replace(\n      temWeek[0],\n      (temWeekName[temWeek[0].length] || \"\\u661F\\u671F\") + (0, import_base.safeData)(week, date.getDay().toString(), \"\")\n    );\n  }\n  for (let k in fmtMap) {\n    let temMatch = fmt.match(new RegExp(\"(\" + k + \")\"));\n    if (temMatch) {\n      fmt = fmt.replace(\n        temMatch[0],\n        temMatch[0].length === 1 ? fmtMap[k].toString() : (\"00\" + fmtMap[k].toString()).substring((\"\" + fmtMap[k]).length)\n      );\n    }\n  }\n  return fmt;\n};\nconst friendlyTime = (date = +new Date(), fmt = \"YYYY-MM-DD HH:mm:ss\", emptyTip = \"\") => {\n  if (!date && date !== 0) {\n    return emptyTip;\n  }\n  if (isNaN(+date)) {\n    return emptyTip;\n  }\n  if (typeof date === \"number\" || typeof date === \"string\") {\n    if (date.toString().length === 10) {\n      date = date.toString() + \"000\";\n    }\n  }\n  date = new Date(+date);\n  let diff = (new Date().getTime() - date.getTime()) / 1e3;\n  let dayDiff = Math.floor(diff / 86400);\n  let isValidDate = Object.prototype.toString.call(date) === \"[object Date]\" && !isNaN(date.getTime());\n  if (!isValidDate) {\n    console.warn(\"friendlyTime:\", \"not a valid date\");\n    return emptyTip || \"--\";\n  }\n  if (isNaN(dayDiff) || dayDiff < 0 || dayDiff >= 365) {\n    return formatTime(date, fmt);\n  }\n  return (dayDiff === 0 && (diff < 60 && \"\\u521A\\u521A\" || diff < 120 && \"1\\u5206\\u949F\\u524D\" || diff < 3600 && Math.floor(diff / 60) + \"\\u5206\\u949F\\u524D\" || diff < 7200 && \"1\\u5C0F\\u65F6\\u524D\" || diff < 86400 && Math.floor(diff / 3600) + \"\\u5C0F\\u65F6\\u524D\") || dayDiff === 1 && \"\\u6628\\u5929\" || dayDiff < 7 && dayDiff + \"\\u5929\\u524D\" || dayDiff < 31 && Math.ceil(dayDiff / 7) + \"\\u5468\\u524D\" || dayDiff < 365 && Math.ceil(dayDiff / 31) + \"\\u6708\\u524D\").toString();\n};\nconst px2vw = (argPx, argWith = 375, argUnit = \"vw\", argNum = 6) => {\n  return +toFixed(100 / argWith * argPx, argNum) + argUnit;\n};\nconst secondToTime = (argData, argOption = {}) => {\n  var _a;\n  let res = [];\n  const {\n    s = \"\\u79D2\",\n    m = \"\\u5206\",\n    h = \"\\u65F6\",\n    d = \"\\u5929\",\n    M = \"\\u6708\",\n    y = \"\\u5E74\",\n    minUnit = \"s\",\n    maxUnit = \"y\",\n    isAddZero = true\n  } = argOption;\n  const listObj = {\n    s: {\n      size: 1,\n      type: \"s\",\n      unit: s,\n      index: 0\n    },\n    m: {\n      size: 60,\n      unit: m,\n      type: \"m\",\n      index: 1\n    },\n    h: {\n      size: 60,\n      unit: h,\n      type: \"h\",\n      index: 2\n    },\n    d: {\n      size: 24,\n      unit: d,\n      type: \"d\",\n      index: 3\n    },\n    M: {\n      size: 30,\n      unit: M,\n      type: \"M\",\n      index: 4\n    },\n    y: {\n      size: 12,\n      unit: y,\n      type: \"y\",\n      index: 5\n    }\n  };\n  let list = [listObj.s, listObj.m, listObj.h, listObj.d, listObj.M, listObj.y];\n  let temLen = list.length;\n  let second = argData;\n  let size = 1;\n  let index = 0;\n  for (let i = 0; i < temLen; i++) {\n    let lastSize = size;\n    if (maxUnit === list[i].type) {\n      let temTime = Math.floor(second / lastSize);\n      if (isAddZero && temTime < 10) {\n        temTime = \"0\" + temTime;\n      }\n      res.unshift(temTime);\n      index = temLen - i - 1;\n      break;\n    }\n    size = size * (((_a = list[i + 1]) == null ? void 0 : _a.size) || 0) || 1;\n    let time = Math.floor(second % size / lastSize);\n    if (isAddZero && time < 10) {\n      time = \"0\" + time;\n    }\n    res.unshift(time);\n  }\n  let timeText = \"\";\n  let isZero = true;\n  temLen = res.length;\n  for (let i = 0; i < temLen; i++) {\n    const v = res[i];\n    if (!+v && (isZero || argOption.hideZero)) {\n    } else {\n      isZero = false;\n      timeText += v + list[5 - (index + i)].unit;\n      if (minUnit === list[5 - (index + i)].type) {\n        break;\n      }\n    }\n  }\n  return timeText;\n};\nconst formatSize = (argData, argNum = 2, argIndex = 0, argRate = 1024, unit = [\"B\", \"K\", \"M\", \"G\", \"T\", \"P\"]) => {\n  let list = unit;\n  if (!argData) {\n    return \"0\" + list[argIndex];\n  }\n  let len = list.length;\n  let nowIndex = len - 1;\n  let temData = 0;\n  for (let i = 0; i < len; i++) {\n    temData = argData / Math.pow(argRate, i);\n    if (temData < argRate) {\n      nowIndex = argIndex + i;\n      break;\n    }\n  }\n  return +toFixed(temData, argNum) + list[nowIndex];\n};\nconst formatNumber = (argData, argNum = 2) => {\n  if (argData < 1e3) {\n    return argData.toString();\n  } else if (argData < 1e4) {\n    return +toFixed(argData / 1e3, argNum) + \"k\";\n  } else {\n    return +toFixed(argData / 1e4, argNum) + \"w\";\n  }\n};\nconst hideInfo = (argData = \"\", argStart = 3, argEnd = 4) => {\n  argData = String(argData);\n  let temLen = argData.length;\n  let temSL = argData.length - argEnd - argStart;\n  let start = \"\";\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += \"*\";\n    }\n    argData = argData.substring(0, argStart) + start + argData.substring(temLen - argEnd, temLen);\n  }\n  return argData;\n};\nconst string10to62 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\".split(\"\");\n  let radix = chars.length;\n  let data = +argData;\n  let arr = [];\n  do {\n    let mod = data % radix;\n    data = (data - mod) / radix;\n    arr.unshift(chars[mod]);\n  } while (data);\n  return arr.join(\"\");\n};\nconst string62to10 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\";\n  let radix = chars.length;\n  let len = argData.length;\n  let i = 0;\n  let resNum = 0;\n  while (i < len) {\n    resNum += Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || \"0\");\n  }\n  return resNum;\n};\nconst toFixed = (argData, argNum = 2, argType = \"round\") => {\n  if (isNaN(+argData)) {\n    return \"\";\n  }\n  const data = Math[argType](+argData * Math.pow(10, argNum)) / Math.pow(10, argNum);\n  return data.toFixed(argNum);\n};\nconst toLine = (argData, argUnit = \"_\") => {\n  return argData.replace(/([A-Z])/g, argUnit + \"$1\").toLowerCase();\n};\nconst toHump = (argData, argUnit = \"_\") => {\n  return argData.replace(\n    new RegExp(\"\\\\\" + argUnit + \"(\\\\w)\", \"g\"),\n    (_, letter) => {\n      return letter.toUpperCase();\n    }\n  );\n};\nconst arrayToObj = (list, key = \"\", extraData = \"\") => {\n  let obj = {};\n  list.forEach((item, k) => {\n    if (extraData) {\n      if (typeof extraData === \"string\") {\n        obj[item[key] || key + k] = item[extraData] || \"\";\n      } else if (typeof extraData === \"object\") {\n        obj[item[key] || key + k] = Object.assign(item, (0, import_base.deepCopy)(extraData));\n      }\n    } else {\n      obj[item[key] || key + k] = item;\n    }\n  });\n  return obj;\n};\nconst objToArray = (obj, key = \"key\", value = \"value\", isReverse = false) => {\n  const result = [];\n  for (const k in obj) {\n    if (obj.hasOwnProperty(k)) {\n      result.push({\n        [key]: isReverse ? obj[k] : k,\n        [value]: isReverse ? k : obj[k]\n      });\n    }\n  }\n  return result;\n};\nconst objToObj = (obj, tmplObj, isAssign = false) => {\n  let newObj = (0, import_base.deepCopy)(tmplObj);\n  for (const key in newObj) {\n    const temKey = String(newObj[key] || key);\n    if (typeof newObj[key] === \"object\") {\n      newObj[key] = objToObj(obj, newObj[key]);\n    } else {\n      newObj[key] = (0, import_base.safeData)(obj, temKey, \"\");\n    }\n  }\n  if (isAssign) {\n    newObj = Object.assign({}, obj, newObj);\n  }\n  return newObj;\n};\n","originalCode":"/**\r\n * @module index\r\n * @author linjielinlin 993353454@qq.com\r\n * @date 2022-05-11 22:07:43\r\n * @description 类型转换相关处理\r\n */\r\nimport { deepCopy, safeData } from './base'\r\nimport { AnyObject, StringObject } from './types'\r\n\r\n/**\r\n * @function\r\n * @description 转义html标签\r\n * @param  {string} argHtml 需要转义的文本\r\n * @returns {string}\r\n * @example\r\n * // returns '&lt;p&gt;Hello, World!&lt;/p&gt;'\r\n * encodeHtml('<p>Hello, World!</p>')\r\n */\r\nexport const encodeHtml = (argHtml: string): string => {\r\n  if (!argHtml || argHtml.length === 0) {\r\n    return ''\r\n  }\r\n  const htmlEntities: StringObject = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    \"'\": '&apos;',\r\n    '\"': '&quot;',\r\n    ' ': '&nbsp;',\r\n    '\\n': '<br>',\r\n  }\r\n  return argHtml.replace(/[&<>\"' \\n]/g, function (char) {\r\n    return htmlEntities[char]\r\n  })\r\n}\r\n\r\n/**\r\n * @function decodeHtml\r\n * @description 反转义HTML标签。\r\n * @param {string} argHtml - 需要反转义的文本。\r\n * @returns {string} 反转义后的文本。\r\n * @example\r\n * // 返回 \"&lt;p&gt;Hello, World!&lt;/p&gt;\"\r\n * decodeHtml(\"<p>Hello, World!</p>\");\r\n */\r\nexport const decodeHtml = (argHtml: string): string => {\r\n  const htmlEntities: StringObject = {\r\n    quot: '\"',\r\n    apos: \"'\",\r\n    lt: '<',\r\n    gt: '>',\r\n    nbsp: ' ',\r\n    amp: '&',\r\n  }\r\n  return argHtml.replace(/&([^;]+);/g, (match, entity) => {\r\n    return htmlEntities[entity] || match\r\n  })\r\n}\r\n\r\n/**\r\n * @function rmbPrice\r\n * @description 显示人民币价格。\r\n * @param {unknown} argData - 价格。\r\n * @param {number} argRate - 保留多少位小数，默认为-1。\r\n * @param {string} argUnit - 单位，默认为'￥'。\r\n * @param {string} argDef - 空数据默认值，默认为'--'。\r\n * @returns {string} 格式化后的价格字符串，例如：'￥100'。\r\n * @example\r\n * // 返回 '￥100.00'\r\n * rmbPrice(100, 2);\r\n */\r\nexport const rmbPrice = (\r\n  argData: unknown,\r\n  argRate: number = -1,\r\n  argUnit: string = '￥',\r\n  argDef: string = '--'\r\n): string => {\r\n  if (typeof argData === 'string' || typeof argData === 'number') {\r\n    if (!argData && argData !== 0) {\r\n      return argDef\r\n    }\r\n  } else {\r\n    return argDef\r\n  }\r\n  argData = Number(argData)\r\n  if (argRate > -1) {\r\n    argData = +toFixed(argData as number, argRate)\r\n  }\r\n  return argUnit + argData\r\n}\r\n\r\n/**\r\n * @function formatTime\r\n * @description 日期格式化显示。\r\n * @param {string|number|Date} date - 时间对象或时间戳，默认为当前时间。\r\n * @param {string} fmt - 格式化字符串，默认为'YYYY-MM-DD HH:mm:ss'。E为星期数，EEE:星期一，q为季度，S为毫秒数。\r\n * @param {string} emptyTip - 当date为false时的默认值，默认为''。\r\n * @returns {string} 格式化后的日期字符串。\r\n * @example\r\n * // 返回 '2022-01-01 00:00:00'\r\n * formatTime(new Date(2022, 0, 1));\r\n */\r\nexport const formatTime = (\r\n  date: string | number | Date = +new Date(),\r\n  fmt: string = 'YYYY-MM-DD HH:mm:ss',\r\n  emptyTip: string = ''\r\n): string => {\r\n  if (!date && date !== 0) {\r\n    return emptyTip\r\n  }\r\n  if (isNaN(+date)) {\r\n    return emptyTip\r\n  }\r\n  if (typeof date === 'number') {\r\n    if (date.toString().length === 10) {\r\n      date = date * 1000\r\n    }\r\n  }\r\n  date = new Date(+date)\r\n  const fmtMap: { [key: string]: number } = {\r\n    'M+': date.getMonth() + 1,\r\n    'D+': date.getDate(),\r\n    'h+': date.getHours() % 12 === 0 ? 12 : date.getHours() % 12,\r\n    'H+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds(),\r\n    'q+': Math.floor((date.getMonth() + 3) / 3),\r\n    S: date.getMilliseconds(),\r\n  }\r\n  const week = {\r\n    0: '\\u65e5',\r\n    1: '\\u4e00',\r\n    2: '\\u4e8c',\r\n    3: '\\u4e09',\r\n    4: '\\u56db',\r\n    5: '\\u4e94',\r\n    6: '\\u516d',\r\n  }\r\n  const temY = fmt.match(/(Y+)/)\r\n  if (temY) {\r\n    fmt = fmt.replace(\r\n      temY[0],\r\n      (date.getFullYear() + '').substring(4 - temY[0].length)\r\n    )\r\n  }\r\n  const temWeek = fmt.match(/(E+)/)\r\n  if (temWeek) {\r\n    const temWeekName = ['', '\\u5468']\r\n    fmt = fmt.replace(\r\n      temWeek[0],\r\n      (temWeekName[temWeek[0].length] || '\\u661f\\u671f') +\r\n        safeData(week, date.getDay().toString(), '')\r\n    )\r\n  }\r\n  for (let k in fmtMap) {\r\n    let temMatch = fmt.match(new RegExp('(' + k + ')'))\r\n    if (temMatch) {\r\n      fmt = fmt.replace(\r\n        temMatch[0],\r\n        temMatch[0].length === 1\r\n          ? fmtMap[k].toString()\r\n          : ('00' + fmtMap[k].toString()).substring(('' + fmtMap[k]).length)\r\n      )\r\n    }\r\n  }\r\n  return fmt\r\n}\r\n\r\n/**\r\n * @function friendlyTime\r\n * @description 日期格式化友好显示。例如：刚刚，x分钟前，...。超过一年的按 fmt来格式化。\r\n * @param {string|number|Date} date - 时间对象或时间戳，默认为当前时间。\r\n * @param {string} fmt - 格式化字符串，默认为'YYYY-MM-DD HH:mm:ss'。\r\n * @param {string} emptyTip - 当date为false时的默认值，默认为''。\r\n * @returns {string} 格式化后的友好日期字符串。\r\n * @example\r\n * // 返回 '刚刚'\r\n * friendlyTime(new Date());\r\n */\r\nexport const friendlyTime = (\r\n  date: string | number | Date = +new Date(),\r\n  fmt: string = 'YYYY-MM-DD HH:mm:ss',\r\n  emptyTip: string = ''\r\n): string => {\r\n  if (!date && date !== 0) {\r\n    return emptyTip\r\n  }\r\n  if (isNaN(+date)) {\r\n    return emptyTip\r\n  }\r\n  if (typeof date === 'number' || typeof date === 'string') {\r\n    if (date.toString().length === 10) {\r\n      date = date.toString() + '000'\r\n    }\r\n  }\r\n  date = new Date(+date)\r\n  let diff = (new Date().getTime() - date.getTime()) / 1000\r\n  let dayDiff = Math.floor(diff / 86400)\r\n  let isValidDate =\r\n    Object.prototype.toString.call(date) === '[object Date]' &&\r\n    !isNaN(date.getTime())\r\n  if (!isValidDate) {\r\n    console.warn('friendlyTime:', 'not a valid date')\r\n    return emptyTip || '--'\r\n  }\r\n  if (isNaN(dayDiff) || dayDiff < 0 || dayDiff >= 365) {\r\n    return formatTime(date, fmt)\r\n  }\r\n  return (\r\n    (dayDiff === 0 &&\r\n      ((diff < 60 && '刚刚') ||\r\n        (diff < 120 && '1分钟前') ||\r\n        (diff < 3600 && Math.floor(diff / 60) + '分钟前') ||\r\n        (diff < 7200 && '1小时前') ||\r\n        (diff < 86400 && Math.floor(diff / 3600) + '小时前'))) ||\r\n    (dayDiff === 1 && '昨天') ||\r\n    (dayDiff < 7 && dayDiff + '天前') ||\r\n    (dayDiff < 31 && Math.ceil(dayDiff / 7) + '周前') ||\r\n    (dayDiff < 365 && Math.ceil(dayDiff / 31) + '月前')\r\n  ).toString()\r\n}\r\n/**\r\n * @function px2vw\r\n * @description 将px单位转换为vw单位\r\n * @param {number} argPx - px单位的数值\r\n * @param {number} argWith - px对应的最大宽度，默认为375\r\n * @param {string} argUnit - 单位，'vw'或'%'，默认为'vw'\r\n * @param {number} argNum - 保留的小数位数，默认为6\r\n * @returns {string} 转换后的数值\r\n * @example\r\n * // returns '187.5vw'\r\n * px2vw(200, 375, 'vw', 6)\r\n */\r\nexport const px2vw = (\r\n  argPx: number,\r\n  argWith: number = 375,\r\n  argUnit: string = 'vw',\r\n  argNum: number = 6\r\n): string => {\r\n  return +toFixed((100 / argWith) * argPx, argNum) + argUnit\r\n}\r\n/**\r\n * @function secondToTime\r\n * @description 将秒数转换为倒计时格式\r\n * @param {number} argData - 秒数\r\n * @param {Object} argOption - 配置项\r\n * @param {string} argOption.s - 秒的单位，默认为'秒'\r\n * @param {string} argOption.m - 分的单位，默认为'分'\r\n * @param {string} argOption.h - 时的单位，默认为'时'\r\n * @param {string} argOption.d - 天的单位，默认为'天'\r\n * @param {string} argOption.M - 月的单位，默认为'月'\r\n * @param {string} argOption.y - 年的单位，默认为'年'\r\n * @param {string} argOption.minUtil - 最小显示的时间单位，小于该单位的舍去，默认为's'\r\n * @param {string} argOption.maxUnit - 最大的时间单位，默认为'y'，大于该单位的合入该单位 's,m,h,d,M,y 对应 秒 分 时 天 月 年'，例如: 'm' '13月'\r\n * @param {boolean} argOption.hideZero - 是否隐藏为0的时间单位，默认为false，例如 01h05s\r\n * @param {boolean} argOption.isAddZero - 是否小于10时，是否添加0，默认为true\r\n * @returns {string} 转换后的倒计时格式的字符串\r\n * @example\r\n * // returns '01h05s'\r\n * secondToTime(3905, {s: '秒', m: '分', h: '时', d: '天', M: '月', y: '年', minUtil: 's', maxUnit: 'y', hideZero: false, isAddZero: true})\r\n */\r\nexport const secondToTime = (\r\n  argData: number,\r\n  argOption: {\r\n    s?: string\r\n    m?: string\r\n    h?: string\r\n    d?: string\r\n    M?: string\r\n    y?: string\r\n    maxUnit?: string\r\n    minUnit?: string\r\n    hideZero?: boolean\r\n    isAddZero?: boolean\r\n  } = {}\r\n): string => {\r\n  let res = []\r\n  const {\r\n    s = '秒',\r\n    m = '分',\r\n    h = '时',\r\n    d = '天',\r\n    M = '月',\r\n    y = '年',\r\n    minUnit = 's',\r\n    maxUnit = 'y',\r\n    isAddZero = true,\r\n  } = argOption\r\n  const listObj = {\r\n    s: {\r\n      size: 1,\r\n      type: 's',\r\n      unit: s,\r\n      index: 0,\r\n    },\r\n    m: {\r\n      size: 60,\r\n      unit: m,\r\n      type: 'm',\r\n      index: 1,\r\n    },\r\n    h: {\r\n      size: 60,\r\n      unit: h,\r\n      type: 'h',\r\n      index: 2,\r\n    },\r\n    d: {\r\n      size: 24,\r\n      unit: d,\r\n      type: 'd',\r\n      index: 3,\r\n    },\r\n    M: {\r\n      size: 30,\r\n      unit: M,\r\n      type: 'M',\r\n      index: 4,\r\n    },\r\n    y: {\r\n      size: 12,\r\n      unit: y,\r\n      type: 'y',\r\n      index: 5,\r\n    },\r\n  }\r\n  let list = [listObj.s, listObj.m, listObj.h, listObj.d, listObj.M, listObj.y]\r\n  let temLen = list.length\r\n  let second = argData\r\n  let size = 1\r\n  let index = 0\r\n  for (let i = 0; i < temLen; i++) {\r\n    let lastSize = size\r\n    if (maxUnit === list[i].type) {\r\n      let temTime: number | string = Math.floor(second / lastSize)\r\n      if (isAddZero && temTime < 10) {\r\n        temTime = '0' + temTime\r\n      }\r\n      res.unshift(temTime)\r\n      index = temLen - i - 1\r\n      break\r\n    }\r\n    size = size * (list[i + 1]?.size || 0) || 1\r\n    let time: number | string = Math.floor((second % size) / lastSize)\r\n    if (isAddZero && time < 10) {\r\n      time = '0' + time\r\n    }\r\n    res.unshift(time)\r\n  }\r\n  let timeText = ''\r\n  let isZero = true\r\n  temLen = res.length\r\n  for (let i = 0; i < temLen; i++) {\r\n    const v = res[i]\r\n    if (!+v && (isZero || argOption.hideZero)) {\r\n    } else {\r\n      isZero = false\r\n      timeText += v + list[5 - (index + i)].unit\r\n      if (minUnit === list[5 - (index + i)].type) {\r\n        break\r\n      }\r\n    }\r\n  }\r\n  return timeText\r\n}\r\n/**\r\n * @function formatSize\r\n * @description 将byte数据转换为容量单位\r\n * @param {number} argData - byte数据\r\n * @param {number} argNum - 保留的小数位数，默认为2\r\n * @param {number} argIndex - 起始单位偏移，例如: 0:b 1:k 2:m，默认为0\r\n * @param {number} argRate - 进制，默认为1024\r\n * @param {string[]} unit - 进制，默认为['B', 'K', 'M', 'G', 'T', 'P']\r\n * @returns {string} 计算结果\r\n * @example\r\n * // returns '1.95K'\r\n * formatSize(2000, 2, 0, 1024, ['B', 'K', 'M', 'G', 'T', 'P'])\r\n */\r\nexport const formatSize = (\r\n  argData: number,\r\n  argNum: number = 2,\r\n  argIndex: number = 0,\r\n  argRate: number = 1024,\r\n  unit: string[] = ['B', 'K', 'M', 'G', 'T', 'P']\r\n): string => {\r\n  let list = unit\r\n  if (!argData) {\r\n    return '0' + list[argIndex]\r\n  }\r\n  let len = list.length\r\n  let nowIndex = len - 1\r\n  let temData: number = 0\r\n  for (let i = 0; i < len; i++) {\r\n    temData = argData / Math.pow(argRate, i)\r\n    if (temData < argRate) {\r\n      nowIndex = argIndex + i\r\n      break\r\n    }\r\n  }\r\n  return +toFixed(temData, argNum) + list[nowIndex]\r\n}\r\n/**\r\n * @function formatNumber\r\n * @description 将数据转换为数量单位k/w\r\n * @param {number} argData - 数据\r\n * @param {number} argNum - 保留的小数位数，默认为2\r\n * @returns {string} 计算结果\r\n * @example\r\n * // returns '2k'\r\n * formatNumber(2000, 2)\r\n */\r\nexport const formatNumber = (argData: number, argNum: number = 2): string => {\r\n  if (argData < 1000) {\r\n    return argData.toString()\r\n  } else if (argData < 10000) {\r\n    return +toFixed(argData / 1000, argNum) + 'k'\r\n  } else {\r\n    return +toFixed(argData / 10000, argNum) + 'w'\r\n  }\r\n}\r\n\r\n/**\r\n * 在数据中间添加星号。\r\n * @function\r\n * @description 数据中间加星号\r\n * @param {string|number} argData - 要处理的数据。\r\n * @param {number} argStart=3 - 前端显示多少位。\r\n * @param {number} argEnd=4 - 后面显示多少位。\r\n * @returns {string} - 返回处理好的数据。\r\n * @example\r\n * // 示例\r\n * const data = '1234567890';\r\n * const hiddenData = hideInfo(data, 3, 4);\r\n * console.log(hiddenData); // 输出: '123***7890'\r\n */\r\nexport const hideInfo = (\r\n  argData: string | number = '',\r\n  argStart: number = 3,\r\n  argEnd: number = 4\r\n): string => {\r\n  argData = String(argData)\r\n  let temLen = argData.length\r\n  let temSL = argData.length - argEnd - argStart\r\n  let start = ''\r\n  if (temSL > 0) {\r\n    for (let i = 0; i < temSL; i++) {\r\n      start += '*'\r\n    }\r\n    argData =\r\n      argData.substring(0, argStart) +\r\n      start +\r\n      argData.substring(temLen - argEnd, temLen)\r\n  }\r\n  return argData\r\n}\r\n\r\n/**\r\n * @function\r\n * @description 将10进制数据转换为62进制，用于短网址转换。\r\n * @date 2020-03-01\r\n * @param {number|string} argData - 要处理的数据。\r\n * @returns {string} - 返回处理好的数据。\r\n * @example\r\n * // 示例\r\n * const data = 123456;\r\n * const convertedData = string10to62(data);\r\n * console.log(convertedData); // 输出: 'w7E'\r\n */\r\nexport const string10to62 = (argData: number | string): string => {\r\n  let chars =\r\n    '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'.split('')\r\n  let radix = chars.length\r\n  let data = +argData\r\n  let arr = []\r\n  do {\r\n    let mod = data % radix\r\n    data = (data - mod) / radix\r\n    arr.unshift(chars[mod])\r\n  } while (data)\r\n  return arr.join('')\r\n}\r\n\r\n/**\r\n * @function\r\n * @description 将62进制数据转换为10进制，用于短网址转换。\r\n * @date 2020-03-01\r\n * @param {string} argData - 要处理的数据。\r\n * @returns {number} - 返回处理好的数据。\r\n * @example\r\n * // 示例\r\n * const data = 'w7E';\r\n * const convertedData = string62to10(data);\r\n * console.log(convertedData); // 输出: 123456\r\n */\r\nexport const string62to10 = (argData: string): number => {\r\n  let chars = '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'\r\n  let radix = chars.length\r\n  let len = argData.length\r\n  let i = 0\r\n  let resNum = 0\r\n  while (i < len) {\r\n    resNum +=\r\n      Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || '0')\r\n  }\r\n  return resNum\r\n}\r\n\r\n/**\r\n * @function\r\n * @description 对数据进行toFixed处理。\r\n * @date 2020-03-01\r\n * @param {string|number} argData - 要处理的数据。\r\n * @param {number} argNum - 要保留的位数，默认返回2位小数。\r\n * @param {string} argType - 返回类型，round:默认四舍五入,floor:向下取整,ceil:向上取整,abs:绝对值。\r\n * @returns {string} - 返回处理好的数据。\r\n * @example\r\n * // 示例\r\n * const data = 123.456;\r\n * const fixedData = toFixed(data, 2, 'round');\r\n * console.log(fixedData); // 输出: '123.46'\r\n */\r\nexport const toFixed = (\r\n  argData: string | number,\r\n  argNum: number = 2,\r\n  argType: 'round' | 'floor' | 'ceil' | 'abs' = 'round'\r\n): string => {\r\n  if (isNaN(+argData)) {\r\n    return ''\r\n  }\r\n  const data =\r\n    Math[argType](+argData * Math.pow(10, argNum)) / Math.pow(10, argNum)\r\n  return data.toFixed(argNum)\r\n}\r\n\r\n/**\r\n * @function\r\n * @description 将驼峰字符串转换为下划线字符串\r\n * @param {string} argData - 要转换的字符串。\r\n * @param {string} argUnit - 要转换的字符，默认为“_”。\r\n * @return {string} - 转换后的下划线字符串。\r\n * @example\r\n * // 示例\r\n * const data = 'camelCase';\r\n * const convertedData = toLine(data);\r\n * console.log(convertedData); // 输出: 'camel_case'\r\n */\r\nexport const toLine = (argData: string, argUnit: string = '_'): string => {\r\n  return argData.replace(/([A-Z])/g, argUnit + '$1').toLowerCase()\r\n}\r\n\r\n/**\r\n * @function\r\n * @description 将下划线字符串转换为驼峰字符串\r\n * @param {string} argData - 要转换的字符串。\r\n * @param {string} argUnit - 要转换的字符，默认为“_”。\r\n * @return {string} - 转换后的驼峰字符串。\r\n * @example\r\n * // 示例\r\n * const data = 'underscore_case';\r\n * const convertedData = toHump(data);\r\n * console.log(convertedData); // 输出: 'underscoreCase'\r\n */\r\nexport const toHump = (argData: string, argUnit: string = '_'): string => {\r\n  return argData.replace(\r\n    new RegExp('\\\\' + argUnit + '(\\\\w)', 'g'),\r\n    (_, letter) => {\r\n      return letter.toUpperCase()\r\n    }\r\n  )\r\n}\r\n\r\n/**\r\n * @function\r\n * @description 指定数组key,转换为对象\r\n * @param {any[]} list - 数组。\r\n * @param {string} key - 对象对应的键值。\r\n * @param {string|object} extraData - 为string时，返回对象的键值对,为object时，返回对象。\r\n * @return {Object} - 返回的对象。\r\n * @example\r\n * // 示例\r\n * const list = [{ id: 1, name: 'Alice' }, { id: 2, name: 'Bob' }];\r\n * const obj = arrayToObj(list, 'id');\r\n * console.log(obj); // 输出: { '1': { id: 1, name: 'Alice' }, '2': { id: 2, name: 'Bob' } }\r\n */\r\nexport const arrayToObj = (\r\n  list: any[],\r\n  key: string = '',\r\n  extraData: string | object = ''\r\n): AnyObject => {\r\n  let obj: AnyObject = {}\r\n  list.forEach((item: any, k) => {\r\n    if (extraData) {\r\n      if (typeof extraData === 'string') {\r\n        obj[item[key] || key + k] = item[extraData] || ''\r\n      } else if (typeof extraData === 'object') {\r\n        obj[item[key] || key + k] = Object.assign(item, deepCopy(extraData))\r\n      }\r\n    } else {\r\n      obj[item[key] || key + k] = item\r\n    }\r\n  })\r\n  return obj\r\n}\r\n/**\r\n * @function \r\n * @description 将对象转换为键值对数组。\r\n * @param {object} obj - 要转换的对象。\r\n * @param {string} [key='key'] - 每个键值对的键名称默认key。\r\n * @param {string} [value='value'] - 每个键值对的值名称默认value。\r\n * @param {boolean} [isReverse=false] - 如果为true，则键值对将被颠倒,默认为false。\r\n * @return {array} - 键值对数组。\r\n * @example \r\n// Example usage\r\nconst obj = { a: 1, b: 2 };\r\nconst result = objToArray(obj, 'id', 'v', true);\r\nconsole.log(result); // Output: [{ v: 'a', id: 1 }, { v: 'b', id: 2 }]\r\n*/\r\nexport const objToArray = (\r\n  obj: { [key: string]: any },\r\n  key: string = 'key',\r\n  value: string = 'value',\r\n  isReverse: boolean = false\r\n): any[] => {\r\n  const result: any[] = []\r\n  for (const k in obj) {\r\n    if (obj.hasOwnProperty(k)) {\r\n      result.push({\r\n        [key]: isReverse ? obj[k] : k,\r\n        [value]: isReverse ? k : obj[k],\r\n      })\r\n    }\r\n  }\r\n  return result\r\n}\r\n/**\r\n * @function\r\n * @description 从原始对象中复制属性，并将其赋值给新对象，生成一个新对象。\r\n * @param {Object} obj - 要复制属性的原始对象。\r\n * @param {Object} tmplObj - 要赋值属性的新对象模板。\r\n * @param {boolean} isAssign - 可选。确定是否将属性赋值给原始对象。\r\n * @return {Object} 复制了属性的新对象。\r\n * @example\r\n * // 示例\r\n * const obj = { a: 1, b: 2 };\r\n * const tmplObj = { a: 0, c: 0 };\r\n * const newObj = objToObj(obj, tmplObj);\r\n * console.log(newObj); // 输出: { a: 1, c: '' }\r\n */\r\nexport const objToObj = (\r\n  obj: { [key: string]: any },\r\n  tmplObj: { [key: string]: any },\r\n  isAssign: boolean = false\r\n): object => {\r\n  let newObj = deepCopy(tmplObj)\r\n  for (const key in newObj) {\r\n    const temKey: string = String(newObj[key] || key)\r\n    if (typeof newObj[key] === 'object') {\r\n      newObj[key] = objToObj(obj, newObj[key])\r\n    } else {\r\n      newObj[key] = safeData(obj, temKey, '')\r\n    }\r\n  }\r\n  if (isAssign) {\r\n    newObj = Object.assign({}, obj, newObj)\r\n  }\r\n  return newObj\r\n}\r\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2107","url":"/home/runner/work/utils/utils/src/transform.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10802,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":10799,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":18}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":18}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":18}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"arrayToObj","ranges":[{"startOffset":931,"endOffset":947,"count":1}],"isBlockCoverage":true},{"functionName":"decodeHtml","ranges":[{"startOffset":963,"endOffset":979,"count":1}],"isBlockCoverage":true},{"functionName":"encodeHtml","ranges":[{"startOffset":995,"endOffset":1011,"count":1}],"isBlockCoverage":true},{"functionName":"formatNumber","ranges":[{"startOffset":1029,"endOffset":1047,"count":1}],"isBlockCoverage":true},{"functionName":"formatSize","ranges":[{"startOffset":1063,"endOffset":1079,"count":1}],"isBlockCoverage":true},{"functionName":"formatTime","ranges":[{"startOffset":1095,"endOffset":1111,"count":1}],"isBlockCoverage":true},{"functionName":"friendlyTime","ranges":[{"startOffset":1129,"endOffset":1147,"count":1}],"isBlockCoverage":true},{"functionName":"hideInfo","ranges":[{"startOffset":1161,"endOffset":1175,"count":1}],"isBlockCoverage":true},{"functionName":"objToArray","ranges":[{"startOffset":1191,"endOffset":1207,"count":1}],"isBlockCoverage":true},{"functionName":"objToObj","ranges":[{"startOffset":1221,"endOffset":1235,"count":1}],"isBlockCoverage":true},{"functionName":"px2vw","ranges":[{"startOffset":1246,"endOffset":1257,"count":1}],"isBlockCoverage":true},{"functionName":"rmbPrice","ranges":[{"startOffset":1271,"endOffset":1285,"count":1}],"isBlockCoverage":true},{"functionName":"secondToTime","ranges":[{"startOffset":1303,"endOffset":1321,"count":1}],"isBlockCoverage":true},{"functionName":"string10to62","ranges":[{"startOffset":1339,"endOffset":1357,"count":1}],"isBlockCoverage":true},{"functionName":"string62to10","ranges":[{"startOffset":1375,"endOffset":1393,"count":1}],"isBlockCoverage":true},{"functionName":"toFixed","ranges":[{"startOffset":1406,"endOffset":1419,"count":1}],"isBlockCoverage":true},{"functionName":"toHump","ranges":[{"startOffset":1431,"endOffset":1443,"count":1}],"isBlockCoverage":true},{"functionName":"toLine","ranges":[{"startOffset":1455,"endOffset":1467,"count":1}],"isBlockCoverage":true},{"functionName":"encodeHtml","ranges":[{"startOffset":1574,"endOffset":1901,"count":2},{"startOffset":1604,"endOffset":1627,"count":1},{"startOffset":1629,"endOffset":1900,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1846,"endOffset":1897,"count":8}],"isBlockCoverage":true},{"functionName":"decodeHtml","ranges":[{"startOffset":1922,"endOffset":2160,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2090,"endOffset":2156,"count":8},{"startOffset":2143,"endOffset":2151,"count":0}],"isBlockCoverage":true},{"functionName":"rmbPrice","ranges":[{"startOffset":2179,"endOffset":2535,"count":3},{"startOffset":2309,"endOffset":2378,"count":2},{"startOffset":2328,"endOffset":2344,"count":0},{"startOffset":2346,"endOffset":2374,"count":0},{"startOffset":2378,"endOffset":2408,"count":1},{"startOffset":2408,"endOffset":2458,"count":2},{"startOffset":2458,"endOffset":2505,"count":1},{"startOffset":2505,"endOffset":2534,"count":2}],"isBlockCoverage":true},{"functionName":"formatTime","ranges":[{"startOffset":2556,"endOffset":4046,"count":11},{"startOffset":2638,"endOffset":2651,"count":2},{"startOffset":2653,"endOffset":2679,"count":1},{"startOffset":2679,"endOffset":2700,"count":10},{"startOffset":2700,"endOffset":2726,"count":0},{"startOffset":2726,"endOffset":2759,"count":10},{"startOffset":2759,"endOffset":2836,"count":6},{"startOffset":2800,"endOffset":2832,"count":1},{"startOffset":2836,"endOffset":2976,"count":10},{"startOffset":2976,"endOffset":2980,"count":5},{"startOffset":2981,"endOffset":3003,"count":5},{"startOffset":3360,"endOffset":3525,"count":10},{"startOffset":3525,"endOffset":3739,"count":2},{"startOffset":3646,"endOffset":3663,"count":1},{"startOffset":3739,"endOffset":3764,"count":10},{"startOffset":3764,"endOffset":4030,"count":80},{"startOffset":3841,"endOffset":4026,"count":19},{"startOffset":3922,"endOffset":3944,"count":1},{"startOffset":3945,"endOffset":4011,"count":18},{"startOffset":4030,"endOffset":4045,"count":10}],"isBlockCoverage":true},{"functionName":"friendlyTime","ranges":[{"startOffset":4069,"endOffset":5305,"count":12},{"startOffset":4151,"endOffset":4164,"count":2},{"startOffset":4166,"endOffset":4192,"count":1},{"startOffset":4192,"endOffset":4213,"count":11},{"startOffset":4213,"endOffset":4239,"count":0},{"startOffset":4239,"endOffset":4271,"count":11},{"startOffset":4271,"endOffset":4298,"count":0},{"startOffset":4300,"endOffset":4621,"count":11},{"startOffset":4341,"endOffset":4386,"count":1},{"startOffset":4643,"endOffset":4732,"count":0},{"startOffset":4732,"endOffset":4768,"count":11},{"startOffset":4769,"endOffset":4786,"count":11},{"startOffset":4788,"endOffset":4827,"count":1},{"startOffset":4827,"endOffset":4852,"count":10},{"startOffset":4852,"endOffset":5092,"count":6},{"startOffset":4866,"endOffset":4883,"count":2},{"startOffset":4884,"endOffset":4922,"count":4},{"startOffset":4898,"endOffset":4922,"count":1},{"startOffset":4923,"endOffset":4985,"count":3},{"startOffset":4938,"endOffset":4985,"count":1},{"startOffset":4986,"endOffset":5025,"count":2},{"startOffset":5001,"endOffset":5025,"count":1},{"startOffset":5026,"endOffset":5091,"count":1},{"startOffset":5093,"endOffset":5127,"count":4},{"startOffset":5110,"endOffset":5127,"count":1},{"startOffset":5128,"endOffset":5170,"count":3},{"startOffset":5143,"endOffset":5170,"count":1},{"startOffset":5171,"endOffset":5229,"count":2},{"startOffset":5187,"endOffset":5229,"count":1},{"startOffset":5230,"endOffset":5290,"count":1}],"isBlockCoverage":true},{"functionName":"px2vw","ranges":[{"startOffset":5321,"endOffset":5438,"count":4}],"isBlockCoverage":true},{"functionName":"secondToTime","ranges":[{"startOffset":5461,"endOffset":7268,"count":20},{"startOffset":6410,"endOffset":6904,"count":96},{"startOffset":6471,"endOffset":6680,"count":20},{"startOffset":6544,"endOffset":6559,"count":18},{"startOffset":6561,"endOffset":6603,"count":12},{"startOffset":6680,"endOffset":6728,"count":76},{"startOffset":6728,"endOffset":6736,"count":0},{"startOffset":6737,"endOffset":6746,"count":76},{"startOffset":6748,"endOffset":6752,"count":0},{"startOffset":6754,"endOffset":6758,"count":0},{"startOffset":6831,"endOffset":6843,"count":66},{"startOffset":6845,"endOffset":6877,"count":42},{"startOffset":6877,"endOffset":6904,"count":76},{"startOffset":7005,"endOffset":7247,"count":92},{"startOffset":7041,"endOffset":7074,"count":38},{"startOffset":7052,"endOffset":7073,"count":10},{"startOffset":7076,"endOffset":7083,"count":33},{"startOffset":7083,"endOffset":7243,"count":59},{"startOffset":7213,"endOffset":7237,"count":17}],"isBlockCoverage":true},{"functionName":"formatSize","ranges":[{"startOffset":7289,"endOffset":7746,"count":7},{"startOffset":7420,"endOffset":7458,"count":0},{"startOffset":7561,"endOffset":7691,"count":17},{"startOffset":7636,"endOffset":7687,"count":7}],"isBlockCoverage":true},{"functionName":"formatNumber","ranges":[{"startOffset":7769,"endOffset":7996,"count":6},{"startOffset":7817,"endOffset":7853,"count":1},{"startOffset":7853,"endOffset":7994,"count":5},{"startOffset":7878,"endOffset":7933,"count":3},{"startOffset":7933,"endOffset":7994,"count":2}],"isBlockCoverage":true},{"functionName":"hideInfo","ranges":[{"startOffset":8015,"endOffset":8394,"count":5},{"startOffset":8206,"endOffset":8374,"count":3},{"startOffset":8244,"endOffset":8271,"count":6}],"isBlockCoverage":true},{"functionName":"string10to62","ranges":[{"startOffset":8417,"endOffset":8728,"count":1},{"startOffset":8594,"endOffset":8689,"count":2}],"isBlockCoverage":true},{"functionName":"string62to10","ranges":[{"startOffset":8751,"endOffset":9059,"count":1},{"startOffset":8951,"endOffset":9040,"count":2},{"startOffset":9028,"endOffset":9034,"count":0}],"isBlockCoverage":true},{"functionName":"toFixed","ranges":[{"startOffset":9077,"endOffset":9285,"count":29},{"startOffset":9146,"endOffset":9166,"count":2},{"startOffset":9166,"endOffset":9284,"count":27}],"isBlockCoverage":true},{"functionName":"toLine","ranges":[{"startOffset":9302,"endOffset":9401,"count":2}],"isBlockCoverage":true},{"functionName":"toHump","ranges":[{"startOffset":9418,"endOffset":9589,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9525,"endOffset":9582,"count":2}],"isBlockCoverage":true},{"functionName":"arrayToObj","ranges":[{"startOffset":9610,"endOffset":10050,"count":6}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9679,"endOffset":10032,"count":14},{"startOffset":9713,"endOffset":9975,"count":2},{"startOffset":9780,"endOffset":9790,"count":0},{"startOffset":9810,"endOffset":9815,"count":0},{"startOffset":9824,"endOffset":9969,"count":0},{"startOffset":9975,"endOffset":10028,"count":12},{"startOffset":10003,"endOffset":10013,"count":6}],"isBlockCoverage":true},{"functionName":"objToArray","ranges":[{"startOffset":10071,"endOffset":10347,"count":4},{"startOffset":10175,"endOffset":10328,"count":8},{"startOffset":10255,"endOffset":10263,"count":2},{"startOffset":10264,"endOffset":10267,"count":6},{"startOffset":10296,"endOffset":10299,"count":2},{"startOffset":10300,"endOffset":10308,"count":6}],"isBlockCoverage":true},{"functionName":"objToObj","ranges":[{"startOffset":10366,"endOffset":10795,"count":17},{"startOffset":10483,"endOffset":10709,"count":28},{"startOffset":10523,"endOffset":10529,"count":6},{"startOffset":10573,"endOffset":10628,"count":6},{"startOffset":10628,"endOffset":10705,"count":22},{"startOffset":10726,"endOffset":10776,"count":1}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  autoPlayAudio: () => autoPlayAudio,\n  deepCopy: () => deepCopy,\n  delCookie: () => delCookie,\n  delay: () => delay,\n  getCookie: () => getCookie,\n  getCookieObj: () => getCookieObj,\n  getEnv: () => getEnv,\n  getInfo: () => getInfo,\n  getNetworkStatus: () => getNetworkStatus,\n  getObj: () => getObj,\n  getRandomColor: () => getRandomColor,\n  getRegexp: () => getRegexp,\n  getStorage: () => getStorage,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  randomInt: () => randomInt,\n  remInit: () => remInit,\n  replaceUrlParam: () => replaceUrlParam,\n  requestDeviceMotionPermission: () => requestDeviceMotionPermission,\n  safe: () => safe,\n  safeData: () => safeData,\n  setCookie: () => setCookie,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setStorage: () => setStorage,\n  setTitle: () => setTitle,\n  setUrlParams: () => setUrlParams,\n  sleep: () => sleep\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_is = require(\"./is\");\nlet isOnline = true;\nlet ENV = {};\nlet DATA_OBJECT = {};\nif (globalThis && globalThis.addEventListener) {\n  globalThis.addEventListener(\"offline\", function() {\n    console.debug(\"offLine\");\n    isOnline = false;\n  });\n  globalThis.addEventListener(\"online\", function() {\n    console.debug(\"onLine\");\n    isOnline = true;\n  });\n}\nconst getNetworkStatus = () => {\n  return isOnline;\n};\nconst getRegexp = () => {\n  return {\n    html: /<[^>]+>/gim,\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    phone: /^1\\d{10}$/,\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n    http: /http:\\/\\/|https:\\/\\//,\n    score: /^[1-9]\\d*|0$/,\n    int: /^[1-9]\\d*$/,\n    number: /^\\d*$/,\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    letter: /^[a-zA-Z]*$/,\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    realName: /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    ascii: /^[\\x20-\\x7E]+$/\n  };\n};\nconst setTitle = (argTitle) => {\n  if (typeof globalThis.document === \"object\") {\n    globalThis.document.title = String(argTitle);\n  }\n  if (getInfo().isAppleMobile) {\n    const i = document.createElement(\"iframe\");\n    i.onload = () => {\n      setTimeout(() => {\n        console.debug(\"apple mobile setting title\");\n        i.remove();\n      }, 10);\n    };\n    globalThis.document.body.appendChild(i);\n  }\n};\nconst remInit = (argBaseSize = 16, argWidth = 375) => {\n  const setRem = () => {\n    const scale = safeData(globalThis, \"document.documentElement.clientWidth\", argWidth) / argWidth;\n    safeData(\n      globalThis,\n      \"document.documentElement.style.fontSize\",\n      argBaseSize * scale + \"px\",\n      true\n    );\n  };\n  setRem();\n  globalThis.onresize = () => {\n    setRem();\n  };\n};\nconst getCookie = (argName) => {\n  const cookies = globalThis.document.cookie.split(\"; \");\n  const cookie = cookies.find((cookie2) => {\n    const [name] = cookie2.split(\"=\");\n    return argName === name;\n  });\n  return cookie ? decodeURIComponent(cookie.split(\"=\")[1] || \"\") : \"\";\n};\nconst getCookieObj = () => {\n  const cookies = globalThis.document.cookie.split(\"; \");\n  const cookieObj = {};\n  cookies.forEach((cookie) => {\n    const [key, value = \"\"] = cookie.split(\"=\");\n    cookieObj[key] = decodeURIComponent(value);\n  });\n  return cookieObj;\n};\nconst setCookie = (argName, argValue = \"\", argTime = 24, argPath = \"/\", domain = globalThis.location.hostname) => {\n  if (argTime === 0) {\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};domain=${domain};`;\n  } else {\n    const now = new Date();\n    const offset = 8;\n    const utc = now.getTime() + now.getTimezoneOffset() * 6e4;\n    const nd = utc + 36e5 * offset;\n    const exp = new Date(nd);\n    exp.setTime(exp.getTime() + argTime * 60 * 60 * 1e3);\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};expires=${exp.toUTCString()};domain=${domain};`;\n  }\n};\nconst delCookie = (argName = \"\") => {\n  setCookie(argName, \"\", -1);\n};\nconst getInfo = () => {\n  let ua = safeData(globalThis, \"navigator.userAgent\", \"\").toLowerCase();\n  let platform = safeData(\n    globalThis,\n    \"navigator.userAgentData.platform\",\n    \"\"\n  ).toLowerCase();\n  let info = {\n    ua,\n    platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match(\"win\"),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match(\"mac\"),\n    isIos: !!platform.match(\"ios\"),\n    isAndroid: !!platform.match(\"android\"),\n    isSafari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"chrome\") < 1,\n    isIE: \"ActiveXObject\" in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i)\n  };\n  if (info.ua.match(\"msie\")) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/);\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1];\n    }\n  }\n  info.isAppleMobile = !!(info.isMobile && ua.toLowerCase().indexOf(\"applewebkit\") && ua.indexOf(\"chrome\") < 1);\n  return info;\n};\nconst getRandomColor = function() {\n  return \"#\" + (\"00000\" + (Math.random() * 16777216 << 0).toString(16)).substring(-6);\n};\nconst getStorage = (argKey, argNoJson) => {\n  let res = globalThis.localStorage.getItem(argKey);\n  if (!argNoJson && (0, import_is.isJson)(res) && res) {\n    res = JSON.parse(res);\n  }\n  return res || \"\";\n};\nconst setStorage = (argKey, argData) => {\n  if (typeof argData === \"object\") {\n    argData = JSON.stringify(argData);\n  }\n  globalThis.localStorage.setItem(argKey, String(argData));\n  return String(argData);\n};\nconst sleep = (ms) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\nconst delay = (time = 0) => {\n  let start = Date.now();\n  while (Date.now() - start < time) {\n    continue;\n  }\n};\nconst safe = function safe2(argData, argCheck, argValue, argSetValueForce) {\n  if (!argData) {\n    return argValue;\n  }\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    ;\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        } else {\n          return argValue;\n        }\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData.slice(argData.indexOf(\"?\") + 1).split(\"&\").forEach((v) => {\n      const [key, val] = v.split(\"=\");\n      if (key !== v) {\n        res[key] = decodeURIComponent(val);\n      }\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  const reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  const r = url.match(reg);\n  const search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {\n        if (!p4 || !p4.length) {\n          return \"\";\n        } else if (p1 === p4) {\n          return p1;\n        }\n        return p1 + p4;\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    const sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    const sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst getUuid = () => {\n  const S4 = () => ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nconst deepCopy = (obj, hash = /* @__PURE__ */ new WeakMap()) => {\n  if (obj === null || typeof obj !== \"object\")\n    return obj;\n  if (obj instanceof Date)\n    return new Date(obj);\n  if (obj instanceof RegExp)\n    return new RegExp(obj);\n  if (obj instanceof Map)\n    return new Map(deepCopy(Array.from(obj), hash));\n  if (obj instanceof Set)\n    return new Set(deepCopy(Array.from(obj), hash));\n  if (hash.has(obj))\n    return hash.get(obj);\n  const copy = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n  hash.set(obj, copy);\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      copy[key] = deepCopy(obj[key], hash);\n    }\n  }\n  return copy;\n};\nconst requestDeviceMotionPermission = () => {\n  if (typeof DeviceMotionEvent.requestPermission === \"function\") {\n    return DeviceMotionEvent.requestPermission().then((permissionState) => {\n      if (permissionState === \"granted\") {\n        return true;\n      } else {\n        return false;\n      }\n    }).catch(() => {\n      return false;\n    });\n  } else {\n    return true;\n  }\n};\nconst autoPlayAudio = (audioUrl, isWeixin) => {\n  const audio = new Audio(audioUrl);\n  audio.addEventListener(\n    \"ended\",\n    function() {\n      this.currentTime = 0;\n      this.play();\n    },\n    false\n  );\n  audio.autoplay = true;\n  if (isWeixin) {\n    document.addEventListener(\n      \"WeixinJSBridgeReady\",\n      function() {\n        audio.play();\n      },\n      false\n    );\n  }\n  return audio;\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 公共函数，使用'lj-utils'引入\n */\n\nimport { isJson } from './is'\nimport { Info, AnyObject, Bool } from './types'\n\nlet isOnline: boolean = true\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n// 断网监听\nif (globalThis && globalThis.addEventListener) {\n  // #ifdef H5\n  globalThis.addEventListener('offline', function () {\n    console.debug('offLine')\n    isOnline = false\n  })\n  globalThis.addEventListener('online', function () {\n    console.debug('onLine')\n    isOnline = true\n  })\n  // #endif\n}\n\n/**\n * @function\n * @description 获取当前网络状态（H5）\n * @return boolean\n * @returns {boolean}\n * @example\n * ```\n * const status = getNetworkStatus();\n * ```\n */\nexport const getNetworkStatus = () => {\n  return isOnline\n}\n\n/**\n * @function\n * @description 正则收集\n * @returns {object}\n * @returns {object}\n * @example\n * ```\n * const regex = getRegexp();\n * ```\n */\nexport const getRegexp = (): AnyObject => {\n  return {\n    // 匹配html标签，提取html文字： htmlCode.replace(reg.html,'')\n    html: /<[^>]+>/gim,\n    // 至少1数字1字母1字符，8-16位\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    // 普通身份证号正则，isIdCard更为严格\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    // 简易身份证号 数字+x\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    // 手机号\n    phone: /^1\\d{10}$/,\n    // 邮箱\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n    // 网址\n    http: /http:\\/\\/|https:\\/\\//,\n    // 含0整数（得分）\n    score: /^[1-9]\\d*|0$/,\n    // 整数\n    int: /^[1-9]\\d*$/,\n    // 匹配数字\n    number: /^\\d*$/,\n    // >=0||1位小数\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    // >=0||2位小数\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    // >=0||3位小数\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    // 字母+数字组合\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    // 字母\n    letter: /^[a-zA-Z]*$/,\n    // 帐号50个字内：大小写+数字+中文+'_'+'-'\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    // 中英文姓名 50个字内/中文 中文/英文-. 英文-./\n    realName:\n      /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    // 匹配中文\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    // 匹配ASCII,非中文之外的字符（全角字符）\n    ascii: /^[\\x20-\\x7E]+$/,\n  }\n}\n\n/**\n * @function\n * @description 设置标题\n * @param  {string} argTitle 标题\n */\nexport const setTitle = (argTitle: string | number) => {\n  if (typeof globalThis.document === 'object') {\n    globalThis.document.title = String(argTitle)\n  }\n  if (getInfo().isAppleMobile) {\n    const i = document.createElement('iframe')\n    i.onload = () => {\n      setTimeout(() => {\n        console.debug('apple mobile setting title')\n        i.remove()\n      }, 10)\n    }\n    globalThis.document.body.appendChild(i)\n  }\n}\n\n/**\n * @function\n * @description 使用postcss-px2rem时使用\n * @param {number} argBaseSize 基础大小 16px（要跟配置一致）\n * @param {number} argWidth 基准宽度\n */\nexport const remInit = (argBaseSize: number = 16, argWidth: number = 375) => {\n  // 设置 rem 函数\n  const setRem = () => {\n    // 当前页面宽度相对于 argWidth 宽的缩放比例，可根据自己需要修改。\n    const scale =\n      safeData(globalThis, 'document.documentElement.clientWidth', argWidth) /\n      argWidth\n    // 设置页面根节点字体大小\n    safeData(\n      globalThis,\n      'document.documentElement.style.fontSize',\n      argBaseSize * scale + 'px',\n      true\n    )\n  }\n  // 初始化\n  setRem()\n  // 改变窗口大小时重新设置 rem\n  globalThis.onresize = () => {\n    setRem()\n  }\n}\n\n/**\n * @function\n * @description 获取cookie\n * @param  {string} argName 要获取的值\n * @returns {string}\n */\nexport const getCookie = (argName: string): string => {\n  const cookies = globalThis.document.cookie.split('; ')\n  const cookie = cookies.find((cookie) => {\n    const [name] = cookie.split('=')\n    return argName === name\n  })\n  return cookie ? decodeURIComponent(cookie.split('=')[1] || '') : ''\n}\n/**\n * @function\n * @description 获取cookie对象\n * @returns {object}\n */\nexport const getCookieObj = (): { [key: string]: string } => {\n  const cookies = globalThis.document.cookie.split('; ')\n  const cookieObj: { [key: string]: string } = {}\n  cookies.forEach((cookie) => {\n    const [key, value = ''] = cookie.split('=')\n    cookieObj[key] = decodeURIComponent(value)\n  })\n  return cookieObj\n}\n/**\n * @function\n * @description 设置cookie\n * @param  {string} argName 要设置的key\n * @param  {string} argValue 要设置的value\n * @param  {number} argTime 过期时间/时 默认24\n * @param  {number} argPath path\n * @param  {number} domain domain\n */\nexport const setCookie = (\n  argName: string,\n  argValue: string | number | boolean = '',\n  argTime: number = 24,\n  argPath: string = '/',\n  domain: string = globalThis.location.hostname\n) => {\n  if (argTime === 0) {\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};domain=${domain};`\n  } else {\n    const now = new Date()\n    const offset = 8\n    const utc = now.getTime() + now.getTimezoneOffset() * 60000\n    const nd = utc + 3600000 * offset\n    const exp = new Date(nd)\n    exp.setTime(exp.getTime() + argTime * 60 * 60 * 1000)\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};expires=${exp.toUTCString()};domain=${domain};`\n  }\n}\n\n/**\n * @function\n * @description 清除cookie\n * @param  {string} argName 要清除的值\n */\nexport const delCookie = (argName: string = '') => {\n  setCookie(argName, '', -1)\n}\n\n/**\n * @function\n * @description 检测浏览器状态，系统状态 *\n * @returns {Info} {\n * ua: ua,\n * platform: 平台,\n * isMobile: 移动端,\n * isWin: winPC端,\n * isIphone: iphone,\n * isIpad: ipad,\n * isMac: mac,\n * isAppleMobile: 苹果移动端webview\n * isSafari: Safari浏览器,\n * isIos: Ios平台,\n * isAndroid: android平台,\n * isIE: 显示8 9 10, true为11以上\n * ...\n * }\n */\nexport const getInfo = (): Info => {\n  let ua = safeData(globalThis, 'navigator.userAgent', '').toLowerCase()\n  let platform: string = safeData(\n    globalThis,\n    'navigator.userAgentData.platform',\n    ''\n  ).toLowerCase()\n  let info: Info = {\n    ua: ua,\n    platform: platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match('win'),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match('mac'),\n    isIos: !!platform.match('ios'),\n    isAndroid: !!platform.match('android'),\n    isSafari: ua.indexOf('safari') > -1 && ua.indexOf('chrome') < 1,\n    isIE: 'ActiveXObject' in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i),\n  }\n  if (info.ua.match('msie')) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/)\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1]\n    }\n  }\n  info.isAppleMobile = !!(\n    info.isMobile &&\n    ua.toLowerCase().indexOf('applewebkit') &&\n    ua.indexOf('chrome') < 1\n  )\n  return info\n}\n\n/**\n * @function\n * @description 获取随机颜色\n * @return string\n */\nexport const getRandomColor = function () {\n  return (\n    '#' +\n    ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substring(-6)\n  )\n}\n\n/**\n * @function\n * @description 获取storage的值，默认将json转为obj\n * @param {string} argKey 要获取的key\n * @param {string} argNoJson true时不自动转换JSON字符串\n * @returns {any} key对应的数据\n */\nexport const getStorage = (argKey: string, argNoJson?: string): any => {\n  let res = globalThis.localStorage.getItem(argKey)\n  // 默认转义JSON字符串\n  if (!argNoJson && isJson(res) && res) {\n    res = JSON.parse(res)\n  }\n  return res || ''\n}\n\n/**\n * @function\n * @description 设置storage的值，默认将obj转为json\n * @param {string} argKey 要获取的key\n * @param {unknown} argData 要保存的数据\n * @returns {string} 保存的数据String\n */\nexport const setStorage = (argKey: string, argData: unknown): string => {\n  if (typeof argData === 'object') {\n    argData = JSON.stringify(argData)\n  }\n  globalThis.localStorage.setItem(argKey, String(argData))\n  return String(argData)\n}\n\n/**\n * @function\n * @description setTimeout promise版，异步阻塞函数\n * @param  {number} ms 时间，毫秒\n */\nexport const sleep = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n/**\n * @description 同步阻塞函数。\n * @param {number} time - 延迟的时间量，单位为毫秒\n */\nexport const delay = (time: number = 0) => {\n  let start = Date.now()\n  while (Date.now() - start < time) {\n    continue\n  }\n}\n\n// 返回T下的key对应类型\ntype KeyOf<T extends Record<string, any>, K = keyof T> = K extends string\n  ? T[K] extends Function\n    ? never\n    : K\n  : never\ntype DotField<T extends Record<string, any>, K = KeyOf<T>> = K extends string\n  ? K | `${K}.${DotField<T[K]>}`\n  : never\n// 返回传入K或T[K]对应的类型\ntype ValueOf<\n  T extends Record<string, any>,\n  K\n> = K extends `${infer I}.${infer R}`\n  ? ValueOf<T[I], R>\n  : K extends string\n  ? T[K]\n  : never\n\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safe = function safe<\n  T extends Record<string, any>,\n  K extends DotField<T>\n>(\n  argData: T,\n  argCheck: K,\n  argValue?: ValueOf<T, K>,\n  argSetValueForce?: Bool\n): ValueOf<T, K> | undefined | string {\n  if (!argData) {\n    return argValue\n  }\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    ;(argData as AnyObject)[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        } else {\n          return argValue\n        }\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): AnyObject => {\n  const res: AnyObject = {}\n  try {\n    argData\n      .slice(argData.indexOf('?') + 1)\n      .split('&')\n      .forEach((v) => {\n        const [key, val] = v.split('=')\n        if (key !== v) {\n          res[key] = decodeURIComponent(val)\n        }\n      })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  const reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  const r = url.match(reg)\n  const search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {\n        if (!p4 || !p4.length) {\n          return ''\n        } else if (p1 === p4) {\n          return p1\n        }\n        return p1 + p4\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    const sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    const sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  const S4 = () =>\n    (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * @function\n * @description深拷贝函数\n * @param obj 需要拷贝的对象\n * @returns 拷贝后的对象\n */\nexport const deepCopy = (obj: any, hash = new WeakMap()): any => {\n  if (obj === null || typeof obj !== 'object') return obj\n  if (obj instanceof Date) return new Date(obj)\n  if (obj instanceof RegExp) return new RegExp(obj)\n  if (obj instanceof Map) return new Map(deepCopy(Array.from(obj), hash))\n  if (obj instanceof Set) return new Set(deepCopy(Array.from(obj), hash))\n  if (hash.has(obj)) return hash.get(obj)\n\n  const copy = Array.isArray(obj)\n    ? []\n    : Object.create(Object.getPrototypeOf(obj))\n  hash.set(obj, copy)\n\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      copy[key] = deepCopy(obj[key], hash)\n    }\n  }\n  return copy\n}\n\n/**\n * @function\n * @description 摇一摇，请求使用 DeviceMotionEvent API 的权限。for ios\n * @returns Promise，指示是否已授予权限。\n * @example\n * ```\n * const hasRequest = await requestDeviceMotionPermission()\n * if (hasRequest) {\n *    useEventListener(window, 'devicemotion', handleShake)\n *  } else {\n *    showToast('未授权访问运动传感器,请手动点击！')\n *  }\n * ```\n */\nexport const requestDeviceMotionPermission = () => {\n  if (typeof (DeviceMotionEvent as any).requestPermission === 'function') {\n    return (DeviceMotionEvent as any)\n      .requestPermission()\n      .then((permissionState: string) => {\n        if (permissionState === 'granted') {\n          return true\n        } else {\n          return false\n        }\n      })\n      .catch(() => {\n        return false\n      })\n  } else {\n    return true\n  }\n}\n\n/**\n * @function\n * @description 自动播放音频并返回音频元素。\n * @param {string} audioUrl - 音频地址\n * @param {boolean} isWeixin - 是否在微信中\n * @returns {HTMLAudioElement} - 音频元素\n */\nexport const autoPlayAudio = (\n  audioUrl: string,\n  isWeixin: boolean\n): HTMLAudioElement => {\n  const audio = new Audio(audioUrl)\n  audio.addEventListener(\n    'ended',\n    function () {\n      this.currentTime = 0\n      this.play()\n    },\n    false\n  )\n  audio.autoplay = true\n  if (isWeixin) {\n    document.addEventListener(\n      'WeixinJSBridgeReady',\n      function () {\n        audio.play()\n      },\n      false\n    )\n  }\n  return audio\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2108","url":"/home/runner/work/utils/utils/src/base.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14384,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14381,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":30}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":30}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":41}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"autoPlayAudio","ranges":[{"startOffset":934,"endOffset":953,"count":0}],"isBlockCoverage":false},{"functionName":"deepCopy","ranges":[{"startOffset":967,"endOffset":981,"count":17}],"isBlockCoverage":true},{"functionName":"delCookie","ranges":[{"startOffset":996,"endOffset":1011,"count":0}],"isBlockCoverage":false},{"functionName":"delay","ranges":[{"startOffset":1022,"endOffset":1033,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":1048,"endOffset":1063,"count":0}],"isBlockCoverage":false},{"functionName":"getCookieObj","ranges":[{"startOffset":1081,"endOffset":1099,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":1111,"endOffset":1123,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":1136,"endOffset":1149,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1171,"endOffset":1193,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1205,"endOffset":1217,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":1237,"endOffset":1257,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1272,"endOffset":1287,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":1303,"endOffset":1319,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1336,"endOffset":1353,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1373,"endOffset":1393,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":1406,"endOffset":1419,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":1434,"endOffset":1449,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":1462,"endOffset":1475,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1496,"endOffset":1517,"count":0}],"isBlockCoverage":false},{"functionName":"requestDeviceMotionPermission","ranges":[{"startOffset":1552,"endOffset":1587,"count":0}],"isBlockCoverage":false},{"functionName":"safe","ranges":[{"startOffset":1597,"endOffset":1607,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1621,"endOffset":1635,"count":24}],"isBlockCoverage":true},{"functionName":"setCookie","ranges":[{"startOffset":1650,"endOffset":1665,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":1677,"endOffset":1689,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":1701,"endOffset":1713,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1725,"endOffset":1737,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":1753,"endOffset":1769,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":1783,"endOffset":1797,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":1815,"endOffset":1833,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":1844,"endOffset":1855,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2086,"endOffset":2154,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2197,"endOffset":2263,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":2293,"endOffset":2321,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":2341,"endOffset":3261,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":3280,"endOffset":3672,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":3690,"endOffset":4058,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":4078,"endOffset":4342,"count":0}],"isBlockCoverage":false},{"functionName":"getCookieObj","ranges":[{"startOffset":4365,"endOffset":4611,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":4631,"endOffset":5284,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":5304,"endOffset":5355,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":5373,"endOffset":6376,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":6401,"endOffset":6502,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":6523,"endOffset":6710,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":6731,"endOffset":6921,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":6937,"endOffset":7008,"count":0}],"isBlockCoverage":false},{"functionName":"delay","ranges":[{"startOffset":7024,"endOffset":7123,"count":0}],"isBlockCoverage":false},{"functionName":"safe2","ranges":[{"startOffset":7138,"endOffset":8047,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":8066,"endOffset":8977,"count":24},{"startOffset":8154,"endOffset":8185,"count":0},{"startOffset":8187,"endOffset":8291,"count":0},{"startOffset":8389,"endOffset":8415,"count":0},{"startOffset":8434,"endOffset":8753,"count":2},{"startOffset":8529,"endOffset":8701,"count":0},{"startOffset":8737,"endOffset":8742,"count":0},{"startOffset":8778,"endOffset":8827,"count":0},{"startOffset":8867,"endOffset":8912,"count":0},{"startOffset":8959,"endOffset":8970,"count":2}],"isBlockCoverage":true},{"functionName":"setUrlParams","ranges":[{"startOffset":9000,"endOffset":9329,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":9351,"endOffset":9563,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":9588,"endOffset":9983,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":10009,"endOffset":11221,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":11239,"endOffset":11408,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":11428,"endOffset":11564,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":11581,"endOffset":11606,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":11623,"endOffset":11668,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":11685,"endOffset":11807,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":11824,"endOffset":12057,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":12074,"endOffset":12883,"count":0}],"isBlockCoverage":false},{"functionName":"deepCopy","ranges":[{"startOffset":12902,"endOffset":13589,"count":61},{"startOffset":13002,"endOffset":13013,"count":28},{"startOffset":13013,"endOffset":13045,"count":33},{"startOffset":13045,"endOffset":13066,"count":0},{"startOffset":13066,"endOffset":13100,"count":33},{"startOffset":13100,"endOffset":13123,"count":0},{"startOffset":13123,"endOffset":13154,"count":33},{"startOffset":13154,"endOffset":13202,"count":0},{"startOffset":13202,"endOffset":13233,"count":33},{"startOffset":13233,"endOffset":13281,"count":0},{"startOffset":13281,"endOffset":13307,"count":33},{"startOffset":13307,"endOffset":13328,"count":0},{"startOffset":13328,"endOffset":13363,"count":33},{"startOffset":13363,"endOffset":13367,"count":0},{"startOffset":13368,"endOffset":13411,"count":33},{"startOffset":13459,"endOffset":13572,"count":44},{"startOffset":13572,"endOffset":13588,"count":33}],"isBlockCoverage":true},{"functionName":"requestDeviceMotionPermission","ranges":[{"startOffset":13629,"endOffset":13972,"count":0}],"isBlockCoverage":false},{"functionName":"autoPlayAudio","ranges":[{"startOffset":13996,"endOffset":14377,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\r\n * @module index\r\n * @author linjielinlin 993353454@qq.com\r\n * @date 2022-05-11 22:07:43\r\n * @description 判断函数\r\n */\r\n/**\r\n * @function isPrime\r\n * @description 判断一个数是否为质数\r\n * @param {number} argValue 需要判断的数值\r\n * @returns {boolean} 如果是质数返回true，否则返回false\r\n * @example\r\n * isPrime(5); // true\r\n */\r\nexport const isPrime = (argValue: number): boolean =>\r\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\r\n\r\n/**\r\n * @function isJson\r\n * @description 判断一个值是否为JSON\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是JSON返回true，否则返回false\r\n * @example\r\n * isJson('{\"name\":\"John\"}'); // true\r\n */\r\nexport const isJson = (argData: any): boolean => {\r\n  try {\r\n    return typeof JSON.parse(argData || '') === 'object'\r\n  } catch (e) {}\r\n  return false\r\n}\r\n/**\r\n * @function isBlob\r\n * @description 判断一个值是否为Blob\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是Blob返回true，否则返回false\r\n * @example\r\n * isBlob(new Blob()); // true\r\n */\r\nexport const isBlob = (argData: any): boolean => {\r\n  return argData instanceof Blob\r\n}\r\n\r\n/**\r\n * @function isFile\r\n * @description 判断一个值是否为File\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是File返回true，否则返回false\r\n * @example\r\n * isFile(new File([\"\"], \"filename\")); // true\r\n */\r\nexport const isFile = (argData: any): boolean => {\r\n  return argData instanceof File\r\n}\r\n\r\n/**\r\n * @function isIdCard\r\n * @description 判断一个字符串是否为正确的身份证号码\r\n * @param  {string} code 身份证号码\r\n * @returns {boolean} 如果是正确的身份证号码返回true，否则返回false\r\n * @example\r\n * isIdCard('320311770706001'); // false\r\n */\r\nexport const isIdCard = (code: string): boolean => {\r\n  let tip = ''\r\n  let city: { [key: number]: string } = {\r\n    11: '北京',\r\n    12: '天津',\r\n    13: '河北',\r\n    14: '山西',\r\n    15: '内蒙古',\r\n    21: '辽宁',\r\n    22: '吉林',\r\n    23: '黑龙江 ',\r\n    31: '上海',\r\n    32: '江苏',\r\n    33: '浙江',\r\n    34: '安徽',\r\n    35: '福建',\r\n    36: '江西',\r\n    37: '山东',\r\n    41: '河南',\r\n    42: '湖北 ',\r\n    43: '湖南',\r\n    44: '广东',\r\n    45: '广西',\r\n    46: '海南',\r\n    50: '重庆',\r\n    51: '四川',\r\n    52: '贵州',\r\n    53: '云南',\r\n    54: '西藏 ',\r\n    61: '陕西',\r\n    62: '甘肃',\r\n    63: '青海',\r\n    64: '宁夏',\r\n    65: '新疆',\r\n    71: '台湾',\r\n    81: '香港',\r\n    82: '澳门',\r\n    91: '国外 ',\r\n  }\r\n  let pass = true\r\n  if (\r\n    !code ||\r\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\r\n      code\r\n    )\r\n  ) {\r\n    tip = '身份证号格式错误'\r\n    pass = false\r\n  } else if (!city[+code.substring(0, 2)]) {\r\n    tip = '地址编码错误'\r\n    pass = false\r\n  } else {\r\n    // 18位身份证需要验证最后一位校验位\r\n    if (code.length === 18) {\r\n      const codeArr = code.split('')\r\n      // ∑(ai×Wi)(mod 11)\r\n      // 加权因子\r\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\r\n      // 校验位\r\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\r\n      let sum = 0\r\n      let ai = 0\r\n      let wi = 0\r\n      for (let i = 0; i < 17; i++) {\r\n        ai = Number(codeArr[i])\r\n        wi = factor[i]\r\n        sum += ai * wi\r\n      }\r\n      let last = parity[sum % 11] + ''\r\n      if (last !== code[17]) {\r\n        tip = '校验位错误'\r\n        pass = false\r\n      }\r\n    }\r\n  }\r\n  console.assert(!tip, tip)\r\n  return pass\r\n}\r\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2109","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":26,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1706283596416,"runtime":199,"slow":false,"start":1706283596217},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/base.spec.ts","testResults":[{"rowKey":0,"ancestorTitles":["base"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"base getRegexp","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getRegexp"},{"rowKey":1,"ancestorTitles":["base"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"base setTitle","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"setTitle"},{"rowKey":2,"ancestorTitles":["base"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"base remInit","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"remInit"},{"rowKey":3,"ancestorTitles":["base"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"base setCookie","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"setCookie"},{"rowKey":4,"ancestorTitles":["base"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"base getCookie","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getCookie"},{"rowKey":5,"ancestorTitles":["base"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"base delCookie","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"delCookie"},{"rowKey":6,"ancestorTitles":["base"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"base getInfoMock","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getInfoMock"},{"rowKey":7,"ancestorTitles":["base"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"base getRandomColor","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getRandomColor"},{"rowKey":8,"ancestorTitles":["base"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"base setStorage","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"setStorage"},{"rowKey":9,"ancestorTitles":["base"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"base getStorage","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getStorage"},{"rowKey":10,"ancestorTitles":["base"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"base sleep","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"sleep"},{"rowKey":11,"ancestorTitles":["base"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"base safeData","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"safeData"},{"rowKey":12,"ancestorTitles":["base"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"base setUrlParams","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"setUrlParams"},{"rowKey":13,"ancestorTitles":["base"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"base getUrlParam","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getUrlParam"},{"rowKey":14,"ancestorTitles":["base"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"base getUrlParamObj","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getUrlParamObj"},{"rowKey":15,"ancestorTitles":["base"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"base replaceUrlParam","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"replaceUrlParam"},{"rowKey":16,"ancestorTitles":["base"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"base getUuid","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getUuid"},{"rowKey":17,"ancestorTitles":["base"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"base randomInt","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"randomInt"},{"rowKey":18,"ancestorTitles":["base"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"base setEnv","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"setEnv"},{"rowKey":19,"ancestorTitles":["deepCopy function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"deepCopy function should copy primitive types","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"should copy primitive types"},{"rowKey":20,"ancestorTitles":["deepCopy function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"deepCopy function should copy Date objects","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"should copy Date objects"},{"rowKey":21,"ancestorTitles":["deepCopy function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"deepCopy function should copy RegExp objects","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"should copy RegExp objects"},{"rowKey":22,"ancestorTitles":["deepCopy function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"deepCopy function should copy Map objects","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"should copy Map objects"},{"rowKey":23,"ancestorTitles":["deepCopy function"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"deepCopy function should copy Set objects","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"should copy Set objects"},{"rowKey":24,"ancestorTitles":["deepCopy function"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"deepCopy function should copy array objects","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"should copy array objects"},{"rowKey":25,"ancestorTitles":["deepCopy function"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"deepCopy function should copy plain objects","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"should copy plain objects"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  autoPlayAudio: () => autoPlayAudio,\n  deepCopy: () => deepCopy,\n  delCookie: () => delCookie,\n  delay: () => delay,\n  getCookie: () => getCookie,\n  getCookieObj: () => getCookieObj,\n  getEnv: () => getEnv,\n  getInfo: () => getInfo,\n  getNetworkStatus: () => getNetworkStatus,\n  getObj: () => getObj,\n  getRandomColor: () => getRandomColor,\n  getRegexp: () => getRegexp,\n  getStorage: () => getStorage,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  randomInt: () => randomInt,\n  remInit: () => remInit,\n  replaceUrlParam: () => replaceUrlParam,\n  requestDeviceMotionPermission: () => requestDeviceMotionPermission,\n  safe: () => safe,\n  safeData: () => safeData,\n  setCookie: () => setCookie,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setStorage: () => setStorage,\n  setTitle: () => setTitle,\n  setUrlParams: () => setUrlParams,\n  sleep: () => sleep\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_is = require(\"./is\");\nlet isOnline = true;\nlet ENV = {};\nlet DATA_OBJECT = {};\nif (globalThis && globalThis.addEventListener) {\n  globalThis.addEventListener(\"offline\", function() {\n    console.debug(\"offLine\");\n    isOnline = false;\n  });\n  globalThis.addEventListener(\"online\", function() {\n    console.debug(\"onLine\");\n    isOnline = true;\n  });\n}\nconst getNetworkStatus = () => {\n  return isOnline;\n};\nconst getRegexp = () => {\n  return {\n    html: /<[^>]+>/gim,\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    phone: /^1\\d{10}$/,\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n    http: /http:\\/\\/|https:\\/\\//,\n    score: /^[1-9]\\d*|0$/,\n    int: /^[1-9]\\d*$/,\n    number: /^\\d*$/,\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    letter: /^[a-zA-Z]*$/,\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    realName: /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    ascii: /^[\\x20-\\x7E]+$/\n  };\n};\nconst setTitle = (argTitle) => {\n  if (typeof globalThis.document === \"object\") {\n    globalThis.document.title = String(argTitle);\n  }\n  if (getInfo().isAppleMobile) {\n    const i = document.createElement(\"iframe\");\n    i.onload = () => {\n      setTimeout(() => {\n        console.debug(\"apple mobile setting title\");\n        i.remove();\n      }, 10);\n    };\n    globalThis.document.body.appendChild(i);\n  }\n};\nconst remInit = (argBaseSize = 16, argWidth = 375) => {\n  const setRem = () => {\n    const scale = safeData(globalThis, \"document.documentElement.clientWidth\", argWidth) / argWidth;\n    safeData(\n      globalThis,\n      \"document.documentElement.style.fontSize\",\n      argBaseSize * scale + \"px\",\n      true\n    );\n  };\n  setRem();\n  globalThis.onresize = () => {\n    setRem();\n  };\n};\nconst getCookie = (argName) => {\n  const cookies = globalThis.document.cookie.split(\"; \");\n  const cookie = cookies.find((cookie2) => {\n    const [name] = cookie2.split(\"=\");\n    return argName === name;\n  });\n  return cookie ? decodeURIComponent(cookie.split(\"=\")[1] || \"\") : \"\";\n};\nconst getCookieObj = () => {\n  const cookies = globalThis.document.cookie.split(\"; \");\n  const cookieObj = {};\n  cookies.forEach((cookie) => {\n    const [key, value = \"\"] = cookie.split(\"=\");\n    cookieObj[key] = decodeURIComponent(value);\n  });\n  return cookieObj;\n};\nconst setCookie = (argName, argValue = \"\", argTime = 24, argPath = \"/\", domain = globalThis.location.hostname) => {\n  if (argTime === 0) {\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};domain=${domain};`;\n  } else {\n    const now = new Date();\n    const offset = 8;\n    const utc = now.getTime() + now.getTimezoneOffset() * 6e4;\n    const nd = utc + 36e5 * offset;\n    const exp = new Date(nd);\n    exp.setTime(exp.getTime() + argTime * 60 * 60 * 1e3);\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};expires=${exp.toUTCString()};domain=${domain};`;\n  }\n};\nconst delCookie = (argName = \"\") => {\n  setCookie(argName, \"\", -1);\n};\nconst getInfo = () => {\n  let ua = safeData(globalThis, \"navigator.userAgent\", \"\").toLowerCase();\n  let platform = safeData(\n    globalThis,\n    \"navigator.userAgentData.platform\",\n    \"\"\n  ).toLowerCase();\n  let info = {\n    ua,\n    platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match(\"win\"),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match(\"mac\"),\n    isIos: !!platform.match(\"ios\"),\n    isAndroid: !!platform.match(\"android\"),\n    isSafari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"chrome\") < 1,\n    isIE: \"ActiveXObject\" in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i)\n  };\n  if (info.ua.match(\"msie\")) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/);\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1];\n    }\n  }\n  info.isAppleMobile = !!(info.isMobile && ua.toLowerCase().indexOf(\"applewebkit\") && ua.indexOf(\"chrome\") < 1);\n  return info;\n};\nconst getRandomColor = function() {\n  return \"#\" + (\"00000\" + (Math.random() * 16777216 << 0).toString(16)).substring(-6);\n};\nconst getStorage = (argKey, argNoJson) => {\n  let res = globalThis.localStorage.getItem(argKey);\n  if (!argNoJson && (0, import_is.isJson)(res) && res) {\n    res = JSON.parse(res);\n  }\n  return res || \"\";\n};\nconst setStorage = (argKey, argData) => {\n  if (typeof argData === \"object\") {\n    argData = JSON.stringify(argData);\n  }\n  globalThis.localStorage.setItem(argKey, String(argData));\n  return String(argData);\n};\nconst sleep = (ms) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\nconst delay = (time = 0) => {\n  let start = Date.now();\n  while (Date.now() - start < time) {\n    continue;\n  }\n};\nconst safe = function safe2(argData, argCheck, argValue, argSetValueForce) {\n  if (!argData) {\n    return argValue;\n  }\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    ;\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        } else {\n          return argValue;\n        }\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData.slice(argData.indexOf(\"?\") + 1).split(\"&\").forEach((v) => {\n      const [key, val] = v.split(\"=\");\n      if (key !== v) {\n        res[key] = decodeURIComponent(val);\n      }\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  const reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  const r = url.match(reg);\n  const search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {\n        if (!p4 || !p4.length) {\n          return \"\";\n        } else if (p1 === p4) {\n          return p1;\n        }\n        return p1 + p4;\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    const sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    const sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst getUuid = () => {\n  const S4 = () => ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nconst deepCopy = (obj, hash = /* @__PURE__ */ new WeakMap()) => {\n  if (obj === null || typeof obj !== \"object\")\n    return obj;\n  if (obj instanceof Date)\n    return new Date(obj);\n  if (obj instanceof RegExp)\n    return new RegExp(obj);\n  if (obj instanceof Map)\n    return new Map(deepCopy(Array.from(obj), hash));\n  if (obj instanceof Set)\n    return new Set(deepCopy(Array.from(obj), hash));\n  if (hash.has(obj))\n    return hash.get(obj);\n  const copy = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n  hash.set(obj, copy);\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      copy[key] = deepCopy(obj[key], hash);\n    }\n  }\n  return copy;\n};\nconst requestDeviceMotionPermission = () => {\n  if (typeof DeviceMotionEvent.requestPermission === \"function\") {\n    return DeviceMotionEvent.requestPermission().then((permissionState) => {\n      if (permissionState === \"granted\") {\n        return true;\n      } else {\n        return false;\n      }\n    }).catch(() => {\n      return false;\n    });\n  } else {\n    return true;\n  }\n};\nconst autoPlayAudio = (audioUrl, isWeixin) => {\n  const audio = new Audio(audioUrl);\n  audio.addEventListener(\n    \"ended\",\n    function() {\n      this.currentTime = 0;\n      this.play();\n    },\n    false\n  );\n  audio.autoplay = true;\n  if (isWeixin) {\n    document.addEventListener(\n      \"WeixinJSBridgeReady\",\n      function() {\n        audio.play();\n      },\n      false\n    );\n  }\n  return audio;\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 公共函数，使用'lj-utils'引入\n */\n\nimport { isJson } from './is'\nimport { Info, AnyObject, Bool } from './types'\n\nlet isOnline: boolean = true\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n// 断网监听\nif (globalThis && globalThis.addEventListener) {\n  // #ifdef H5\n  globalThis.addEventListener('offline', function () {\n    console.debug('offLine')\n    isOnline = false\n  })\n  globalThis.addEventListener('online', function () {\n    console.debug('onLine')\n    isOnline = true\n  })\n  // #endif\n}\n\n/**\n * @function\n * @description 获取当前网络状态（H5）\n * @return boolean\n * @returns {boolean}\n * @example\n * ```\n * const status = getNetworkStatus();\n * ```\n */\nexport const getNetworkStatus = () => {\n  return isOnline\n}\n\n/**\n * @function\n * @description 正则收集\n * @returns {object}\n * @returns {object}\n * @example\n * ```\n * const regex = getRegexp();\n * ```\n */\nexport const getRegexp = (): AnyObject => {\n  return {\n    // 匹配html标签，提取html文字： htmlCode.replace(reg.html,'')\n    html: /<[^>]+>/gim,\n    // 至少1数字1字母1字符，8-16位\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    // 普通身份证号正则，isIdCard更为严格\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    // 简易身份证号 数字+x\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    // 手机号\n    phone: /^1\\d{10}$/,\n    // 邮箱\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n    // 网址\n    http: /http:\\/\\/|https:\\/\\//,\n    // 含0整数（得分）\n    score: /^[1-9]\\d*|0$/,\n    // 整数\n    int: /^[1-9]\\d*$/,\n    // 匹配数字\n    number: /^\\d*$/,\n    // >=0||1位小数\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    // >=0||2位小数\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    // >=0||3位小数\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    // 字母+数字组合\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    // 字母\n    letter: /^[a-zA-Z]*$/,\n    // 帐号50个字内：大小写+数字+中文+'_'+'-'\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    // 中英文姓名 50个字内/中文 中文/英文-. 英文-./\n    realName:\n      /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    // 匹配中文\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    // 匹配ASCII,非中文之外的字符（全角字符）\n    ascii: /^[\\x20-\\x7E]+$/,\n  }\n}\n\n/**\n * @function\n * @description 设置标题\n * @param  {string} argTitle 标题\n */\nexport const setTitle = (argTitle: string | number) => {\n  if (typeof globalThis.document === 'object') {\n    globalThis.document.title = String(argTitle)\n  }\n  if (getInfo().isAppleMobile) {\n    const i = document.createElement('iframe')\n    i.onload = () => {\n      setTimeout(() => {\n        console.debug('apple mobile setting title')\n        i.remove()\n      }, 10)\n    }\n    globalThis.document.body.appendChild(i)\n  }\n}\n\n/**\n * @function\n * @description 使用postcss-px2rem时使用\n * @param {number} argBaseSize 基础大小 16px（要跟配置一致）\n * @param {number} argWidth 基准宽度\n */\nexport const remInit = (argBaseSize: number = 16, argWidth: number = 375) => {\n  // 设置 rem 函数\n  const setRem = () => {\n    // 当前页面宽度相对于 argWidth 宽的缩放比例，可根据自己需要修改。\n    const scale =\n      safeData(globalThis, 'document.documentElement.clientWidth', argWidth) /\n      argWidth\n    // 设置页面根节点字体大小\n    safeData(\n      globalThis,\n      'document.documentElement.style.fontSize',\n      argBaseSize * scale + 'px',\n      true\n    )\n  }\n  // 初始化\n  setRem()\n  // 改变窗口大小时重新设置 rem\n  globalThis.onresize = () => {\n    setRem()\n  }\n}\n\n/**\n * @function\n * @description 获取cookie\n * @param  {string} argName 要获取的值\n * @returns {string}\n */\nexport const getCookie = (argName: string): string => {\n  const cookies = globalThis.document.cookie.split('; ')\n  const cookie = cookies.find((cookie) => {\n    const [name] = cookie.split('=')\n    return argName === name\n  })\n  return cookie ? decodeURIComponent(cookie.split('=')[1] || '') : ''\n}\n/**\n * @function\n * @description 获取cookie对象\n * @returns {object}\n */\nexport const getCookieObj = (): { [key: string]: string } => {\n  const cookies = globalThis.document.cookie.split('; ')\n  const cookieObj: { [key: string]: string } = {}\n  cookies.forEach((cookie) => {\n    const [key, value = ''] = cookie.split('=')\n    cookieObj[key] = decodeURIComponent(value)\n  })\n  return cookieObj\n}\n/**\n * @function\n * @description 设置cookie\n * @param  {string} argName 要设置的key\n * @param  {string} argValue 要设置的value\n * @param  {number} argTime 过期时间/时 默认24\n * @param  {number} argPath path\n * @param  {number} domain domain\n */\nexport const setCookie = (\n  argName: string,\n  argValue: string | number | boolean = '',\n  argTime: number = 24,\n  argPath: string = '/',\n  domain: string = globalThis.location.hostname\n) => {\n  if (argTime === 0) {\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};domain=${domain};`\n  } else {\n    const now = new Date()\n    const offset = 8\n    const utc = now.getTime() + now.getTimezoneOffset() * 60000\n    const nd = utc + 3600000 * offset\n    const exp = new Date(nd)\n    exp.setTime(exp.getTime() + argTime * 60 * 60 * 1000)\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};expires=${exp.toUTCString()};domain=${domain};`\n  }\n}\n\n/**\n * @function\n * @description 清除cookie\n * @param  {string} argName 要清除的值\n */\nexport const delCookie = (argName: string = '') => {\n  setCookie(argName, '', -1)\n}\n\n/**\n * @function\n * @description 检测浏览器状态，系统状态 *\n * @returns {Info} {\n * ua: ua,\n * platform: 平台,\n * isMobile: 移动端,\n * isWin: winPC端,\n * isIphone: iphone,\n * isIpad: ipad,\n * isMac: mac,\n * isAppleMobile: 苹果移动端webview\n * isSafari: Safari浏览器,\n * isIos: Ios平台,\n * isAndroid: android平台,\n * isIE: 显示8 9 10, true为11以上\n * ...\n * }\n */\nexport const getInfo = (): Info => {\n  let ua = safeData(globalThis, 'navigator.userAgent', '').toLowerCase()\n  let platform: string = safeData(\n    globalThis,\n    'navigator.userAgentData.platform',\n    ''\n  ).toLowerCase()\n  let info: Info = {\n    ua: ua,\n    platform: platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match('win'),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match('mac'),\n    isIos: !!platform.match('ios'),\n    isAndroid: !!platform.match('android'),\n    isSafari: ua.indexOf('safari') > -1 && ua.indexOf('chrome') < 1,\n    isIE: 'ActiveXObject' in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i),\n  }\n  if (info.ua.match('msie')) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/)\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1]\n    }\n  }\n  info.isAppleMobile = !!(\n    info.isMobile &&\n    ua.toLowerCase().indexOf('applewebkit') &&\n    ua.indexOf('chrome') < 1\n  )\n  return info\n}\n\n/**\n * @function\n * @description 获取随机颜色\n * @return string\n */\nexport const getRandomColor = function () {\n  return (\n    '#' +\n    ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substring(-6)\n  )\n}\n\n/**\n * @function\n * @description 获取storage的值，默认将json转为obj\n * @param {string} argKey 要获取的key\n * @param {string} argNoJson true时不自动转换JSON字符串\n * @returns {any} key对应的数据\n */\nexport const getStorage = (argKey: string, argNoJson?: string): any => {\n  let res = globalThis.localStorage.getItem(argKey)\n  // 默认转义JSON字符串\n  if (!argNoJson && isJson(res) && res) {\n    res = JSON.parse(res)\n  }\n  return res || ''\n}\n\n/**\n * @function\n * @description 设置storage的值，默认将obj转为json\n * @param {string} argKey 要获取的key\n * @param {unknown} argData 要保存的数据\n * @returns {string} 保存的数据String\n */\nexport const setStorage = (argKey: string, argData: unknown): string => {\n  if (typeof argData === 'object') {\n    argData = JSON.stringify(argData)\n  }\n  globalThis.localStorage.setItem(argKey, String(argData))\n  return String(argData)\n}\n\n/**\n * @function\n * @description setTimeout promise版，异步阻塞函数\n * @param  {number} ms 时间，毫秒\n */\nexport const sleep = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n/**\n * @description 同步阻塞函数。\n * @param {number} time - 延迟的时间量，单位为毫秒\n */\nexport const delay = (time: number = 0) => {\n  let start = Date.now()\n  while (Date.now() - start < time) {\n    continue\n  }\n}\n\n// 返回T下的key对应类型\ntype KeyOf<T extends Record<string, any>, K = keyof T> = K extends string\n  ? T[K] extends Function\n    ? never\n    : K\n  : never\ntype DotField<T extends Record<string, any>, K = KeyOf<T>> = K extends string\n  ? K | `${K}.${DotField<T[K]>}`\n  : never\n// 返回传入K或T[K]对应的类型\ntype ValueOf<\n  T extends Record<string, any>,\n  K\n> = K extends `${infer I}.${infer R}`\n  ? ValueOf<T[I], R>\n  : K extends string\n  ? T[K]\n  : never\n\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safe = function safe<\n  T extends Record<string, any>,\n  K extends DotField<T>\n>(\n  argData: T,\n  argCheck: K,\n  argValue?: ValueOf<T, K>,\n  argSetValueForce?: Bool\n): ValueOf<T, K> | undefined | string {\n  if (!argData) {\n    return argValue\n  }\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    ;(argData as AnyObject)[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        } else {\n          return argValue\n        }\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): AnyObject => {\n  const res: AnyObject = {}\n  try {\n    argData\n      .slice(argData.indexOf('?') + 1)\n      .split('&')\n      .forEach((v) => {\n        const [key, val] = v.split('=')\n        if (key !== v) {\n          res[key] = decodeURIComponent(val)\n        }\n      })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  const reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  const r = url.match(reg)\n  const search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {\n        if (!p4 || !p4.length) {\n          return ''\n        } else if (p1 === p4) {\n          return p1\n        }\n        return p1 + p4\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    const sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    const sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  const S4 = () =>\n    (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * @function\n * @description深拷贝函数\n * @param obj 需要拷贝的对象\n * @returns 拷贝后的对象\n */\nexport const deepCopy = (obj: any, hash = new WeakMap()): any => {\n  if (obj === null || typeof obj !== 'object') return obj\n  if (obj instanceof Date) return new Date(obj)\n  if (obj instanceof RegExp) return new RegExp(obj)\n  if (obj instanceof Map) return new Map(deepCopy(Array.from(obj), hash))\n  if (obj instanceof Set) return new Set(deepCopy(Array.from(obj), hash))\n  if (hash.has(obj)) return hash.get(obj)\n\n  const copy = Array.isArray(obj)\n    ? []\n    : Object.create(Object.getPrototypeOf(obj))\n  hash.set(obj, copy)\n\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      copy[key] = deepCopy(obj[key], hash)\n    }\n  }\n  return copy\n}\n\n/**\n * @function\n * @description 摇一摇，请求使用 DeviceMotionEvent API 的权限。for ios\n * @returns Promise，指示是否已授予权限。\n * @example\n * ```\n * const hasRequest = await requestDeviceMotionPermission()\n * if (hasRequest) {\n *    useEventListener(window, 'devicemotion', handleShake)\n *  } else {\n *    showToast('未授权访问运动传感器,请手动点击！')\n *  }\n * ```\n */\nexport const requestDeviceMotionPermission = () => {\n  if (typeof (DeviceMotionEvent as any).requestPermission === 'function') {\n    return (DeviceMotionEvent as any)\n      .requestPermission()\n      .then((permissionState: string) => {\n        if (permissionState === 'granted') {\n          return true\n        } else {\n          return false\n        }\n      })\n      .catch(() => {\n        return false\n      })\n  } else {\n    return true\n  }\n}\n\n/**\n * @function\n * @description 自动播放音频并返回音频元素。\n * @param {string} audioUrl - 音频地址\n * @param {boolean} isWeixin - 是否在微信中\n * @returns {HTMLAudioElement} - 音频元素\n */\nexport const autoPlayAudio = (\n  audioUrl: string,\n  isWeixin: boolean\n): HTMLAudioElement => {\n  const audio = new Audio(audioUrl)\n  audio.addEventListener(\n    'ended',\n    function () {\n      this.currentTime = 0\n      this.play()\n    },\n    false\n  )\n  audio.autoplay = true\n  if (isWeixin) {\n    document.addEventListener(\n      'WeixinJSBridgeReady',\n      function () {\n        audio.play()\n      },\n      false\n    )\n  }\n  return audio\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2368","url":"/home/runner/work/utils/utils/src/base.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14384,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14381,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":30}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":30}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":33}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"autoPlayAudio","ranges":[{"startOffset":934,"endOffset":953,"count":0}],"isBlockCoverage":false},{"functionName":"deepCopy","ranges":[{"startOffset":967,"endOffset":981,"count":9}],"isBlockCoverage":true},{"functionName":"delCookie","ranges":[{"startOffset":996,"endOffset":1011,"count":1}],"isBlockCoverage":true},{"functionName":"delay","ranges":[{"startOffset":1022,"endOffset":1033,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":1048,"endOffset":1063,"count":1}],"isBlockCoverage":true},{"functionName":"getCookieObj","ranges":[{"startOffset":1081,"endOffset":1099,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":1111,"endOffset":1123,"count":4}],"isBlockCoverage":true},{"functionName":"getInfo","ranges":[{"startOffset":1136,"endOffset":1149,"count":1}],"isBlockCoverage":true},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1171,"endOffset":1193,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1205,"endOffset":1217,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":1237,"endOffset":1257,"count":1}],"isBlockCoverage":true},{"functionName":"getRegexp","ranges":[{"startOffset":1272,"endOffset":1287,"count":1}],"isBlockCoverage":true},{"functionName":"getStorage","ranges":[{"startOffset":1303,"endOffset":1319,"count":1}],"isBlockCoverage":true},{"functionName":"getUrlParam","ranges":[{"startOffset":1336,"endOffset":1353,"count":1}],"isBlockCoverage":true},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1373,"endOffset":1393,"count":1}],"isBlockCoverage":true},{"functionName":"getUuid","ranges":[{"startOffset":1406,"endOffset":1419,"count":1}],"isBlockCoverage":true},{"functionName":"randomInt","ranges":[{"startOffset":1434,"endOffset":1449,"count":1}],"isBlockCoverage":true},{"functionName":"remInit","ranges":[{"startOffset":1462,"endOffset":1475,"count":1}],"isBlockCoverage":true},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1496,"endOffset":1517,"count":1}],"isBlockCoverage":true},{"functionName":"requestDeviceMotionPermission","ranges":[{"startOffset":1552,"endOffset":1587,"count":0}],"isBlockCoverage":false},{"functionName":"safe","ranges":[{"startOffset":1597,"endOffset":1607,"count":1}],"isBlockCoverage":true},{"functionName":"safeData","ranges":[{"startOffset":1621,"endOffset":1635,"count":1}],"isBlockCoverage":true},{"functionName":"setCookie","ranges":[{"startOffset":1650,"endOffset":1665,"count":1}],"isBlockCoverage":true},{"functionName":"setEnv","ranges":[{"startOffset":1677,"endOffset":1689,"count":1}],"isBlockCoverage":true},{"functionName":"setLog","ranges":[{"startOffset":1701,"endOffset":1713,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1725,"endOffset":1737,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":1753,"endOffset":1769,"count":1}],"isBlockCoverage":true},{"functionName":"setTitle","ranges":[{"startOffset":1783,"endOffset":1797,"count":1}],"isBlockCoverage":true},{"functionName":"setUrlParams","ranges":[{"startOffset":1815,"endOffset":1833,"count":1}],"isBlockCoverage":true},{"functionName":"sleep","ranges":[{"startOffset":1844,"endOffset":1855,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2086,"endOffset":2154,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2197,"endOffset":2263,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":2293,"endOffset":2321,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":2341,"endOffset":3261,"count":1}],"isBlockCoverage":true},{"functionName":"setTitle","ranges":[{"startOffset":3280,"endOffset":3672,"count":1},{"startOffset":3430,"endOffset":3670,"count":0}],"isBlockCoverage":true},{"functionName":"i.onload","ranges":[{"startOffset":3495,"endOffset":3620,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":3690,"endOffset":4058,"count":1}],"isBlockCoverage":true},{"functionName":"setRem","ranges":[{"startOffset":3747,"endOffset":3992,"count":1}],"isBlockCoverage":true},{"functionName":"globalThis.onresize","ranges":[{"startOffset":4030,"endOffset":4055,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":4078,"endOffset":4342,"count":3},{"startOffset":4286,"endOffset":4334,"count":2},{"startOffset":4328,"endOffset":4333,"count":0},{"startOffset":4335,"endOffset":4339,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4181,"endOffset":4267,"count":5}],"isBlockCoverage":true},{"functionName":"getCookieObj","ranges":[{"startOffset":4365,"endOffset":4611,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":4631,"endOffset":5284,"count":5},{"startOffset":4750,"endOffset":4880,"count":0}],"isBlockCoverage":true},{"functionName":"delCookie","ranges":[{"startOffset":5304,"endOffset":5355,"count":2}],"isBlockCoverage":true},{"functionName":"getInfo","ranges":[{"startOffset":5373,"endOffset":6376,"count":2},{"startOffset":5897,"endOffset":5924,"count":0},{"startOffset":6126,"endOffset":6246,"count":0},{"startOffset":6287,"endOffset":6329,"count":0},{"startOffset":6330,"endOffset":6357,"count":0}],"isBlockCoverage":true},{"functionName":"getRandomColor","ranges":[{"startOffset":6401,"endOffset":6502,"count":1}],"isBlockCoverage":true},{"functionName":"getStorage","ranges":[{"startOffset":6523,"endOffset":6710,"count":3},{"startOffset":6648,"endOffset":6654,"count":0},{"startOffset":6656,"endOffset":6688,"count":0},{"startOffset":6702,"endOffset":6707,"count":2}],"isBlockCoverage":true},{"functionName":"setStorage","ranges":[{"startOffset":6731,"endOffset":6921,"count":3},{"startOffset":6789,"endOffset":6833,"count":1}],"isBlockCoverage":true},{"functionName":"sleep","ranges":[{"startOffset":6937,"endOffset":7008,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6968,"endOffset":7004,"count":1}],"isBlockCoverage":true},{"functionName":"delay","ranges":[{"startOffset":7024,"endOffset":7123,"count":0}],"isBlockCoverage":false},{"functionName":"safe2","ranges":[{"startOffset":7138,"endOffset":8047,"count":1},{"startOffset":7218,"endOffset":7244,"count":0},{"startOffset":7280,"endOffset":7311,"count":0},{"startOffset":7313,"endOffset":7417,"count":0},{"startOffset":7560,"endOffset":7813,"count":3},{"startOffset":7612,"endOffset":7765,"count":0},{"startOffset":7801,"endOffset":7806,"count":0},{"startOffset":7842,"endOffset":7897,"count":0},{"startOffset":7937,"endOffset":7982,"count":0},{"startOffset":8029,"endOffset":8040,"count":0}],"isBlockCoverage":true},{"functionName":"safeData","ranges":[{"startOffset":8066,"endOffset":8977,"count":20},{"startOffset":8154,"endOffset":8185,"count":0},{"startOffset":8187,"endOffset":8291,"count":0},{"startOffset":8389,"endOffset":8415,"count":1},{"startOffset":8415,"endOffset":8434,"count":19},{"startOffset":8434,"endOffset":8753,"count":8},{"startOffset":8477,"endOffset":8749,"count":14},{"startOffset":8529,"endOffset":8701,"count":3},{"startOffset":8561,"endOffset":8649,"count":1},{"startOffset":8649,"endOffset":8693,"count":2},{"startOffset":8701,"endOffset":8737,"count":12},{"startOffset":8737,"endOffset":8742,"count":0},{"startOffset":8749,"endOffset":8753,"count":6},{"startOffset":8753,"endOffset":8778,"count":17},{"startOffset":8778,"endOffset":8827,"count":3},{"startOffset":8827,"endOffset":8867,"count":17},{"startOffset":8867,"endOffset":8912,"count":4},{"startOffset":8912,"endOffset":8975,"count":13},{"startOffset":8959,"endOffset":8970,"count":7}],"isBlockCoverage":true},{"functionName":"setUrlParams","ranges":[{"startOffset":9000,"endOffset":9329,"count":3},{"startOffset":9055,"endOffset":9074,"count":1},{"startOffset":9173,"endOffset":9193,"count":1},{"startOffset":9193,"endOffset":9328,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9211,"endOffset":9312,"count":3},{"startOffset":9284,"endOffset":9308,"count":1}],"isBlockCoverage":true},{"functionName":"getUrlParam","ranges":[{"startOffset":9351,"endOffset":9563,"count":4},{"startOffset":9397,"endOffset":9402,"count":1},{"startOffset":9501,"endOffset":9521,"count":1},{"startOffset":9521,"endOffset":9562,"count":3}],"isBlockCoverage":true},{"functionName":"getUrlParamObj","ranges":[{"startOffset":9588,"endOffset":9983,"count":7},{"startOffset":9626,"endOffset":9653,"count":1},{"startOffset":9900,"endOffset":9981,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9749,"endOffset":9877,"count":9},{"startOffset":9818,"endOffset":9871,"count":7}],"isBlockCoverage":true},{"functionName":"replaceUrlParam","ranges":[{"startOffset":10009,"endOffset":11221,"count":12},{"startOffset":10054,"endOffset":10059,"count":0},{"startOffset":10247,"endOffset":10264,"count":11},{"startOffset":10266,"endOffset":10561,"count":4},{"startOffset":10561,"endOffset":11200,"count":8},{"startOffset":10582,"endOffset":10638,"count":5},{"startOffset":10638,"endOffset":11200,"count":3},{"startOffset":10667,"endOffset":11011,"count":2},{"startOffset":10731,"endOffset":10931,"count":0},{"startOffset":11011,"endOffset":11200,"count":1},{"startOffset":11075,"endOffset":11139,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10323,"endOffset":10503,"count":4},{"startOffset":10371,"endOffset":10384,"count":2},{"startOffset":10386,"endOffset":10502,"count":2},{"startOffset":10439,"endOffset":10471,"count":0}],"isBlockCoverage":true},{"functionName":"getUuid","ranges":[{"startOffset":11239,"endOffset":11408,"count":1}],"isBlockCoverage":true},{"functionName":"S4","ranges":[{"startOffset":11260,"endOffset":11325,"count":5}],"isBlockCoverage":true},{"functionName":"randomInt","ranges":[{"startOffset":11428,"endOffset":11564,"count":3}],"isBlockCoverage":true},{"functionName":"setEnv","ranges":[{"startOffset":11581,"endOffset":11606,"count":1}],"isBlockCoverage":true},{"functionName":"getEnv","ranges":[{"startOffset":11623,"endOffset":11668,"count":4}],"isBlockCoverage":true},{"functionName":"setObj","ranges":[{"startOffset":11685,"endOffset":11807,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":11824,"endOffset":12057,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":12074,"endOffset":12883,"count":0}],"isBlockCoverage":false},{"functionName":"deepCopy","ranges":[{"startOffset":12902,"endOffset":13589,"count":19},{"startOffset":13002,"endOffset":13013,"count":10},{"startOffset":13013,"endOffset":13045,"count":9},{"startOffset":13045,"endOffset":13066,"count":1},{"startOffset":13066,"endOffset":13100,"count":8},{"startOffset":13100,"endOffset":13123,"count":1},{"startOffset":13123,"endOffset":13154,"count":7},{"startOffset":13154,"endOffset":13202,"count":1},{"startOffset":13202,"endOffset":13233,"count":6},{"startOffset":13233,"endOffset":13281,"count":1},{"startOffset":13281,"endOffset":13307,"count":5},{"startOffset":13307,"endOffset":13328,"count":0},{"startOffset":13328,"endOffset":13363,"count":5},{"startOffset":13363,"endOffset":13367,"count":4},{"startOffset":13368,"endOffset":13411,"count":1},{"startOffset":13459,"endOffset":13572,"count":8},{"startOffset":13572,"endOffset":13588,"count":5}],"isBlockCoverage":true},{"functionName":"requestDeviceMotionPermission","ranges":[{"startOffset":13629,"endOffset":13972,"count":0}],"isBlockCoverage":false},{"functionName":"autoPlayAudio","ranges":[{"startOffset":13996,"endOffset":14377,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\r\n * @module index\r\n * @author linjielinlin 993353454@qq.com\r\n * @date 2022-05-11 22:07:43\r\n * @description 判断函数\r\n */\r\n/**\r\n * @function isPrime\r\n * @description 判断一个数是否为质数\r\n * @param {number} argValue 需要判断的数值\r\n * @returns {boolean} 如果是质数返回true，否则返回false\r\n * @example\r\n * isPrime(5); // true\r\n */\r\nexport const isPrime = (argValue: number): boolean =>\r\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\r\n\r\n/**\r\n * @function isJson\r\n * @description 判断一个值是否为JSON\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是JSON返回true，否则返回false\r\n * @example\r\n * isJson('{\"name\":\"John\"}'); // true\r\n */\r\nexport const isJson = (argData: any): boolean => {\r\n  try {\r\n    return typeof JSON.parse(argData || '') === 'object'\r\n  } catch (e) {}\r\n  return false\r\n}\r\n/**\r\n * @function isBlob\r\n * @description 判断一个值是否为Blob\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是Blob返回true，否则返回false\r\n * @example\r\n * isBlob(new Blob()); // true\r\n */\r\nexport const isBlob = (argData: any): boolean => {\r\n  return argData instanceof Blob\r\n}\r\n\r\n/**\r\n * @function isFile\r\n * @description 判断一个值是否为File\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是File返回true，否则返回false\r\n * @example\r\n * isFile(new File([\"\"], \"filename\")); // true\r\n */\r\nexport const isFile = (argData: any): boolean => {\r\n  return argData instanceof File\r\n}\r\n\r\n/**\r\n * @function isIdCard\r\n * @description 判断一个字符串是否为正确的身份证号码\r\n * @param  {string} code 身份证号码\r\n * @returns {boolean} 如果是正确的身份证号码返回true，否则返回false\r\n * @example\r\n * isIdCard('320311770706001'); // false\r\n */\r\nexport const isIdCard = (code: string): boolean => {\r\n  let tip = ''\r\n  let city: { [key: number]: string } = {\r\n    11: '北京',\r\n    12: '天津',\r\n    13: '河北',\r\n    14: '山西',\r\n    15: '内蒙古',\r\n    21: '辽宁',\r\n    22: '吉林',\r\n    23: '黑龙江 ',\r\n    31: '上海',\r\n    32: '江苏',\r\n    33: '浙江',\r\n    34: '安徽',\r\n    35: '福建',\r\n    36: '江西',\r\n    37: '山东',\r\n    41: '河南',\r\n    42: '湖北 ',\r\n    43: '湖南',\r\n    44: '广东',\r\n    45: '广西',\r\n    46: '海南',\r\n    50: '重庆',\r\n    51: '四川',\r\n    52: '贵州',\r\n    53: '云南',\r\n    54: '西藏 ',\r\n    61: '陕西',\r\n    62: '甘肃',\r\n    63: '青海',\r\n    64: '宁夏',\r\n    65: '新疆',\r\n    71: '台湾',\r\n    81: '香港',\r\n    82: '澳门',\r\n    91: '国外 ',\r\n  }\r\n  let pass = true\r\n  if (\r\n    !code ||\r\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\r\n      code\r\n    )\r\n  ) {\r\n    tip = '身份证号格式错误'\r\n    pass = false\r\n  } else if (!city[+code.substring(0, 2)]) {\r\n    tip = '地址编码错误'\r\n    pass = false\r\n  } else {\r\n    // 18位身份证需要验证最后一位校验位\r\n    if (code.length === 18) {\r\n      const codeArr = code.split('')\r\n      // ∑(ai×Wi)(mod 11)\r\n      // 加权因子\r\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\r\n      // 校验位\r\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\r\n      let sum = 0\r\n      let ai = 0\r\n      let wi = 0\r\n      for (let i = 0; i < 17; i++) {\r\n        ai = Number(codeArr[i])\r\n        wi = factor[i]\r\n        sum += ai * wi\r\n      }\r\n      let last = parity[sum % 11] + ''\r\n      if (last !== code[17]) {\r\n        tip = '校验位错误'\r\n        pass = false\r\n      }\r\n    }\r\n  }\r\n  console.assert(!tip, tip)\r\n  return pass\r\n}\r\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2369","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":3}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":3}],"isBlockCoverage":true},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":3},{"startOffset":1245,"endOffset":1250,"count":2}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":7,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1706283596664,"runtime":207,"slow":false,"start":1706283596457},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/file.spec.ts","testResults":[{"rowKey":0,"ancestorTitles":["file"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"file blobToBase64","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"blobToBase64"},{"rowKey":1,"ancestorTitles":["file"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"file blobUrlToFileMock","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"blobUrlToFileMock"},{"rowKey":2,"ancestorTitles":["file"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"file dataURLtoBlob","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"dataURLtoBlob"},{"rowKey":3,"ancestorTitles":["file"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"file blobToFile","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"blobToFile"},{"rowKey":4,"ancestorTitles":["file"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"file dlFileMock","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"dlFileMock"},{"rowKey":5,"ancestorTitles":["file"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"file getDuration","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getDuration"},{"rowKey":6,"ancestorTitles":["file"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"file loadFileMock","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"loadFileMock"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __reExport = (target, mod, secondTarget) => (__copyProps(target, mod, \"default\"), secondTarget && __copyProps(secondTarget, mod, \"default\"));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\nmodule.exports = __toCommonJS(stdin_exports);\n__reExport(stdin_exports, require(\"./is\"), module.exports);\n__reExport(stdin_exports, require(\"./base\"), module.exports);\n__reExport(stdin_exports, require(\"./file\"), module.exports);\n__reExport(stdin_exports, require(\"./transform\"), module.exports);\n","originalCode":"/**\r\n * @author linjielinlin 993353454@qq.com\r\n * @date 2022-05-11 22:07:43\r\n * @description no\r\n */\r\nexport * from './is'\r\nexport * from './base'\r\nexport * from './file'\r\nexport * from './transform'\r\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"8","url":"/home/runner/work/utils/utils/src/index.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1211,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1208,"count":1}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":299,"endOffset":645,"count":9},{"startOffset":368,"endOffset":397,"count":0},{"startOffset":452,"endOffset":626,"count":128},{"startOffset":484,"endOffset":501,"count":121},{"startOffset":511,"endOffset":626,"count":121}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":537,"endOffset":552,"count":9}],"isBlockCoverage":true},{"functionName":"__reExport","ranges":[{"startOffset":664,"endOffset":791,"count":4}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":812,"endOffset":883,"count":1}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\r\n * @module index\r\n * @author linjielinlin 993353454@qq.com\r\n * @date 2022-05-11 22:07:43\r\n * @description 判断函数\r\n */\r\n/**\r\n * @function isPrime\r\n * @description 判断一个数是否为质数\r\n * @param {number} argValue 需要判断的数值\r\n * @returns {boolean} 如果是质数返回true，否则返回false\r\n * @example\r\n * isPrime(5); // true\r\n */\r\nexport const isPrime = (argValue: number): boolean =>\r\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\r\n\r\n/**\r\n * @function isJson\r\n * @description 判断一个值是否为JSON\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是JSON返回true，否则返回false\r\n * @example\r\n * isJson('{\"name\":\"John\"}'); // true\r\n */\r\nexport const isJson = (argData: any): boolean => {\r\n  try {\r\n    return typeof JSON.parse(argData || '') === 'object'\r\n  } catch (e) {}\r\n  return false\r\n}\r\n/**\r\n * @function isBlob\r\n * @description 判断一个值是否为Blob\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是Blob返回true，否则返回false\r\n * @example\r\n * isBlob(new Blob()); // true\r\n */\r\nexport const isBlob = (argData: any): boolean => {\r\n  return argData instanceof Blob\r\n}\r\n\r\n/**\r\n * @function isFile\r\n * @description 判断一个值是否为File\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是File返回true，否则返回false\r\n * @example\r\n * isFile(new File([\"\"], \"filename\")); // true\r\n */\r\nexport const isFile = (argData: any): boolean => {\r\n  return argData instanceof File\r\n}\r\n\r\n/**\r\n * @function isIdCard\r\n * @description 判断一个字符串是否为正确的身份证号码\r\n * @param  {string} code 身份证号码\r\n * @returns {boolean} 如果是正确的身份证号码返回true，否则返回false\r\n * @example\r\n * isIdCard('320311770706001'); // false\r\n */\r\nexport const isIdCard = (code: string): boolean => {\r\n  let tip = ''\r\n  let city: { [key: number]: string } = {\r\n    11: '北京',\r\n    12: '天津',\r\n    13: '河北',\r\n    14: '山西',\r\n    15: '内蒙古',\r\n    21: '辽宁',\r\n    22: '吉林',\r\n    23: '黑龙江 ',\r\n    31: '上海',\r\n    32: '江苏',\r\n    33: '浙江',\r\n    34: '安徽',\r\n    35: '福建',\r\n    36: '江西',\r\n    37: '山东',\r\n    41: '河南',\r\n    42: '湖北 ',\r\n    43: '湖南',\r\n    44: '广东',\r\n    45: '广西',\r\n    46: '海南',\r\n    50: '重庆',\r\n    51: '四川',\r\n    52: '贵州',\r\n    53: '云南',\r\n    54: '西藏 ',\r\n    61: '陕西',\r\n    62: '甘肃',\r\n    63: '青海',\r\n    64: '宁夏',\r\n    65: '新疆',\r\n    71: '台湾',\r\n    81: '香港',\r\n    82: '澳门',\r\n    91: '国外 ',\r\n  }\r\n  let pass = true\r\n  if (\r\n    !code ||\r\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\r\n      code\r\n    )\r\n  ) {\r\n    tip = '身份证号格式错误'\r\n    pass = false\r\n  } else if (!city[+code.substring(0, 2)]) {\r\n    tip = '地址编码错误'\r\n    pass = false\r\n  } else {\r\n    // 18位身份证需要验证最后一位校验位\r\n    if (code.length === 18) {\r\n      const codeArr = code.split('')\r\n      // ∑(ai×Wi)(mod 11)\r\n      // 加权因子\r\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\r\n      // 校验位\r\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\r\n      let sum = 0\r\n      let ai = 0\r\n      let wi = 0\r\n      for (let i = 0; i < 17; i++) {\r\n        ai = Number(codeArr[i])\r\n        wi = factor[i]\r\n        sum += ai * wi\r\n      }\r\n      let last = parity[sum % 11] + ''\r\n      if (last !== code[17]) {\r\n        tip = '校验位错误'\r\n        pass = false\r\n      }\r\n    }\r\n  }\r\n  console.assert(!tip, tip)\r\n  return pass\r\n}\r\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2629","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":3}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":3}],"isBlockCoverage":true},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":3}],"isBlockCoverage":true},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  autoPlayAudio: () => autoPlayAudio,\n  deepCopy: () => deepCopy,\n  delCookie: () => delCookie,\n  delay: () => delay,\n  getCookie: () => getCookie,\n  getCookieObj: () => getCookieObj,\n  getEnv: () => getEnv,\n  getInfo: () => getInfo,\n  getNetworkStatus: () => getNetworkStatus,\n  getObj: () => getObj,\n  getRandomColor: () => getRandomColor,\n  getRegexp: () => getRegexp,\n  getStorage: () => getStorage,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  randomInt: () => randomInt,\n  remInit: () => remInit,\n  replaceUrlParam: () => replaceUrlParam,\n  requestDeviceMotionPermission: () => requestDeviceMotionPermission,\n  safe: () => safe,\n  safeData: () => safeData,\n  setCookie: () => setCookie,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setStorage: () => setStorage,\n  setTitle: () => setTitle,\n  setUrlParams: () => setUrlParams,\n  sleep: () => sleep\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_is = require(\"./is\");\nlet isOnline = true;\nlet ENV = {};\nlet DATA_OBJECT = {};\nif (globalThis && globalThis.addEventListener) {\n  globalThis.addEventListener(\"offline\", function() {\n    console.debug(\"offLine\");\n    isOnline = false;\n  });\n  globalThis.addEventListener(\"online\", function() {\n    console.debug(\"onLine\");\n    isOnline = true;\n  });\n}\nconst getNetworkStatus = () => {\n  return isOnline;\n};\nconst getRegexp = () => {\n  return {\n    html: /<[^>]+>/gim,\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    phone: /^1\\d{10}$/,\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n    http: /http:\\/\\/|https:\\/\\//,\n    score: /^[1-9]\\d*|0$/,\n    int: /^[1-9]\\d*$/,\n    number: /^\\d*$/,\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    letter: /^[a-zA-Z]*$/,\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    realName: /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    ascii: /^[\\x20-\\x7E]+$/\n  };\n};\nconst setTitle = (argTitle) => {\n  if (typeof globalThis.document === \"object\") {\n    globalThis.document.title = String(argTitle);\n  }\n  if (getInfo().isAppleMobile) {\n    const i = document.createElement(\"iframe\");\n    i.onload = () => {\n      setTimeout(() => {\n        console.debug(\"apple mobile setting title\");\n        i.remove();\n      }, 10);\n    };\n    globalThis.document.body.appendChild(i);\n  }\n};\nconst remInit = (argBaseSize = 16, argWidth = 375) => {\n  const setRem = () => {\n    const scale = safeData(globalThis, \"document.documentElement.clientWidth\", argWidth) / argWidth;\n    safeData(\n      globalThis,\n      \"document.documentElement.style.fontSize\",\n      argBaseSize * scale + \"px\",\n      true\n    );\n  };\n  setRem();\n  globalThis.onresize = () => {\n    setRem();\n  };\n};\nconst getCookie = (argName) => {\n  const cookies = globalThis.document.cookie.split(\"; \");\n  const cookie = cookies.find((cookie2) => {\n    const [name] = cookie2.split(\"=\");\n    return argName === name;\n  });\n  return cookie ? decodeURIComponent(cookie.split(\"=\")[1] || \"\") : \"\";\n};\nconst getCookieObj = () => {\n  const cookies = globalThis.document.cookie.split(\"; \");\n  const cookieObj = {};\n  cookies.forEach((cookie) => {\n    const [key, value = \"\"] = cookie.split(\"=\");\n    cookieObj[key] = decodeURIComponent(value);\n  });\n  return cookieObj;\n};\nconst setCookie = (argName, argValue = \"\", argTime = 24, argPath = \"/\", domain = globalThis.location.hostname) => {\n  if (argTime === 0) {\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};domain=${domain};`;\n  } else {\n    const now = new Date();\n    const offset = 8;\n    const utc = now.getTime() + now.getTimezoneOffset() * 6e4;\n    const nd = utc + 36e5 * offset;\n    const exp = new Date(nd);\n    exp.setTime(exp.getTime() + argTime * 60 * 60 * 1e3);\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};expires=${exp.toUTCString()};domain=${domain};`;\n  }\n};\nconst delCookie = (argName = \"\") => {\n  setCookie(argName, \"\", -1);\n};\nconst getInfo = () => {\n  let ua = safeData(globalThis, \"navigator.userAgent\", \"\").toLowerCase();\n  let platform = safeData(\n    globalThis,\n    \"navigator.userAgentData.platform\",\n    \"\"\n  ).toLowerCase();\n  let info = {\n    ua,\n    platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match(\"win\"),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match(\"mac\"),\n    isIos: !!platform.match(\"ios\"),\n    isAndroid: !!platform.match(\"android\"),\n    isSafari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"chrome\") < 1,\n    isIE: \"ActiveXObject\" in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i)\n  };\n  if (info.ua.match(\"msie\")) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/);\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1];\n    }\n  }\n  info.isAppleMobile = !!(info.isMobile && ua.toLowerCase().indexOf(\"applewebkit\") && ua.indexOf(\"chrome\") < 1);\n  return info;\n};\nconst getRandomColor = function() {\n  return \"#\" + (\"00000\" + (Math.random() * 16777216 << 0).toString(16)).substring(-6);\n};\nconst getStorage = (argKey, argNoJson) => {\n  let res = globalThis.localStorage.getItem(argKey);\n  if (!argNoJson && (0, import_is.isJson)(res) && res) {\n    res = JSON.parse(res);\n  }\n  return res || \"\";\n};\nconst setStorage = (argKey, argData) => {\n  if (typeof argData === \"object\") {\n    argData = JSON.stringify(argData);\n  }\n  globalThis.localStorage.setItem(argKey, String(argData));\n  return String(argData);\n};\nconst sleep = (ms) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\nconst delay = (time = 0) => {\n  let start = Date.now();\n  while (Date.now() - start < time) {\n    continue;\n  }\n};\nconst safe = function safe2(argData, argCheck, argValue, argSetValueForce) {\n  if (!argData) {\n    return argValue;\n  }\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    ;\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        } else {\n          return argValue;\n        }\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData.slice(argData.indexOf(\"?\") + 1).split(\"&\").forEach((v) => {\n      const [key, val] = v.split(\"=\");\n      if (key !== v) {\n        res[key] = decodeURIComponent(val);\n      }\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  const reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  const r = url.match(reg);\n  const search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {\n        if (!p4 || !p4.length) {\n          return \"\";\n        } else if (p1 === p4) {\n          return p1;\n        }\n        return p1 + p4;\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    const sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    const sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst getUuid = () => {\n  const S4 = () => ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nconst deepCopy = (obj, hash = /* @__PURE__ */ new WeakMap()) => {\n  if (obj === null || typeof obj !== \"object\")\n    return obj;\n  if (obj instanceof Date)\n    return new Date(obj);\n  if (obj instanceof RegExp)\n    return new RegExp(obj);\n  if (obj instanceof Map)\n    return new Map(deepCopy(Array.from(obj), hash));\n  if (obj instanceof Set)\n    return new Set(deepCopy(Array.from(obj), hash));\n  if (hash.has(obj))\n    return hash.get(obj);\n  const copy = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n  hash.set(obj, copy);\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      copy[key] = deepCopy(obj[key], hash);\n    }\n  }\n  return copy;\n};\nconst requestDeviceMotionPermission = () => {\n  if (typeof DeviceMotionEvent.requestPermission === \"function\") {\n    return DeviceMotionEvent.requestPermission().then((permissionState) => {\n      if (permissionState === \"granted\") {\n        return true;\n      } else {\n        return false;\n      }\n    }).catch(() => {\n      return false;\n    });\n  } else {\n    return true;\n  }\n};\nconst autoPlayAudio = (audioUrl, isWeixin) => {\n  const audio = new Audio(audioUrl);\n  audio.addEventListener(\n    \"ended\",\n    function() {\n      this.currentTime = 0;\n      this.play();\n    },\n    false\n  );\n  audio.autoplay = true;\n  if (isWeixin) {\n    document.addEventListener(\n      \"WeixinJSBridgeReady\",\n      function() {\n        audio.play();\n      },\n      false\n    );\n  }\n  return audio;\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 公共函数，使用'lj-utils'引入\n */\n\nimport { isJson } from './is'\nimport { Info, AnyObject, Bool } from './types'\n\nlet isOnline: boolean = true\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n// 断网监听\nif (globalThis && globalThis.addEventListener) {\n  // #ifdef H5\n  globalThis.addEventListener('offline', function () {\n    console.debug('offLine')\n    isOnline = false\n  })\n  globalThis.addEventListener('online', function () {\n    console.debug('onLine')\n    isOnline = true\n  })\n  // #endif\n}\n\n/**\n * @function\n * @description 获取当前网络状态（H5）\n * @return boolean\n * @returns {boolean}\n * @example\n * ```\n * const status = getNetworkStatus();\n * ```\n */\nexport const getNetworkStatus = () => {\n  return isOnline\n}\n\n/**\n * @function\n * @description 正则收集\n * @returns {object}\n * @returns {object}\n * @example\n * ```\n * const regex = getRegexp();\n * ```\n */\nexport const getRegexp = (): AnyObject => {\n  return {\n    // 匹配html标签，提取html文字： htmlCode.replace(reg.html,'')\n    html: /<[^>]+>/gim,\n    // 至少1数字1字母1字符，8-16位\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    // 普通身份证号正则，isIdCard更为严格\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    // 简易身份证号 数字+x\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    // 手机号\n    phone: /^1\\d{10}$/,\n    // 邮箱\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n    // 网址\n    http: /http:\\/\\/|https:\\/\\//,\n    // 含0整数（得分）\n    score: /^[1-9]\\d*|0$/,\n    // 整数\n    int: /^[1-9]\\d*$/,\n    // 匹配数字\n    number: /^\\d*$/,\n    // >=0||1位小数\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    // >=0||2位小数\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    // >=0||3位小数\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    // 字母+数字组合\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    // 字母\n    letter: /^[a-zA-Z]*$/,\n    // 帐号50个字内：大小写+数字+中文+'_'+'-'\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    // 中英文姓名 50个字内/中文 中文/英文-. 英文-./\n    realName:\n      /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    // 匹配中文\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    // 匹配ASCII,非中文之外的字符（全角字符）\n    ascii: /^[\\x20-\\x7E]+$/,\n  }\n}\n\n/**\n * @function\n * @description 设置标题\n * @param  {string} argTitle 标题\n */\nexport const setTitle = (argTitle: string | number) => {\n  if (typeof globalThis.document === 'object') {\n    globalThis.document.title = String(argTitle)\n  }\n  if (getInfo().isAppleMobile) {\n    const i = document.createElement('iframe')\n    i.onload = () => {\n      setTimeout(() => {\n        console.debug('apple mobile setting title')\n        i.remove()\n      }, 10)\n    }\n    globalThis.document.body.appendChild(i)\n  }\n}\n\n/**\n * @function\n * @description 使用postcss-px2rem时使用\n * @param {number} argBaseSize 基础大小 16px（要跟配置一致）\n * @param {number} argWidth 基准宽度\n */\nexport const remInit = (argBaseSize: number = 16, argWidth: number = 375) => {\n  // 设置 rem 函数\n  const setRem = () => {\n    // 当前页面宽度相对于 argWidth 宽的缩放比例，可根据自己需要修改。\n    const scale =\n      safeData(globalThis, 'document.documentElement.clientWidth', argWidth) /\n      argWidth\n    // 设置页面根节点字体大小\n    safeData(\n      globalThis,\n      'document.documentElement.style.fontSize',\n      argBaseSize * scale + 'px',\n      true\n    )\n  }\n  // 初始化\n  setRem()\n  // 改变窗口大小时重新设置 rem\n  globalThis.onresize = () => {\n    setRem()\n  }\n}\n\n/**\n * @function\n * @description 获取cookie\n * @param  {string} argName 要获取的值\n * @returns {string}\n */\nexport const getCookie = (argName: string): string => {\n  const cookies = globalThis.document.cookie.split('; ')\n  const cookie = cookies.find((cookie) => {\n    const [name] = cookie.split('=')\n    return argName === name\n  })\n  return cookie ? decodeURIComponent(cookie.split('=')[1] || '') : ''\n}\n/**\n * @function\n * @description 获取cookie对象\n * @returns {object}\n */\nexport const getCookieObj = (): { [key: string]: string } => {\n  const cookies = globalThis.document.cookie.split('; ')\n  const cookieObj: { [key: string]: string } = {}\n  cookies.forEach((cookie) => {\n    const [key, value = ''] = cookie.split('=')\n    cookieObj[key] = decodeURIComponent(value)\n  })\n  return cookieObj\n}\n/**\n * @function\n * @description 设置cookie\n * @param  {string} argName 要设置的key\n * @param  {string} argValue 要设置的value\n * @param  {number} argTime 过期时间/时 默认24\n * @param  {number} argPath path\n * @param  {number} domain domain\n */\nexport const setCookie = (\n  argName: string,\n  argValue: string | number | boolean = '',\n  argTime: number = 24,\n  argPath: string = '/',\n  domain: string = globalThis.location.hostname\n) => {\n  if (argTime === 0) {\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};domain=${domain};`\n  } else {\n    const now = new Date()\n    const offset = 8\n    const utc = now.getTime() + now.getTimezoneOffset() * 60000\n    const nd = utc + 3600000 * offset\n    const exp = new Date(nd)\n    exp.setTime(exp.getTime() + argTime * 60 * 60 * 1000)\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};expires=${exp.toUTCString()};domain=${domain};`\n  }\n}\n\n/**\n * @function\n * @description 清除cookie\n * @param  {string} argName 要清除的值\n */\nexport const delCookie = (argName: string = '') => {\n  setCookie(argName, '', -1)\n}\n\n/**\n * @function\n * @description 检测浏览器状态，系统状态 *\n * @returns {Info} {\n * ua: ua,\n * platform: 平台,\n * isMobile: 移动端,\n * isWin: winPC端,\n * isIphone: iphone,\n * isIpad: ipad,\n * isMac: mac,\n * isAppleMobile: 苹果移动端webview\n * isSafari: Safari浏览器,\n * isIos: Ios平台,\n * isAndroid: android平台,\n * isIE: 显示8 9 10, true为11以上\n * ...\n * }\n */\nexport const getInfo = (): Info => {\n  let ua = safeData(globalThis, 'navigator.userAgent', '').toLowerCase()\n  let platform: string = safeData(\n    globalThis,\n    'navigator.userAgentData.platform',\n    ''\n  ).toLowerCase()\n  let info: Info = {\n    ua: ua,\n    platform: platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match('win'),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match('mac'),\n    isIos: !!platform.match('ios'),\n    isAndroid: !!platform.match('android'),\n    isSafari: ua.indexOf('safari') > -1 && ua.indexOf('chrome') < 1,\n    isIE: 'ActiveXObject' in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i),\n  }\n  if (info.ua.match('msie')) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/)\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1]\n    }\n  }\n  info.isAppleMobile = !!(\n    info.isMobile &&\n    ua.toLowerCase().indexOf('applewebkit') &&\n    ua.indexOf('chrome') < 1\n  )\n  return info\n}\n\n/**\n * @function\n * @description 获取随机颜色\n * @return string\n */\nexport const getRandomColor = function () {\n  return (\n    '#' +\n    ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substring(-6)\n  )\n}\n\n/**\n * @function\n * @description 获取storage的值，默认将json转为obj\n * @param {string} argKey 要获取的key\n * @param {string} argNoJson true时不自动转换JSON字符串\n * @returns {any} key对应的数据\n */\nexport const getStorage = (argKey: string, argNoJson?: string): any => {\n  let res = globalThis.localStorage.getItem(argKey)\n  // 默认转义JSON字符串\n  if (!argNoJson && isJson(res) && res) {\n    res = JSON.parse(res)\n  }\n  return res || ''\n}\n\n/**\n * @function\n * @description 设置storage的值，默认将obj转为json\n * @param {string} argKey 要获取的key\n * @param {unknown} argData 要保存的数据\n * @returns {string} 保存的数据String\n */\nexport const setStorage = (argKey: string, argData: unknown): string => {\n  if (typeof argData === 'object') {\n    argData = JSON.stringify(argData)\n  }\n  globalThis.localStorage.setItem(argKey, String(argData))\n  return String(argData)\n}\n\n/**\n * @function\n * @description setTimeout promise版，异步阻塞函数\n * @param  {number} ms 时间，毫秒\n */\nexport const sleep = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n/**\n * @description 同步阻塞函数。\n * @param {number} time - 延迟的时间量，单位为毫秒\n */\nexport const delay = (time: number = 0) => {\n  let start = Date.now()\n  while (Date.now() - start < time) {\n    continue\n  }\n}\n\n// 返回T下的key对应类型\ntype KeyOf<T extends Record<string, any>, K = keyof T> = K extends string\n  ? T[K] extends Function\n    ? never\n    : K\n  : never\ntype DotField<T extends Record<string, any>, K = KeyOf<T>> = K extends string\n  ? K | `${K}.${DotField<T[K]>}`\n  : never\n// 返回传入K或T[K]对应的类型\ntype ValueOf<\n  T extends Record<string, any>,\n  K\n> = K extends `${infer I}.${infer R}`\n  ? ValueOf<T[I], R>\n  : K extends string\n  ? T[K]\n  : never\n\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safe = function safe<\n  T extends Record<string, any>,\n  K extends DotField<T>\n>(\n  argData: T,\n  argCheck: K,\n  argValue?: ValueOf<T, K>,\n  argSetValueForce?: Bool\n): ValueOf<T, K> | undefined | string {\n  if (!argData) {\n    return argValue\n  }\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    ;(argData as AnyObject)[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        } else {\n          return argValue\n        }\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): AnyObject => {\n  const res: AnyObject = {}\n  try {\n    argData\n      .slice(argData.indexOf('?') + 1)\n      .split('&')\n      .forEach((v) => {\n        const [key, val] = v.split('=')\n        if (key !== v) {\n          res[key] = decodeURIComponent(val)\n        }\n      })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  const reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  const r = url.match(reg)\n  const search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {\n        if (!p4 || !p4.length) {\n          return ''\n        } else if (p1 === p4) {\n          return p1\n        }\n        return p1 + p4\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    const sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    const sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  const S4 = () =>\n    (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * @function\n * @description深拷贝函数\n * @param obj 需要拷贝的对象\n * @returns 拷贝后的对象\n */\nexport const deepCopy = (obj: any, hash = new WeakMap()): any => {\n  if (obj === null || typeof obj !== 'object') return obj\n  if (obj instanceof Date) return new Date(obj)\n  if (obj instanceof RegExp) return new RegExp(obj)\n  if (obj instanceof Map) return new Map(deepCopy(Array.from(obj), hash))\n  if (obj instanceof Set) return new Set(deepCopy(Array.from(obj), hash))\n  if (hash.has(obj)) return hash.get(obj)\n\n  const copy = Array.isArray(obj)\n    ? []\n    : Object.create(Object.getPrototypeOf(obj))\n  hash.set(obj, copy)\n\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      copy[key] = deepCopy(obj[key], hash)\n    }\n  }\n  return copy\n}\n\n/**\n * @function\n * @description 摇一摇，请求使用 DeviceMotionEvent API 的权限。for ios\n * @returns Promise，指示是否已授予权限。\n * @example\n * ```\n * const hasRequest = await requestDeviceMotionPermission()\n * if (hasRequest) {\n *    useEventListener(window, 'devicemotion', handleShake)\n *  } else {\n *    showToast('未授权访问运动传感器,请手动点击！')\n *  }\n * ```\n */\nexport const requestDeviceMotionPermission = () => {\n  if (typeof (DeviceMotionEvent as any).requestPermission === 'function') {\n    return (DeviceMotionEvent as any)\n      .requestPermission()\n      .then((permissionState: string) => {\n        if (permissionState === 'granted') {\n          return true\n        } else {\n          return false\n        }\n      })\n      .catch(() => {\n        return false\n      })\n  } else {\n    return true\n  }\n}\n\n/**\n * @function\n * @description 自动播放音频并返回音频元素。\n * @param {string} audioUrl - 音频地址\n * @param {boolean} isWeixin - 是否在微信中\n * @returns {HTMLAudioElement} - 音频元素\n */\nexport const autoPlayAudio = (\n  audioUrl: string,\n  isWeixin: boolean\n): HTMLAudioElement => {\n  const audio = new Audio(audioUrl)\n  audio.addEventListener(\n    'ended',\n    function () {\n      this.currentTime = 0\n      this.play()\n    },\n    false\n  )\n  audio.autoplay = true\n  if (isWeixin) {\n    document.addEventListener(\n      'WeixinJSBridgeReady',\n      function () {\n        audio.play()\n      },\n      false\n    )\n  }\n  return audio\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2630","url":"/home/runner/work/utils/utils/src/base.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14384,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14381,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":30}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":30}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":1}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"autoPlayAudio","ranges":[{"startOffset":934,"endOffset":953,"count":0}],"isBlockCoverage":false},{"functionName":"deepCopy","ranges":[{"startOffset":967,"endOffset":981,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":996,"endOffset":1011,"count":0}],"isBlockCoverage":false},{"functionName":"delay","ranges":[{"startOffset":1022,"endOffset":1033,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":1048,"endOffset":1063,"count":0}],"isBlockCoverage":false},{"functionName":"getCookieObj","ranges":[{"startOffset":1081,"endOffset":1099,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":1111,"endOffset":1123,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":1136,"endOffset":1149,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1171,"endOffset":1193,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1205,"endOffset":1217,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":1237,"endOffset":1257,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1272,"endOffset":1287,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":1303,"endOffset":1319,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1336,"endOffset":1353,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1373,"endOffset":1393,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":1406,"endOffset":1419,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":1434,"endOffset":1449,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":1462,"endOffset":1475,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1496,"endOffset":1517,"count":0}],"isBlockCoverage":false},{"functionName":"requestDeviceMotionPermission","ranges":[{"startOffset":1552,"endOffset":1587,"count":0}],"isBlockCoverage":false},{"functionName":"safe","ranges":[{"startOffset":1597,"endOffset":1607,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1621,"endOffset":1635,"count":1}],"isBlockCoverage":true},{"functionName":"setCookie","ranges":[{"startOffset":1650,"endOffset":1665,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":1677,"endOffset":1689,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":1701,"endOffset":1713,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1725,"endOffset":1737,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":1753,"endOffset":1769,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":1783,"endOffset":1797,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":1815,"endOffset":1833,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":1844,"endOffset":1855,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2086,"endOffset":2154,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2197,"endOffset":2263,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":2293,"endOffset":2321,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":2341,"endOffset":3261,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":3280,"endOffset":3672,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":3690,"endOffset":4058,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":4078,"endOffset":4342,"count":0}],"isBlockCoverage":false},{"functionName":"getCookieObj","ranges":[{"startOffset":4365,"endOffset":4611,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":4631,"endOffset":5284,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":5304,"endOffset":5355,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":5373,"endOffset":6376,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":6401,"endOffset":6502,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":6523,"endOffset":6710,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":6731,"endOffset":6921,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":6937,"endOffset":7008,"count":0}],"isBlockCoverage":false},{"functionName":"delay","ranges":[{"startOffset":7024,"endOffset":7123,"count":0}],"isBlockCoverage":false},{"functionName":"safe2","ranges":[{"startOffset":7138,"endOffset":8047,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":8066,"endOffset":8977,"count":1},{"startOffset":8154,"endOffset":8185,"count":0},{"startOffset":8187,"endOffset":8291,"count":0},{"startOffset":8389,"endOffset":8415,"count":0},{"startOffset":8434,"endOffset":8753,"count":0},{"startOffset":8778,"endOffset":8827,"count":0},{"startOffset":8867,"endOffset":8912,"count":0},{"startOffset":8959,"endOffset":8970,"count":0}],"isBlockCoverage":true},{"functionName":"setUrlParams","ranges":[{"startOffset":9000,"endOffset":9329,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":9351,"endOffset":9563,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":9588,"endOffset":9983,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":10009,"endOffset":11221,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":11239,"endOffset":11408,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":11428,"endOffset":11564,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":11581,"endOffset":11606,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":11623,"endOffset":11668,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":11685,"endOffset":11807,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":11824,"endOffset":12057,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":12074,"endOffset":12883,"count":0}],"isBlockCoverage":false},{"functionName":"deepCopy","ranges":[{"startOffset":12902,"endOffset":13589,"count":0}],"isBlockCoverage":false},{"functionName":"requestDeviceMotionPermission","ranges":[{"startOffset":13629,"endOffset":13972,"count":0}],"isBlockCoverage":false},{"functionName":"autoPlayAudio","ranges":[{"startOffset":13996,"endOffset":14377,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  blobToBase64: () => blobToBase64,\n  blobToFile: () => blobToFile,\n  blobUrlToFile: () => blobUrlToFile,\n  dataURLtoBlob: () => dataURLtoBlob,\n  dlFile: () => dlFile,\n  getDuration: () => getDuration,\n  loadFile: () => loadFile\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_base = require(\"./base\");\nconst blobToBase64 = async (argBlob) => {\n  const fileReader = new FileReader();\n  fileReader.readAsDataURL(argBlob);\n  fileReader.onload = (e) => {\n    return Promise.resolve(e && e.target && e.target.result);\n  };\n  fileReader.onerror = () => {\n    return Promise.reject(new Error(\"\\u6587\\u4EF6\\u6D41\\u5F02\\u5E38\"));\n  };\n};\nconst blobUrlToFile = async (argData) => {\n  return new Promise(function(resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", argData, true);\n    xhr.responseType = \"blob\";\n    xhr.onload = function(e) {\n      if (this.status === 200) {\n        return resolve(this.response);\n      }\n    };\n    xhr.onerror = (err) => {\n      return reject(err);\n    };\n    xhr.send();\n  });\n};\nconst dataURLtoBlob = (argData) => {\n  if (!argData.match(/;base64,/)) {\n    return new Blob();\n  }\n  let arr = argData.split(\",\");\n  let mime = (0, import_base.safeData)(arr[0].match(/:(.*?);/), \"1\", \"\");\n  if (!mime) {\n    return new Blob();\n  }\n  let bstr = globalThis.atob(arr[1]);\n  let n = bstr.length;\n  let u8arr = new Uint8Array(n);\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new Blob([u8arr], { type: mime });\n};\nconst blobToFile = (argBlob, argName = Date.now().toString()) => {\n  let file = new File([argBlob], argName, {\n    type: argBlob.type\n  });\n  return file;\n};\nconst dlFile = (argData, argName = Date.now().toString(), argDelTime = 1e4) => {\n  let downNode = globalThis.document.createElement(\"a\");\n  downNode.download = argName;\n  let href = \"\";\n  if (typeof argData === \"string\") {\n    if (argData.startsWith(\"blob:\")) {\n      href = argData;\n    } else if (argData.startsWith(\"data:image\")) {\n      href = argData;\n    }\n    argData = new Blob([argData]);\n  }\n  href = href || URL.createObjectURL(argData);\n  downNode.href = href;\n  setTimeout(() => {\n    URL.revokeObjectURL(href);\n  }, argDelTime);\n  globalThis.document.body.appendChild(downNode);\n  downNode.click();\n  globalThis.document.body.removeChild(downNode);\n};\nconst getDuration = async (argFile) => {\n  let filePath;\n  if (typeof argFile === \"string\") {\n    filePath = argFile;\n  } else {\n    filePath = URL.createObjectURL(argFile);\n  }\n  return new Promise((resolve, reject) => {\n    const audio = new Audio(filePath);\n    audio.addEventListener(\"loadedmetadata\", function(e) {\n      if (filePath.startsWith(\"blob:\")) {\n        URL.revokeObjectURL(filePath);\n      }\n      const duration = audio.duration;\n      audio.src = \"\";\n      return resolve(duration);\n    });\n    setTimeout(() => {\n      return reject(new Error(\"\\u8BFB\\u53D6\\u65F6\\u957F\\u8D85\\u65F6\"));\n    }, 5e3);\n  });\n};\nconst loadFile = (argUrl, argType = \"js\", argOptions = {}) => {\n  let temId = argType + \"-\" + argUrl.split(\"/\").pop();\n  let head = globalThis.document.getElementsByTagName(\"head\")[0];\n  let nodeTag;\n  if (!argOptions.disCheck) {\n    let checkTag = globalThis.document.getElementById(temId);\n    if (checkTag) {\n      if (argOptions.force) {\n        head.removeChild(checkTag);\n      } else {\n        return Promise.resolve({ msg: \"\\u5DF2\\u5B58\\u5728\\uFF0C\\u4E2D\\u65AD\\u52A0\\u8F7D\\uFF01\" });\n      }\n    }\n  }\n  switch (argType) {\n    case \"css\":\n      nodeTag = globalThis.document.createElement(\"link\");\n      nodeTag.type = \"text/css\";\n      nodeTag.rel = \"stylesheet\";\n      nodeTag.href = argUrl;\n      break;\n    case \"js\":\n      nodeTag = globalThis.document.createElement(\"script\");\n      nodeTag.src = argUrl;\n      nodeTag.type = \"text/javascript\";\n      break;\n    default:\n      console.error(\"\\u6682\\u4E0D\\u652F\\u6301\\uFF1A\" + argType);\n      return Promise.reject({ msg: \"\\u6682\\u4E0D\\u652F\\u6301\\uFF1A\" + argType });\n  }\n  nodeTag.id = temId;\n  head.appendChild(nodeTag);\n  return new Promise((resolve) => {\n    if (nodeTag.readyState) {\n      ;\n      nodeTag.onreadystatechange = function() {\n        if (nodeTag.readyState === \"complete\") {\n          ;\n          nodeTag.onreadystatechange = null;\n          return resolve(argUrl);\n        }\n      };\n    } else {\n      nodeTag.onload = function() {\n        return resolve(argUrl);\n      };\n    }\n  });\n};\n","originalCode":"/**\r\n * @module index\r\n * @author linjielinlin 993353454@qq.com\r\n * @date 2022-05-11 22:07:43\r\n * @description 文件相关处理\r\n */\r\n\r\nimport { safeData } from './base'\r\n\r\n/**\r\n * @function blobToBase64\r\n * @description 将Blob对象转换为base64字符串\r\n * @date 2020-03-01\r\n * @param {Blob} argBlob 需要处理的Blob对象\r\n * @returns {Promise} 返回base64字符串\r\n * @example\r\n * blobToBase64(blob).then(base64 => console.log(base64));\r\n */\r\nexport const blobToBase64 = async (argBlob: Blob): Promise<any> => {\r\n  // eslint-disable-next-line no-undef\r\n  const fileReader = new FileReader()\r\n  fileReader.readAsDataURL(argBlob)\r\n  fileReader.onload = (e) => {\r\n    return Promise.resolve(e && e.target && e.target.result)\r\n  }\r\n  fileReader.onerror = () => {\r\n    return Promise.reject(new Error('文件流异常'))\r\n  }\r\n}\r\n/**\r\n * @function blobUrlToFile\r\n * @description 将blobUrl转换为File对象\r\n * @date 2020-03-01\r\n * @param {string} argData blobUrl\r\n * @returns {Promise} 返回File对象\r\n * @example\r\n * blobUrlToFile(url).then(file => console.log(file));\r\n */\r\nexport const blobUrlToFile = async (argData: string): Promise<any> => {\r\n  return new Promise(function (resolve, reject) {\r\n    // eslint-disable-next-line no-undef\r\n    var xhr = new XMLHttpRequest()\r\n    xhr.open('GET', argData, true)\r\n    xhr.responseType = 'blob'\r\n    xhr.onload = function (e) {\r\n      if (this.status === 200) {\r\n        return resolve(this.response)\r\n      }\r\n    }\r\n    xhr.onerror = (err) => {\r\n      return reject(err)\r\n    }\r\n    xhr.send()\r\n  })\r\n}\r\n\r\n/**\r\n * @function dataURLtoBlob\r\n * @description 将图片的dataUrl base64转换为Blob对象\r\n * @param {string} argData dataUrl\r\n * @returns {Blob} 返回Blob对象\r\n * @example\r\n * const blob = dataURLtoBlob(dataUrl);\r\n */\r\nexport const dataURLtoBlob = (argData: string): Blob => {\r\n  if (!argData.match(/;base64,/)) {\r\n    return new Blob()\r\n  }\r\n  let arr = argData.split(',')\r\n  let mime: string = safeData(arr[0].match(/:(.*?);/), '1', '')\r\n  if (!mime) {\r\n    return new Blob()\r\n  }\r\n  let bstr = globalThis.atob(arr[1])\r\n  let n = bstr.length\r\n  let u8arr = new Uint8Array(n)\r\n  while (n--) {\r\n    u8arr[n] = bstr.charCodeAt(n)\r\n  }\r\n  return new Blob([u8arr], { type: mime })\r\n}\r\n\r\n/**\r\n * @function blobToFile\r\n * @description 将Blob对象转换为File对象\r\n * @param {Blob} argBlob Blob对象\r\n * @param {string} argName 文件名，默认为当前时间戳\r\n * @returns {File} 返回File对象\r\n * @example\r\n * const file = blobToFile(blob, 'example.txt');\r\n */\r\nexport const blobToFile = (\r\n  argBlob: Blob,\r\n  argName: string = Date.now().toString()\r\n): File => {\r\n  let file = new File([argBlob], argName, {\r\n    type: argBlob.type,\r\n  })\r\n  return file\r\n}\r\n/**\r\n * @function dlFile\r\n * @description 下载文件\r\n * @param {string|Blob|File} argData Blob对象/File对象/dataUrl/base64\r\n * @param {string} argName 文件名\r\n * @param {number} argDelTime 移除dateUrl时间\r\n * @example\r\n * dlFile(data, 'example.txt', 10000);\r\n */\r\nexport const dlFile = (\r\n  argData: string | Blob | File,\r\n  argName: string = Date.now().toString(),\r\n  argDelTime: number = 10000\r\n) => {\r\n  let downNode = globalThis.document.createElement('a')\r\n  downNode.download = argName\r\n  // 字符内容转换为blob地址\r\n  let href = ''\r\n  if (typeof argData === 'string') {\r\n    if (argData.startsWith('blob:')) {\r\n      href = argData\r\n    } else if (argData.startsWith('data:image')) {\r\n      href = argData\r\n    }\r\n    argData = new Blob([argData])\r\n  }\r\n  href = href || URL.createObjectURL(argData)\r\n  downNode.href = href\r\n  setTimeout(() => {\r\n    URL.revokeObjectURL(href)\r\n  }, argDelTime)\r\n  globalThis.document.body.appendChild(downNode)\r\n  downNode.click()\r\n  globalThis.document.body.removeChild(downNode)\r\n}\r\n/**\r\n * @function getDuration\r\n * @description 获取音视频文件的时长\r\n * @param {Blob|File|string} argFile 音视频数据，如果是string类型，则为链接\r\n * @returns {Promise} 返回时长（单位：秒）\r\n * @example\r\n * getDuration(file).then(duration => console.log(duration));\r\n */\r\nexport const getDuration = async (\r\n  argFile: Blob | File | string\r\n): Promise<any> => {\r\n  let filePath: string\r\n  if (typeof argFile === 'string') {\r\n    filePath = argFile\r\n  } else {\r\n    filePath = URL.createObjectURL(argFile)\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    const audio = new Audio(filePath)\r\n    audio.addEventListener('loadedmetadata', function (e) {\r\n      if (filePath.startsWith('blob:')) {\r\n        URL.revokeObjectURL(filePath)\r\n      }\r\n      const duration = audio.duration\r\n      audio.src = ''\r\n      return resolve(duration)\r\n    })\r\n    setTimeout(() => {\r\n      return reject(new Error('读取时长超时'))\r\n    }, 5000)\r\n  })\r\n}\r\n/**\r\n * @function loadFile\r\n * @description 动态加载html文件标签\r\n * @param {string} argUrl 要加载的url\r\n * @param {string} argType 加载类型 js/css\r\n * @param {object} argOptions\r\n * @param {string} argOption.disCheck 不检查是否有相同标签\r\n * @param {string} argOption.force 是否强制添加，true时先删除再添加\r\n * @return {Promise} 返回Promise对象\r\n * @example\r\n * loadFile(url, 'js', {force: true}).then(() => console.log('Loaded'));\r\n */\r\nexport const loadFile = (\r\n  argUrl: string,\r\n  argType: 'js' | 'css' = 'js',\r\n  argOptions: { [key: string]: any } = {}\r\n): Promise<any> => {\r\n  let temId = argType + '-' + argUrl.split('/').pop()\r\n  let head = globalThis.document.getElementsByTagName('head')[0]\r\n  let nodeTag: HTMLLinkElement | HTMLScriptElement\r\n  if (!argOptions.disCheck) {\r\n    let checkTag = globalThis.document.getElementById(temId)\r\n    // 已经存在对应tag\r\n    if (checkTag) {\r\n      if (argOptions.force) {\r\n        head.removeChild(checkTag)\r\n      } else {\r\n        return Promise.resolve({ msg: '已存在，中断加载！' })\r\n      }\r\n    }\r\n  }\r\n  switch (argType) {\r\n    case 'css':\r\n      nodeTag = globalThis.document.createElement('link')\r\n      nodeTag.type = 'text/css'\r\n      nodeTag.rel = 'stylesheet'\r\n      nodeTag.href = argUrl\r\n      break\r\n    case 'js':\r\n      nodeTag = globalThis.document.createElement('script')\r\n      nodeTag.src = argUrl\r\n      nodeTag.type = 'text/javascript'\r\n      break\r\n    default:\r\n      console.error('暂不支持：' + argType)\r\n      return Promise.reject({ msg: '暂不支持：' + argType })\r\n  }\r\n  nodeTag.id = temId\r\n  head.appendChild(nodeTag)\r\n  return new Promise((resolve) => {\r\n    if ((nodeTag as unknown as Document).readyState) {\r\n      // ljTodo 2022-04-12 11:53:50\r\n      // nodeTag.onreadystatechange = function () {\r\n      //   if (\r\n      //     nodeTag.readyState === 'loaded' ||\r\n      //     nodeTag.readyState === 'complete'\r\n      //   ) {\r\n      //     nodeTag.onreadystatechange = null\r\n      //     return resolve(argUrl)\r\n      //   }\r\n      // }\r\n      ;(nodeTag as unknown as Document).onreadystatechange = function () {\r\n        if ((nodeTag as unknown as Document).readyState === 'complete') {\r\n          ;(nodeTag as unknown as Document).onreadystatechange = null\r\n          return resolve(argUrl)\r\n        }\r\n      }\r\n    } else {\r\n      // Others\r\n      nodeTag.onload = function () {\r\n        return resolve(argUrl)\r\n      }\r\n    }\r\n  })\r\n}\r\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"7","url":"/home/runner/work/utils/utils/src/file.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5333,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":5330,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":7}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":7}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":7}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"blobToBase64","ranges":[{"startOffset":933,"endOffset":951,"count":1}],"isBlockCoverage":true},{"functionName":"blobToFile","ranges":[{"startOffset":967,"endOffset":983,"count":1}],"isBlockCoverage":true},{"functionName":"blobUrlToFile","ranges":[{"startOffset":1002,"endOffset":1021,"count":1}],"isBlockCoverage":true},{"functionName":"dataURLtoBlob","ranges":[{"startOffset":1040,"endOffset":1059,"count":1}],"isBlockCoverage":true},{"functionName":"dlFile","ranges":[{"startOffset":1071,"endOffset":1083,"count":1}],"isBlockCoverage":true},{"functionName":"getDuration","ranges":[{"startOffset":1100,"endOffset":1117,"count":1}],"isBlockCoverage":true},{"functionName":"loadFile","ranges":[{"startOffset":1131,"endOffset":1145,"count":1}],"isBlockCoverage":true},{"functionName":"blobToBase64","ranges":[{"startOffset":1254,"endOffset":1558,"count":1}],"isBlockCoverage":true},{"functionName":"fileReader.onload","ranges":[{"startOffset":1373,"endOffset":1447,"count":0}],"isBlockCoverage":false},{"functionName":"fileReader.onerror","ranges":[{"startOffset":1472,"endOffset":1555,"count":0}],"isBlockCoverage":false},{"functionName":"blobUrlToFile","ranges":[{"startOffset":1582,"endOffset":1958,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1624,"endOffset":1954,"count":1}],"isBlockCoverage":true},{"functionName":"xhr.onload","ranges":[{"startOffset":1772,"endOffset":1871,"count":0}],"isBlockCoverage":false},{"functionName":"xhr.onerror","ranges":[{"startOffset":1891,"endOffset":1933,"count":0}],"isBlockCoverage":false},{"functionName":"dataURLtoBlob","ranges":[{"startOffset":1982,"endOffset":2402,"count":2},{"startOffset":2031,"endOffset":2179,"count":1},{"startOffset":2179,"endOffset":2207,"count":0},{"startOffset":2207,"endOffset":2316,"count":1},{"startOffset":2316,"endOffset":2356,"count":9},{"startOffset":2356,"endOffset":2401,"count":1}],"isBlockCoverage":true},{"functionName":"blobToFile","ranges":[{"startOffset":2423,"endOffset":2560,"count":1}],"isBlockCoverage":true},{"functionName":"dlFile","ranges":[{"startOffset":2577,"endOffset":3226,"count":2},{"startOffset":2783,"endOffset":2963,"count":1},{"startOffset":2822,"endOffset":2851,"count":0},{"startOffset":2895,"endOffset":2924,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3048,"endOffset":3090,"count":0}],"isBlockCoverage":false},{"functionName":"getDuration","ranges":[{"startOffset":3248,"endOffset":3853,"count":2},{"startOffset":3320,"endOffset":3405,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3427,"endOffset":3849,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3534,"endOffset":3735,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3753,"endOffset":3838,"count":0}],"isBlockCoverage":false},{"functionName":"loadFile","ranges":[{"startOffset":3872,"endOffset":5326,"count":1},{"startOffset":4165,"endOffset":4360,"count":0},{"startOffset":4390,"endOffset":4569,"count":0},{"startOffset":4731,"endOffset":4886,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4963,"endOffset":5322,"count":1},{"startOffset":5006,"endOffset":5228,"count":0}],"isBlockCoverage":true},{"functionName":"nodeTag.onreadystatechange","ranges":[{"startOffset":5051,"endOffset":5221,"count":0}],"isBlockCoverage":false},{"functionName":"nodeTag.onload","ranges":[{"startOffset":5259,"endOffset":5311,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  arrayToObj: () => arrayToObj,\n  decodeHtml: () => decodeHtml,\n  encodeHtml: () => encodeHtml,\n  formatNumber: () => formatNumber,\n  formatSize: () => formatSize,\n  formatTime: () => formatTime,\n  friendlyTime: () => friendlyTime,\n  hideInfo: () => hideInfo,\n  objToArray: () => objToArray,\n  objToObj: () => objToObj,\n  px2vw: () => px2vw,\n  rmbPrice: () => rmbPrice,\n  secondToTime: () => secondToTime,\n  string10to62: () => string10to62,\n  string62to10: () => string62to10,\n  toFixed: () => toFixed,\n  toHump: () => toHump,\n  toLine: () => toLine\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_base = require(\"./base\");\nconst encodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  const htmlEntities = {\n    \"&\": \"&amp;\",\n    \"<\": \"&lt;\",\n    \">\": \"&gt;\",\n    \"'\": \"&apos;\",\n    '\"': \"&quot;\",\n    \" \": \"&nbsp;\",\n    \"\\n\": \"<br>\"\n  };\n  return argHtml.replace(/[&<>\"' \\n]/g, function(char) {\n    return htmlEntities[char];\n  });\n};\nconst decodeHtml = (argHtml) => {\n  const htmlEntities = {\n    quot: '\"',\n    apos: \"'\",\n    lt: \"<\",\n    gt: \">\",\n    nbsp: \" \",\n    amp: \"&\"\n  };\n  return argHtml.replace(/&([^;]+);/g, (match, entity) => {\n    return htmlEntities[entity] || match;\n  });\n};\nconst rmbPrice = (argData, argRate = -1, argUnit = \"\\uFFE5\", argDef = \"--\") => {\n  if (typeof argData === \"string\" || typeof argData === \"number\") {\n    if (!argData && argData !== 0) {\n      return argDef;\n    }\n  } else {\n    return argDef;\n  }\n  argData = Number(argData);\n  if (argRate > -1) {\n    argData = +toFixed(argData, argRate);\n  }\n  return argUnit + argData;\n};\nconst formatTime = (date = +new Date(), fmt = \"YYYY-MM-DD HH:mm:ss\", emptyTip = \"\") => {\n  if (!date && date !== 0) {\n    return emptyTip;\n  }\n  if (isNaN(+date)) {\n    return emptyTip;\n  }\n  if (typeof date === \"number\") {\n    if (date.toString().length === 10) {\n      date = date * 1e3;\n    }\n  }\n  date = new Date(+date);\n  const fmtMap = {\n    \"M+\": date.getMonth() + 1,\n    \"D+\": date.getDate(),\n    \"h+\": date.getHours() % 12 === 0 ? 12 : date.getHours() % 12,\n    \"H+\": date.getHours(),\n    \"m+\": date.getMinutes(),\n    \"s+\": date.getSeconds(),\n    \"q+\": Math.floor((date.getMonth() + 3) / 3),\n    S: date.getMilliseconds()\n  };\n  const week = {\n    0: \"\\u65E5\",\n    1: \"\\u4E00\",\n    2: \"\\u4E8C\",\n    3: \"\\u4E09\",\n    4: \"\\u56DB\",\n    5: \"\\u4E94\",\n    6: \"\\u516D\"\n  };\n  const temY = fmt.match(/(Y+)/);\n  if (temY) {\n    fmt = fmt.replace(\n      temY[0],\n      (date.getFullYear() + \"\").substring(4 - temY[0].length)\n    );\n  }\n  const temWeek = fmt.match(/(E+)/);\n  if (temWeek) {\n    const temWeekName = [\"\", \"\\u5468\"];\n    fmt = fmt.replace(\n      temWeek[0],\n      (temWeekName[temWeek[0].length] || \"\\u661F\\u671F\") + (0, import_base.safeData)(week, date.getDay().toString(), \"\")\n    );\n  }\n  for (let k in fmtMap) {\n    let temMatch = fmt.match(new RegExp(\"(\" + k + \")\"));\n    if (temMatch) {\n      fmt = fmt.replace(\n        temMatch[0],\n        temMatch[0].length === 1 ? fmtMap[k].toString() : (\"00\" + fmtMap[k].toString()).substring((\"\" + fmtMap[k]).length)\n      );\n    }\n  }\n  return fmt;\n};\nconst friendlyTime = (date = +new Date(), fmt = \"YYYY-MM-DD HH:mm:ss\", emptyTip = \"\") => {\n  if (!date && date !== 0) {\n    return emptyTip;\n  }\n  if (isNaN(+date)) {\n    return emptyTip;\n  }\n  if (typeof date === \"number\" || typeof date === \"string\") {\n    if (date.toString().length === 10) {\n      date = date.toString() + \"000\";\n    }\n  }\n  date = new Date(+date);\n  let diff = (new Date().getTime() - date.getTime()) / 1e3;\n  let dayDiff = Math.floor(diff / 86400);\n  let isValidDate = Object.prototype.toString.call(date) === \"[object Date]\" && !isNaN(date.getTime());\n  if (!isValidDate) {\n    console.warn(\"friendlyTime:\", \"not a valid date\");\n    return emptyTip || \"--\";\n  }\n  if (isNaN(dayDiff) || dayDiff < 0 || dayDiff >= 365) {\n    return formatTime(date, fmt);\n  }\n  return (dayDiff === 0 && (diff < 60 && \"\\u521A\\u521A\" || diff < 120 && \"1\\u5206\\u949F\\u524D\" || diff < 3600 && Math.floor(diff / 60) + \"\\u5206\\u949F\\u524D\" || diff < 7200 && \"1\\u5C0F\\u65F6\\u524D\" || diff < 86400 && Math.floor(diff / 3600) + \"\\u5C0F\\u65F6\\u524D\") || dayDiff === 1 && \"\\u6628\\u5929\" || dayDiff < 7 && dayDiff + \"\\u5929\\u524D\" || dayDiff < 31 && Math.ceil(dayDiff / 7) + \"\\u5468\\u524D\" || dayDiff < 365 && Math.ceil(dayDiff / 31) + \"\\u6708\\u524D\").toString();\n};\nconst px2vw = (argPx, argWith = 375, argUnit = \"vw\", argNum = 6) => {\n  return +toFixed(100 / argWith * argPx, argNum) + argUnit;\n};\nconst secondToTime = (argData, argOption = {}) => {\n  var _a;\n  let res = [];\n  const {\n    s = \"\\u79D2\",\n    m = \"\\u5206\",\n    h = \"\\u65F6\",\n    d = \"\\u5929\",\n    M = \"\\u6708\",\n    y = \"\\u5E74\",\n    minUnit = \"s\",\n    maxUnit = \"y\",\n    isAddZero = true\n  } = argOption;\n  const listObj = {\n    s: {\n      size: 1,\n      type: \"s\",\n      unit: s,\n      index: 0\n    },\n    m: {\n      size: 60,\n      unit: m,\n      type: \"m\",\n      index: 1\n    },\n    h: {\n      size: 60,\n      unit: h,\n      type: \"h\",\n      index: 2\n    },\n    d: {\n      size: 24,\n      unit: d,\n      type: \"d\",\n      index: 3\n    },\n    M: {\n      size: 30,\n      unit: M,\n      type: \"M\",\n      index: 4\n    },\n    y: {\n      size: 12,\n      unit: y,\n      type: \"y\",\n      index: 5\n    }\n  };\n  let list = [listObj.s, listObj.m, listObj.h, listObj.d, listObj.M, listObj.y];\n  let temLen = list.length;\n  let second = argData;\n  let size = 1;\n  let index = 0;\n  for (let i = 0; i < temLen; i++) {\n    let lastSize = size;\n    if (maxUnit === list[i].type) {\n      let temTime = Math.floor(second / lastSize);\n      if (isAddZero && temTime < 10) {\n        temTime = \"0\" + temTime;\n      }\n      res.unshift(temTime);\n      index = temLen - i - 1;\n      break;\n    }\n    size = size * (((_a = list[i + 1]) == null ? void 0 : _a.size) || 0) || 1;\n    let time = Math.floor(second % size / lastSize);\n    if (isAddZero && time < 10) {\n      time = \"0\" + time;\n    }\n    res.unshift(time);\n  }\n  let timeText = \"\";\n  let isZero = true;\n  temLen = res.length;\n  for (let i = 0; i < temLen; i++) {\n    const v = res[i];\n    if (!+v && (isZero || argOption.hideZero)) {\n    } else {\n      isZero = false;\n      timeText += v + list[5 - (index + i)].unit;\n      if (minUnit === list[5 - (index + i)].type) {\n        break;\n      }\n    }\n  }\n  return timeText;\n};\nconst formatSize = (argData, argNum = 2, argIndex = 0, argRate = 1024, unit = [\"B\", \"K\", \"M\", \"G\", \"T\", \"P\"]) => {\n  let list = unit;\n  if (!argData) {\n    return \"0\" + list[argIndex];\n  }\n  let len = list.length;\n  let nowIndex = len - 1;\n  let temData = 0;\n  for (let i = 0; i < len; i++) {\n    temData = argData / Math.pow(argRate, i);\n    if (temData < argRate) {\n      nowIndex = argIndex + i;\n      break;\n    }\n  }\n  return +toFixed(temData, argNum) + list[nowIndex];\n};\nconst formatNumber = (argData, argNum = 2) => {\n  if (argData < 1e3) {\n    return argData.toString();\n  } else if (argData < 1e4) {\n    return +toFixed(argData / 1e3, argNum) + \"k\";\n  } else {\n    return +toFixed(argData / 1e4, argNum) + \"w\";\n  }\n};\nconst hideInfo = (argData = \"\", argStart = 3, argEnd = 4) => {\n  argData = String(argData);\n  let temLen = argData.length;\n  let temSL = argData.length - argEnd - argStart;\n  let start = \"\";\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += \"*\";\n    }\n    argData = argData.substring(0, argStart) + start + argData.substring(temLen - argEnd, temLen);\n  }\n  return argData;\n};\nconst string10to62 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\".split(\"\");\n  let radix = chars.length;\n  let data = +argData;\n  let arr = [];\n  do {\n    let mod = data % radix;\n    data = (data - mod) / radix;\n    arr.unshift(chars[mod]);\n  } while (data);\n  return arr.join(\"\");\n};\nconst string62to10 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\";\n  let radix = chars.length;\n  let len = argData.length;\n  let i = 0;\n  let resNum = 0;\n  while (i < len) {\n    resNum += Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || \"0\");\n  }\n  return resNum;\n};\nconst toFixed = (argData, argNum = 2, argType = \"round\") => {\n  if (isNaN(+argData)) {\n    return \"\";\n  }\n  const data = Math[argType](+argData * Math.pow(10, argNum)) / Math.pow(10, argNum);\n  return data.toFixed(argNum);\n};\nconst toLine = (argData, argUnit = \"_\") => {\n  return argData.replace(/([A-Z])/g, argUnit + \"$1\").toLowerCase();\n};\nconst toHump = (argData, argUnit = \"_\") => {\n  return argData.replace(\n    new RegExp(\"\\\\\" + argUnit + \"(\\\\w)\", \"g\"),\n    (_, letter) => {\n      return letter.toUpperCase();\n    }\n  );\n};\nconst arrayToObj = (list, key = \"\", extraData = \"\") => {\n  let obj = {};\n  list.forEach((item, k) => {\n    if (extraData) {\n      if (typeof extraData === \"string\") {\n        obj[item[key] || key + k] = item[extraData] || \"\";\n      } else if (typeof extraData === \"object\") {\n        obj[item[key] || key + k] = Object.assign(item, (0, import_base.deepCopy)(extraData));\n      }\n    } else {\n      obj[item[key] || key + k] = item;\n    }\n  });\n  return obj;\n};\nconst objToArray = (obj, key = \"key\", value = \"value\", isReverse = false) => {\n  const result = [];\n  for (const k in obj) {\n    if (obj.hasOwnProperty(k)) {\n      result.push({\n        [key]: isReverse ? obj[k] : k,\n        [value]: isReverse ? k : obj[k]\n      });\n    }\n  }\n  return result;\n};\nconst objToObj = (obj, tmplObj, isAssign = false) => {\n  let newObj = (0, import_base.deepCopy)(tmplObj);\n  for (const key in newObj) {\n    const temKey = String(newObj[key] || key);\n    if (typeof newObj[key] === \"object\") {\n      newObj[key] = objToObj(obj, newObj[key]);\n    } else {\n      newObj[key] = (0, import_base.safeData)(obj, temKey, \"\");\n    }\n  }\n  if (isAssign) {\n    newObj = Object.assign({}, obj, newObj);\n  }\n  return newObj;\n};\n","originalCode":"/**\r\n * @module index\r\n * @author linjielinlin 993353454@qq.com\r\n * @date 2022-05-11 22:07:43\r\n * @description 类型转换相关处理\r\n */\r\nimport { deepCopy, safeData } from './base'\r\nimport { AnyObject, StringObject } from './types'\r\n\r\n/**\r\n * @function\r\n * @description 转义html标签\r\n * @param  {string} argHtml 需要转义的文本\r\n * @returns {string}\r\n * @example\r\n * // returns '&lt;p&gt;Hello, World!&lt;/p&gt;'\r\n * encodeHtml('<p>Hello, World!</p>')\r\n */\r\nexport const encodeHtml = (argHtml: string): string => {\r\n  if (!argHtml || argHtml.length === 0) {\r\n    return ''\r\n  }\r\n  const htmlEntities: StringObject = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    \"'\": '&apos;',\r\n    '\"': '&quot;',\r\n    ' ': '&nbsp;',\r\n    '\\n': '<br>',\r\n  }\r\n  return argHtml.replace(/[&<>\"' \\n]/g, function (char) {\r\n    return htmlEntities[char]\r\n  })\r\n}\r\n\r\n/**\r\n * @function decodeHtml\r\n * @description 反转义HTML标签。\r\n * @param {string} argHtml - 需要反转义的文本。\r\n * @returns {string} 反转义后的文本。\r\n * @example\r\n * // 返回 \"&lt;p&gt;Hello, World!&lt;/p&gt;\"\r\n * decodeHtml(\"<p>Hello, World!</p>\");\r\n */\r\nexport const decodeHtml = (argHtml: string): string => {\r\n  const htmlEntities: StringObject = {\r\n    quot: '\"',\r\n    apos: \"'\",\r\n    lt: '<',\r\n    gt: '>',\r\n    nbsp: ' ',\r\n    amp: '&',\r\n  }\r\n  return argHtml.replace(/&([^;]+);/g, (match, entity) => {\r\n    return htmlEntities[entity] || match\r\n  })\r\n}\r\n\r\n/**\r\n * @function rmbPrice\r\n * @description 显示人民币价格。\r\n * @param {unknown} argData - 价格。\r\n * @param {number} argRate - 保留多少位小数，默认为-1。\r\n * @param {string} argUnit - 单位，默认为'￥'。\r\n * @param {string} argDef - 空数据默认值，默认为'--'。\r\n * @returns {string} 格式化后的价格字符串，例如：'￥100'。\r\n * @example\r\n * // 返回 '￥100.00'\r\n * rmbPrice(100, 2);\r\n */\r\nexport const rmbPrice = (\r\n  argData: unknown,\r\n  argRate: number = -1,\r\n  argUnit: string = '￥',\r\n  argDef: string = '--'\r\n): string => {\r\n  if (typeof argData === 'string' || typeof argData === 'number') {\r\n    if (!argData && argData !== 0) {\r\n      return argDef\r\n    }\r\n  } else {\r\n    return argDef\r\n  }\r\n  argData = Number(argData)\r\n  if (argRate > -1) {\r\n    argData = +toFixed(argData as number, argRate)\r\n  }\r\n  return argUnit + argData\r\n}\r\n\r\n/**\r\n * @function formatTime\r\n * @description 日期格式化显示。\r\n * @param {string|number|Date} date - 时间对象或时间戳，默认为当前时间。\r\n * @param {string} fmt - 格式化字符串，默认为'YYYY-MM-DD HH:mm:ss'。E为星期数，EEE:星期一，q为季度，S为毫秒数。\r\n * @param {string} emptyTip - 当date为false时的默认值，默认为''。\r\n * @returns {string} 格式化后的日期字符串。\r\n * @example\r\n * // 返回 '2022-01-01 00:00:00'\r\n * formatTime(new Date(2022, 0, 1));\r\n */\r\nexport const formatTime = (\r\n  date: string | number | Date = +new Date(),\r\n  fmt: string = 'YYYY-MM-DD HH:mm:ss',\r\n  emptyTip: string = ''\r\n): string => {\r\n  if (!date && date !== 0) {\r\n    return emptyTip\r\n  }\r\n  if (isNaN(+date)) {\r\n    return emptyTip\r\n  }\r\n  if (typeof date === 'number') {\r\n    if (date.toString().length === 10) {\r\n      date = date * 1000\r\n    }\r\n  }\r\n  date = new Date(+date)\r\n  const fmtMap: { [key: string]: number } = {\r\n    'M+': date.getMonth() + 1,\r\n    'D+': date.getDate(),\r\n    'h+': date.getHours() % 12 === 0 ? 12 : date.getHours() % 12,\r\n    'H+': date.getHours(),\r\n    'm+': date.getMinutes(),\r\n    's+': date.getSeconds(),\r\n    'q+': Math.floor((date.getMonth() + 3) / 3),\r\n    S: date.getMilliseconds(),\r\n  }\r\n  const week = {\r\n    0: '\\u65e5',\r\n    1: '\\u4e00',\r\n    2: '\\u4e8c',\r\n    3: '\\u4e09',\r\n    4: '\\u56db',\r\n    5: '\\u4e94',\r\n    6: '\\u516d',\r\n  }\r\n  const temY = fmt.match(/(Y+)/)\r\n  if (temY) {\r\n    fmt = fmt.replace(\r\n      temY[0],\r\n      (date.getFullYear() + '').substring(4 - temY[0].length)\r\n    )\r\n  }\r\n  const temWeek = fmt.match(/(E+)/)\r\n  if (temWeek) {\r\n    const temWeekName = ['', '\\u5468']\r\n    fmt = fmt.replace(\r\n      temWeek[0],\r\n      (temWeekName[temWeek[0].length] || '\\u661f\\u671f') +\r\n        safeData(week, date.getDay().toString(), '')\r\n    )\r\n  }\r\n  for (let k in fmtMap) {\r\n    let temMatch = fmt.match(new RegExp('(' + k + ')'))\r\n    if (temMatch) {\r\n      fmt = fmt.replace(\r\n        temMatch[0],\r\n        temMatch[0].length === 1\r\n          ? fmtMap[k].toString()\r\n          : ('00' + fmtMap[k].toString()).substring(('' + fmtMap[k]).length)\r\n      )\r\n    }\r\n  }\r\n  return fmt\r\n}\r\n\r\n/**\r\n * @function friendlyTime\r\n * @description 日期格式化友好显示。例如：刚刚，x分钟前，...。超过一年的按 fmt来格式化。\r\n * @param {string|number|Date} date - 时间对象或时间戳，默认为当前时间。\r\n * @param {string} fmt - 格式化字符串，默认为'YYYY-MM-DD HH:mm:ss'。\r\n * @param {string} emptyTip - 当date为false时的默认值，默认为''。\r\n * @returns {string} 格式化后的友好日期字符串。\r\n * @example\r\n * // 返回 '刚刚'\r\n * friendlyTime(new Date());\r\n */\r\nexport const friendlyTime = (\r\n  date: string | number | Date = +new Date(),\r\n  fmt: string = 'YYYY-MM-DD HH:mm:ss',\r\n  emptyTip: string = ''\r\n): string => {\r\n  if (!date && date !== 0) {\r\n    return emptyTip\r\n  }\r\n  if (isNaN(+date)) {\r\n    return emptyTip\r\n  }\r\n  if (typeof date === 'number' || typeof date === 'string') {\r\n    if (date.toString().length === 10) {\r\n      date = date.toString() + '000'\r\n    }\r\n  }\r\n  date = new Date(+date)\r\n  let diff = (new Date().getTime() - date.getTime()) / 1000\r\n  let dayDiff = Math.floor(diff / 86400)\r\n  let isValidDate =\r\n    Object.prototype.toString.call(date) === '[object Date]' &&\r\n    !isNaN(date.getTime())\r\n  if (!isValidDate) {\r\n    console.warn('friendlyTime:', 'not a valid date')\r\n    return emptyTip || '--'\r\n  }\r\n  if (isNaN(dayDiff) || dayDiff < 0 || dayDiff >= 365) {\r\n    return formatTime(date, fmt)\r\n  }\r\n  return (\r\n    (dayDiff === 0 &&\r\n      ((diff < 60 && '刚刚') ||\r\n        (diff < 120 && '1分钟前') ||\r\n        (diff < 3600 && Math.floor(diff / 60) + '分钟前') ||\r\n        (diff < 7200 && '1小时前') ||\r\n        (diff < 86400 && Math.floor(diff / 3600) + '小时前'))) ||\r\n    (dayDiff === 1 && '昨天') ||\r\n    (dayDiff < 7 && dayDiff + '天前') ||\r\n    (dayDiff < 31 && Math.ceil(dayDiff / 7) + '周前') ||\r\n    (dayDiff < 365 && Math.ceil(dayDiff / 31) + '月前')\r\n  ).toString()\r\n}\r\n/**\r\n * @function px2vw\r\n * @description 将px单位转换为vw单位\r\n * @param {number} argPx - px单位的数值\r\n * @param {number} argWith - px对应的最大宽度，默认为375\r\n * @param {string} argUnit - 单位，'vw'或'%'，默认为'vw'\r\n * @param {number} argNum - 保留的小数位数，默认为6\r\n * @returns {string} 转换后的数值\r\n * @example\r\n * // returns '187.5vw'\r\n * px2vw(200, 375, 'vw', 6)\r\n */\r\nexport const px2vw = (\r\n  argPx: number,\r\n  argWith: number = 375,\r\n  argUnit: string = 'vw',\r\n  argNum: number = 6\r\n): string => {\r\n  return +toFixed((100 / argWith) * argPx, argNum) + argUnit\r\n}\r\n/**\r\n * @function secondToTime\r\n * @description 将秒数转换为倒计时格式\r\n * @param {number} argData - 秒数\r\n * @param {Object} argOption - 配置项\r\n * @param {string} argOption.s - 秒的单位，默认为'秒'\r\n * @param {string} argOption.m - 分的单位，默认为'分'\r\n * @param {string} argOption.h - 时的单位，默认为'时'\r\n * @param {string} argOption.d - 天的单位，默认为'天'\r\n * @param {string} argOption.M - 月的单位，默认为'月'\r\n * @param {string} argOption.y - 年的单位，默认为'年'\r\n * @param {string} argOption.minUtil - 最小显示的时间单位，小于该单位的舍去，默认为's'\r\n * @param {string} argOption.maxUnit - 最大的时间单位，默认为'y'，大于该单位的合入该单位 's,m,h,d,M,y 对应 秒 分 时 天 月 年'，例如: 'm' '13月'\r\n * @param {boolean} argOption.hideZero - 是否隐藏为0的时间单位，默认为false，例如 01h05s\r\n * @param {boolean} argOption.isAddZero - 是否小于10时，是否添加0，默认为true\r\n * @returns {string} 转换后的倒计时格式的字符串\r\n * @example\r\n * // returns '01h05s'\r\n * secondToTime(3905, {s: '秒', m: '分', h: '时', d: '天', M: '月', y: '年', minUtil: 's', maxUnit: 'y', hideZero: false, isAddZero: true})\r\n */\r\nexport const secondToTime = (\r\n  argData: number,\r\n  argOption: {\r\n    s?: string\r\n    m?: string\r\n    h?: string\r\n    d?: string\r\n    M?: string\r\n    y?: string\r\n    maxUnit?: string\r\n    minUnit?: string\r\n    hideZero?: boolean\r\n    isAddZero?: boolean\r\n  } = {}\r\n): string => {\r\n  let res = []\r\n  const {\r\n    s = '秒',\r\n    m = '分',\r\n    h = '时',\r\n    d = '天',\r\n    M = '月',\r\n    y = '年',\r\n    minUnit = 's',\r\n    maxUnit = 'y',\r\n    isAddZero = true,\r\n  } = argOption\r\n  const listObj = {\r\n    s: {\r\n      size: 1,\r\n      type: 's',\r\n      unit: s,\r\n      index: 0,\r\n    },\r\n    m: {\r\n      size: 60,\r\n      unit: m,\r\n      type: 'm',\r\n      index: 1,\r\n    },\r\n    h: {\r\n      size: 60,\r\n      unit: h,\r\n      type: 'h',\r\n      index: 2,\r\n    },\r\n    d: {\r\n      size: 24,\r\n      unit: d,\r\n      type: 'd',\r\n      index: 3,\r\n    },\r\n    M: {\r\n      size: 30,\r\n      unit: M,\r\n      type: 'M',\r\n      index: 4,\r\n    },\r\n    y: {\r\n      size: 12,\r\n      unit: y,\r\n      type: 'y',\r\n      index: 5,\r\n    },\r\n  }\r\n  let list = [listObj.s, listObj.m, listObj.h, listObj.d, listObj.M, listObj.y]\r\n  let temLen = list.length\r\n  let second = argData\r\n  let size = 1\r\n  let index = 0\r\n  for (let i = 0; i < temLen; i++) {\r\n    let lastSize = size\r\n    if (maxUnit === list[i].type) {\r\n      let temTime: number | string = Math.floor(second / lastSize)\r\n      if (isAddZero && temTime < 10) {\r\n        temTime = '0' + temTime\r\n      }\r\n      res.unshift(temTime)\r\n      index = temLen - i - 1\r\n      break\r\n    }\r\n    size = size * (list[i + 1]?.size || 0) || 1\r\n    let time: number | string = Math.floor((second % size) / lastSize)\r\n    if (isAddZero && time < 10) {\r\n      time = '0' + time\r\n    }\r\n    res.unshift(time)\r\n  }\r\n  let timeText = ''\r\n  let isZero = true\r\n  temLen = res.length\r\n  for (let i = 0; i < temLen; i++) {\r\n    const v = res[i]\r\n    if (!+v && (isZero || argOption.hideZero)) {\r\n    } else {\r\n      isZero = false\r\n      timeText += v + list[5 - (index + i)].unit\r\n      if (minUnit === list[5 - (index + i)].type) {\r\n        break\r\n      }\r\n    }\r\n  }\r\n  return timeText\r\n}\r\n/**\r\n * @function formatSize\r\n * @description 将byte数据转换为容量单位\r\n * @param {number} argData - byte数据\r\n * @param {number} argNum - 保留的小数位数，默认为2\r\n * @param {number} argIndex - 起始单位偏移，例如: 0:b 1:k 2:m，默认为0\r\n * @param {number} argRate - 进制，默认为1024\r\n * @param {string[]} unit - 进制，默认为['B', 'K', 'M', 'G', 'T', 'P']\r\n * @returns {string} 计算结果\r\n * @example\r\n * // returns '1.95K'\r\n * formatSize(2000, 2, 0, 1024, ['B', 'K', 'M', 'G', 'T', 'P'])\r\n */\r\nexport const formatSize = (\r\n  argData: number,\r\n  argNum: number = 2,\r\n  argIndex: number = 0,\r\n  argRate: number = 1024,\r\n  unit: string[] = ['B', 'K', 'M', 'G', 'T', 'P']\r\n): string => {\r\n  let list = unit\r\n  if (!argData) {\r\n    return '0' + list[argIndex]\r\n  }\r\n  let len = list.length\r\n  let nowIndex = len - 1\r\n  let temData: number = 0\r\n  for (let i = 0; i < len; i++) {\r\n    temData = argData / Math.pow(argRate, i)\r\n    if (temData < argRate) {\r\n      nowIndex = argIndex + i\r\n      break\r\n    }\r\n  }\r\n  return +toFixed(temData, argNum) + list[nowIndex]\r\n}\r\n/**\r\n * @function formatNumber\r\n * @description 将数据转换为数量单位k/w\r\n * @param {number} argData - 数据\r\n * @param {number} argNum - 保留的小数位数，默认为2\r\n * @returns {string} 计算结果\r\n * @example\r\n * // returns '2k'\r\n * formatNumber(2000, 2)\r\n */\r\nexport const formatNumber = (argData: number, argNum: number = 2): string => {\r\n  if (argData < 1000) {\r\n    return argData.toString()\r\n  } else if (argData < 10000) {\r\n    return +toFixed(argData / 1000, argNum) + 'k'\r\n  } else {\r\n    return +toFixed(argData / 10000, argNum) + 'w'\r\n  }\r\n}\r\n\r\n/**\r\n * 在数据中间添加星号。\r\n * @function\r\n * @description 数据中间加星号\r\n * @param {string|number} argData - 要处理的数据。\r\n * @param {number} argStart=3 - 前端显示多少位。\r\n * @param {number} argEnd=4 - 后面显示多少位。\r\n * @returns {string} - 返回处理好的数据。\r\n * @example\r\n * // 示例\r\n * const data = '1234567890';\r\n * const hiddenData = hideInfo(data, 3, 4);\r\n * console.log(hiddenData); // 输出: '123***7890'\r\n */\r\nexport const hideInfo = (\r\n  argData: string | number = '',\r\n  argStart: number = 3,\r\n  argEnd: number = 4\r\n): string => {\r\n  argData = String(argData)\r\n  let temLen = argData.length\r\n  let temSL = argData.length - argEnd - argStart\r\n  let start = ''\r\n  if (temSL > 0) {\r\n    for (let i = 0; i < temSL; i++) {\r\n      start += '*'\r\n    }\r\n    argData =\r\n      argData.substring(0, argStart) +\r\n      start +\r\n      argData.substring(temLen - argEnd, temLen)\r\n  }\r\n  return argData\r\n}\r\n\r\n/**\r\n * @function\r\n * @description 将10进制数据转换为62进制，用于短网址转换。\r\n * @date 2020-03-01\r\n * @param {number|string} argData - 要处理的数据。\r\n * @returns {string} - 返回处理好的数据。\r\n * @example\r\n * // 示例\r\n * const data = 123456;\r\n * const convertedData = string10to62(data);\r\n * console.log(convertedData); // 输出: 'w7E'\r\n */\r\nexport const string10to62 = (argData: number | string): string => {\r\n  let chars =\r\n    '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'.split('')\r\n  let radix = chars.length\r\n  let data = +argData\r\n  let arr = []\r\n  do {\r\n    let mod = data % radix\r\n    data = (data - mod) / radix\r\n    arr.unshift(chars[mod])\r\n  } while (data)\r\n  return arr.join('')\r\n}\r\n\r\n/**\r\n * @function\r\n * @description 将62进制数据转换为10进制，用于短网址转换。\r\n * @date 2020-03-01\r\n * @param {string} argData - 要处理的数据。\r\n * @returns {number} - 返回处理好的数据。\r\n * @example\r\n * // 示例\r\n * const data = 'w7E';\r\n * const convertedData = string62to10(data);\r\n * console.log(convertedData); // 输出: 123456\r\n */\r\nexport const string62to10 = (argData: string): number => {\r\n  let chars = '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'\r\n  let radix = chars.length\r\n  let len = argData.length\r\n  let i = 0\r\n  let resNum = 0\r\n  while (i < len) {\r\n    resNum +=\r\n      Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || '0')\r\n  }\r\n  return resNum\r\n}\r\n\r\n/**\r\n * @function\r\n * @description 对数据进行toFixed处理。\r\n * @date 2020-03-01\r\n * @param {string|number} argData - 要处理的数据。\r\n * @param {number} argNum - 要保留的位数，默认返回2位小数。\r\n * @param {string} argType - 返回类型，round:默认四舍五入,floor:向下取整,ceil:向上取整,abs:绝对值。\r\n * @returns {string} - 返回处理好的数据。\r\n * @example\r\n * // 示例\r\n * const data = 123.456;\r\n * const fixedData = toFixed(data, 2, 'round');\r\n * console.log(fixedData); // 输出: '123.46'\r\n */\r\nexport const toFixed = (\r\n  argData: string | number,\r\n  argNum: number = 2,\r\n  argType: 'round' | 'floor' | 'ceil' | 'abs' = 'round'\r\n): string => {\r\n  if (isNaN(+argData)) {\r\n    return ''\r\n  }\r\n  const data =\r\n    Math[argType](+argData * Math.pow(10, argNum)) / Math.pow(10, argNum)\r\n  return data.toFixed(argNum)\r\n}\r\n\r\n/**\r\n * @function\r\n * @description 将驼峰字符串转换为下划线字符串\r\n * @param {string} argData - 要转换的字符串。\r\n * @param {string} argUnit - 要转换的字符，默认为“_”。\r\n * @return {string} - 转换后的下划线字符串。\r\n * @example\r\n * // 示例\r\n * const data = 'camelCase';\r\n * const convertedData = toLine(data);\r\n * console.log(convertedData); // 输出: 'camel_case'\r\n */\r\nexport const toLine = (argData: string, argUnit: string = '_'): string => {\r\n  return argData.replace(/([A-Z])/g, argUnit + '$1').toLowerCase()\r\n}\r\n\r\n/**\r\n * @function\r\n * @description 将下划线字符串转换为驼峰字符串\r\n * @param {string} argData - 要转换的字符串。\r\n * @param {string} argUnit - 要转换的字符，默认为“_”。\r\n * @return {string} - 转换后的驼峰字符串。\r\n * @example\r\n * // 示例\r\n * const data = 'underscore_case';\r\n * const convertedData = toHump(data);\r\n * console.log(convertedData); // 输出: 'underscoreCase'\r\n */\r\nexport const toHump = (argData: string, argUnit: string = '_'): string => {\r\n  return argData.replace(\r\n    new RegExp('\\\\' + argUnit + '(\\\\w)', 'g'),\r\n    (_, letter) => {\r\n      return letter.toUpperCase()\r\n    }\r\n  )\r\n}\r\n\r\n/**\r\n * @function\r\n * @description 指定数组key,转换为对象\r\n * @param {any[]} list - 数组。\r\n * @param {string} key - 对象对应的键值。\r\n * @param {string|object} extraData - 为string时，返回对象的键值对,为object时，返回对象。\r\n * @return {Object} - 返回的对象。\r\n * @example\r\n * // 示例\r\n * const list = [{ id: 1, name: 'Alice' }, { id: 2, name: 'Bob' }];\r\n * const obj = arrayToObj(list, 'id');\r\n * console.log(obj); // 输出: { '1': { id: 1, name: 'Alice' }, '2': { id: 2, name: 'Bob' } }\r\n */\r\nexport const arrayToObj = (\r\n  list: any[],\r\n  key: string = '',\r\n  extraData: string | object = ''\r\n): AnyObject => {\r\n  let obj: AnyObject = {}\r\n  list.forEach((item: any, k) => {\r\n    if (extraData) {\r\n      if (typeof extraData === 'string') {\r\n        obj[item[key] || key + k] = item[extraData] || ''\r\n      } else if (typeof extraData === 'object') {\r\n        obj[item[key] || key + k] = Object.assign(item, deepCopy(extraData))\r\n      }\r\n    } else {\r\n      obj[item[key] || key + k] = item\r\n    }\r\n  })\r\n  return obj\r\n}\r\n/**\r\n * @function \r\n * @description 将对象转换为键值对数组。\r\n * @param {object} obj - 要转换的对象。\r\n * @param {string} [key='key'] - 每个键值对的键名称默认key。\r\n * @param {string} [value='value'] - 每个键值对的值名称默认value。\r\n * @param {boolean} [isReverse=false] - 如果为true，则键值对将被颠倒,默认为false。\r\n * @return {array} - 键值对数组。\r\n * @example \r\n// Example usage\r\nconst obj = { a: 1, b: 2 };\r\nconst result = objToArray(obj, 'id', 'v', true);\r\nconsole.log(result); // Output: [{ v: 'a', id: 1 }, { v: 'b', id: 2 }]\r\n*/\r\nexport const objToArray = (\r\n  obj: { [key: string]: any },\r\n  key: string = 'key',\r\n  value: string = 'value',\r\n  isReverse: boolean = false\r\n): any[] => {\r\n  const result: any[] = []\r\n  for (const k in obj) {\r\n    if (obj.hasOwnProperty(k)) {\r\n      result.push({\r\n        [key]: isReverse ? obj[k] : k,\r\n        [value]: isReverse ? k : obj[k],\r\n      })\r\n    }\r\n  }\r\n  return result\r\n}\r\n/**\r\n * @function\r\n * @description 从原始对象中复制属性，并将其赋值给新对象，生成一个新对象。\r\n * @param {Object} obj - 要复制属性的原始对象。\r\n * @param {Object} tmplObj - 要赋值属性的新对象模板。\r\n * @param {boolean} isAssign - 可选。确定是否将属性赋值给原始对象。\r\n * @return {Object} 复制了属性的新对象。\r\n * @example\r\n * // 示例\r\n * const obj = { a: 1, b: 2 };\r\n * const tmplObj = { a: 0, c: 0 };\r\n * const newObj = objToObj(obj, tmplObj);\r\n * console.log(newObj); // 输出: { a: 1, c: '' }\r\n */\r\nexport const objToObj = (\r\n  obj: { [key: string]: any },\r\n  tmplObj: { [key: string]: any },\r\n  isAssign: boolean = false\r\n): object => {\r\n  let newObj = deepCopy(tmplObj)\r\n  for (const key in newObj) {\r\n    const temKey: string = String(newObj[key] || key)\r\n    if (typeof newObj[key] === 'object') {\r\n      newObj[key] = objToObj(obj, newObj[key])\r\n    } else {\r\n      newObj[key] = safeData(obj, temKey, '')\r\n    }\r\n  }\r\n  if (isAssign) {\r\n    newObj = Object.assign({}, obj, newObj)\r\n  }\r\n  return newObj\r\n}\r\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2632","url":"/home/runner/work/utils/utils/src/transform.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":10802,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":10799,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":18}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":18}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"arrayToObj","ranges":[{"startOffset":931,"endOffset":947,"count":0}],"isBlockCoverage":false},{"functionName":"decodeHtml","ranges":[{"startOffset":963,"endOffset":979,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":995,"endOffset":1011,"count":0}],"isBlockCoverage":false},{"functionName":"formatNumber","ranges":[{"startOffset":1029,"endOffset":1047,"count":0}],"isBlockCoverage":false},{"functionName":"formatSize","ranges":[{"startOffset":1063,"endOffset":1079,"count":0}],"isBlockCoverage":false},{"functionName":"formatTime","ranges":[{"startOffset":1095,"endOffset":1111,"count":0}],"isBlockCoverage":false},{"functionName":"friendlyTime","ranges":[{"startOffset":1129,"endOffset":1147,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":1161,"endOffset":1175,"count":0}],"isBlockCoverage":false},{"functionName":"objToArray","ranges":[{"startOffset":1191,"endOffset":1207,"count":0}],"isBlockCoverage":false},{"functionName":"objToObj","ranges":[{"startOffset":1221,"endOffset":1235,"count":0}],"isBlockCoverage":false},{"functionName":"px2vw","ranges":[{"startOffset":1246,"endOffset":1257,"count":0}],"isBlockCoverage":false},{"functionName":"rmbPrice","ranges":[{"startOffset":1271,"endOffset":1285,"count":0}],"isBlockCoverage":false},{"functionName":"secondToTime","ranges":[{"startOffset":1303,"endOffset":1321,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":1339,"endOffset":1357,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":1375,"endOffset":1393,"count":0}],"isBlockCoverage":false},{"functionName":"toFixed","ranges":[{"startOffset":1406,"endOffset":1419,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":1431,"endOffset":1443,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":1455,"endOffset":1467,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":1574,"endOffset":1901,"count":0}],"isBlockCoverage":false},{"functionName":"decodeHtml","ranges":[{"startOffset":1922,"endOffset":2160,"count":0}],"isBlockCoverage":false},{"functionName":"rmbPrice","ranges":[{"startOffset":2179,"endOffset":2535,"count":0}],"isBlockCoverage":false},{"functionName":"formatTime","ranges":[{"startOffset":2556,"endOffset":4046,"count":0}],"isBlockCoverage":false},{"functionName":"friendlyTime","ranges":[{"startOffset":4069,"endOffset":5305,"count":0}],"isBlockCoverage":false},{"functionName":"px2vw","ranges":[{"startOffset":5321,"endOffset":5438,"count":0}],"isBlockCoverage":false},{"functionName":"secondToTime","ranges":[{"startOffset":5461,"endOffset":7268,"count":0}],"isBlockCoverage":false},{"functionName":"formatSize","ranges":[{"startOffset":7289,"endOffset":7746,"count":0}],"isBlockCoverage":false},{"functionName":"formatNumber","ranges":[{"startOffset":7769,"endOffset":7996,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":8015,"endOffset":8394,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":8417,"endOffset":8728,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":8751,"endOffset":9059,"count":0}],"isBlockCoverage":false},{"functionName":"toFixed","ranges":[{"startOffset":9077,"endOffset":9285,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":9302,"endOffset":9401,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":9418,"endOffset":9589,"count":0}],"isBlockCoverage":false},{"functionName":"arrayToObj","ranges":[{"startOffset":9610,"endOffset":10050,"count":0}],"isBlockCoverage":false},{"functionName":"objToArray","ranges":[{"startOffset":10071,"endOffset":10347,"count":0}],"isBlockCoverage":false},{"functionName":"objToObj","ranges":[{"startOffset":10366,"endOffset":10795,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":7,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1706283596901,"runtime":222,"slow":false,"start":1706283596679},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/encrypt.spec.ts","testResults":[{"rowKey":0,"ancestorTitles":["encrypt"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"encrypt md5","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"md5"},{"rowKey":1,"ancestorTitles":["encrypt"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"encrypt enBase64","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"enBase64"},{"rowKey":2,"ancestorTitles":["encrypt"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"encrypt deBase64","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"deBase64"},{"rowKey":3,"ancestorTitles":["encrypt"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"encrypt encode","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"encode"},{"rowKey":4,"ancestorTitles":["encrypt"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"encrypt decode","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"decode"},{"rowKey":5,"ancestorTitles":["encrypt"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"encrypt key by","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"key by"},{"rowKey":6,"ancestorTitles":["encrypt"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"encrypt aesInit","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"aesInit"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key2 of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key2) && key2 !== except)\n        __defProp(to, key2, { get: () => from[key2], enumerable: !(desc = __getOwnPropDesc(from, key2)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  aesInit: () => aesInit,\n  deAes: () => deAes,\n  deBase64: () => deBase64,\n  decode: () => decode,\n  enAes: () => enAes,\n  enBase64: () => enBase64,\n  encode: () => encode,\n  md5: () => md5\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_crypto_js = __toESM(require(\"crypto-js\"));\nlet key = \"by\";\nlet iv = import_crypto_js.default.enc.Utf8.parse(\"linj\");\nfunction aesInit(argKey, argIv) {\n  key = argKey;\n  iv = import_crypto_js.default.enc.Utf8.parse(argIv);\n}\nconst enAes = (word) => import_crypto_js.default.AES.encrypt(word.toString(), key, {\n  iv,\n  mode: import_crypto_js.default.mode.CBC,\n  padding: import_crypto_js.default.pad.Pkcs7\n}).toString();\nconst deAes = (word) => {\n  try {\n    return import_crypto_js.default.AES.decrypt(word, key, {\n      iv,\n      mode: import_crypto_js.default.mode.CBC,\n      padding: import_crypto_js.default.pad.Pkcs7\n    }).toString(import_crypto_js.default.enc.Utf8);\n  } catch (error) {\n    console.error(error);\n    return \"\";\n  }\n};\nconst md5 = (argData) => import_crypto_js.default.MD5(argData).toString();\nconst enBase64 = (argData) => {\n  argData = argData.toString() || \"\";\n  let wordArray = import_crypto_js.default.enc.Utf8.parse(argData);\n  let base64 = import_crypto_js.default.enc.Base64.stringify(wordArray);\n  return base64;\n};\nconst deBase64 = (argData) => {\n  argData = argData || \"\";\n  let wordArray = import_crypto_js.default.enc.Base64.parse(argData);\n  let base64 = wordArray.toString(import_crypto_js.default.enc.Utf8);\n  return base64;\n};\nconst encode = (argData, argType = \"base64\") => {\n  switch (argType) {\n    case \"base64\":\n      return enBase64(argData);\n    case \"aes\":\n      return enAes(argData);\n    default:\n      return argData.toString();\n  }\n};\nconst decode = (argData, argType = \"base64\") => {\n  switch (argType) {\n    case \"base64\":\n      return deBase64(argData);\n    case \"aes\":\n      return deAes(argData);\n    default:\n      return argData;\n  }\n};\n","originalCode":"/**\n * @module\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 需安装crypto-js依赖，小程序引用crypto-js比较大，如果只是base64的转换，引用base64.js即可\n */\nimport CryptoJS from 'crypto-js'\n\nlet key = 'by'\nlet iv = CryptoJS.enc.Utf8.parse('linj')\n/**\n * @function\n * @description aes初始化,选定aes加密码方式后，先执行初始化\n * @param {string} argKey 密钥\n * @param {string} argIv 密钥偏移量\n */\nexport function aesInit(argKey: string, argIv: string) {\n  key = argKey //密钥\n  iv = CryptoJS.enc.Utf8.parse(argIv) // 十六进制数作为密钥偏移量\n}\n\n/**\n * @function\n * @description aes加密\n * @param {string | number} word 待加密内容\n * @returns {string} 已加密内容\n */\nexport const enAes = (word: string | number): string =>\n  CryptoJS.AES.encrypt(word.toString(), key, {\n    iv: iv,\n    mode: CryptoJS.mode.CBC,\n    padding: CryptoJS.pad.Pkcs7,\n  }).toString()\n/**\n * @function\n * @description aes解密\n * @param {string} word 待解密内容\n * @returns {string} 已解密内容\n */\nexport const deAes = (word: string): string => {\n  try {\n    return CryptoJS.AES.decrypt(word, key, {\n      iv: iv,\n      mode: CryptoJS.mode.CBC,\n      padding: CryptoJS.pad.Pkcs7,\n    }).toString(CryptoJS.enc.Utf8)\n  } catch (error) {\n    console.error(error)\n    return ''\n  }\n}\n\n/**\n * @function\n * @description md5 加密\n * @param {string | CryptoJS.lib.WordArray} argData 待加密内容\n * @returns {string} 已加密内容\n */\nexport const md5 = (argData: string | CryptoJS.lib.WordArray): string =>\n  CryptoJS.MD5(argData).toString()\n/**\n * @function\n * @description base64 加密\n * @param {string | number} argData 待加密内容\n * @returns {string} 已加密内容\n */\nexport const enBase64 = (argData: string | number): string => {\n  argData = argData.toString() || ''\n  let wordArray = CryptoJS.enc.Utf8.parse(argData)\n  let base64 = CryptoJS.enc.Base64.stringify(wordArray)\n  return base64\n}\n/**\n * @function\n * @description base64 解密\n * @param {string} argData 待解密内容\n * @returns {string} 已解密内容\n */\nexport const deBase64 = (argData: string): string => {\n  argData = argData || ''\n  let wordArray = CryptoJS.enc.Base64.parse(argData)\n  let base64 = wordArray.toString(CryptoJS.enc.Utf8)\n  return base64\n}\n\n/**\n * @function\n * @description 加密\n * @param {string | number} argData 待加密内容\n * @param {string} argType 加密类型，默认base64\n * @returns {string} 已加密内容\n */\nexport const encode = (\n  argData: string | number,\n  argType: string = 'base64'\n): string => {\n  switch (argType) {\n    case 'base64':\n      return enBase64(argData)\n    case 'aes':\n      return enAes(argData)\n    default:\n      return argData.toString()\n  }\n}\n\n/**\n * @function\n * @description 解密\n * @param {string} argData 待解密内容\n * @param {string} argType 解密类型，默认base64\n * @returns {string} 已解密内容\n */\nexport const decode = (argData: string, argType: string = 'base64'): string => {\n  switch (argType) {\n    case 'base64':\n      return deBase64(argData)\n    case 'aes':\n      return deAes(argData)\n    default:\n      return argData\n  }\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"6","url":"/home/runner/work/utils/utils/src/encrypt/crypto.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3186,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3183,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":368,"endOffset":479,"count":1},{"startOffset":415,"endOffset":477,"count":8}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":499,"endOffset":851,"count":2},{"startOffset":568,"endOffset":597,"count":0},{"startOffset":653,"endOffset":832,"count":41}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":741,"endOffset":757,"count":16}],"isBlockCoverage":true},{"functionName":"__toESM","ranges":[{"startOffset":867,"endOffset":1090,"count":1},{"startOffset":948,"endOffset":952,"count":0},{"startOffset":1072,"endOffset":1080,"count":0}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":1111,"endOffset":1182,"count":1}],"isBlockCoverage":true},{"functionName":"aesInit","ranges":[{"startOffset":1245,"endOffset":1258,"count":1}],"isBlockCoverage":true},{"functionName":"deAes","ranges":[{"startOffset":1269,"endOffset":1280,"count":3}],"isBlockCoverage":true},{"functionName":"deBase64","ranges":[{"startOffset":1294,"endOffset":1308,"count":1}],"isBlockCoverage":true},{"functionName":"decode","ranges":[{"startOffset":1320,"endOffset":1332,"count":3}],"isBlockCoverage":true},{"functionName":"enAes","ranges":[{"startOffset":1343,"endOffset":1354,"count":3}],"isBlockCoverage":true},{"functionName":"enBase64","ranges":[{"startOffset":1368,"endOffset":1382,"count":1}],"isBlockCoverage":true},{"functionName":"encode","ranges":[{"startOffset":1394,"endOffset":1406,"count":3}],"isBlockCoverage":true},{"functionName":"md5","ranges":[{"startOffset":1415,"endOffset":1424,"count":1}],"isBlockCoverage":true},{"functionName":"aesInit","ranges":[{"startOffset":1603,"endOffset":1709,"count":1}],"isBlockCoverage":true},{"functionName":"enAes","ranges":[{"startOffset":1724,"endOffset":1903,"count":5}],"isBlockCoverage":true},{"functionName":"deAes","ranges":[{"startOffset":1919,"endOffset":2225,"count":5},{"startOffset":2163,"endOffset":2223,"count":0}],"isBlockCoverage":true},{"functionName":"md5","ranges":[{"startOffset":2239,"endOffset":2300,"count":1}],"isBlockCoverage":true},{"functionName":"enBase64","ranges":[{"startOffset":2319,"endOffset":2531,"count":2},{"startOffset":2365,"endOffset":2370,"count":0}],"isBlockCoverage":true},{"functionName":"deBase64","ranges":[{"startOffset":2550,"endOffset":2750,"count":2},{"startOffset":2585,"endOffset":2590,"count":0}],"isBlockCoverage":true},{"functionName":"encode","ranges":[{"startOffset":2767,"endOffset":2970,"count":3},{"startOffset":2827,"endOffset":2873,"count":1},{"startOffset":2878,"endOffset":2918,"count":2},{"startOffset":2923,"endOffset":2964,"count":0}],"isBlockCoverage":true},{"functionName":"decode","ranges":[{"startOffset":2987,"endOffset":3179,"count":3},{"startOffset":3047,"endOffset":3093,"count":1},{"startOffset":3098,"endOffset":3138,"count":2},{"startOffset":3143,"endOffset":3173,"count":0}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  deBase64: () => deBase64,\n  decode: () => decode,\n  enBase64: () => enBase64,\n  encode: () => encode\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_js_base64 = require(\"js-base64\");\nconst enBase64 = (argData) => {\n  argData = argData || \"\";\n  var base64 = (0, import_js_base64.encode)(argData.toString());\n  return base64;\n};\nconst deBase64 = (argData) => {\n  try {\n    argData = argData || \"\";\n    var base64 = (0, import_js_base64.decode)(argData);\n    return base64;\n  } catch (e) {\n    return \"\";\n  }\n};\nconst encode = (argData, argType = \"base64\") => {\n  switch (argType) {\n    case \"base64\":\n      return enBase64(argData);\n    default:\n      return argData.toString();\n  }\n};\nconst decode = (argData, argType = \"base64\") => {\n  switch (argType) {\n    case \"base64\":\n      return deBase64(argData);\n    default:\n      return argData;\n  }\n};\n","originalCode":"/**\n * @module\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description base64加解密\n */\n\nimport { encode as en, decode as de } from 'js-base64'\n/**\n * @function\n * @description base64 加密\n * @param {string | number} argData 待加密内容\n * @returns {string} 已加密内容\n */\nexport const enBase64 = (argData: string | number): string => {\n  argData = argData || ''\n  var base64 = en(argData.toString())\n  return base64\n}\n/**\n * @function\n * @description base64 解密\n * @param {string} argData 待解密内容\n * @returns {string} 已解密内容\n */\nexport const deBase64 = (argData: string): string => {\n  try {\n    argData = argData || ''\n    var base64 = de(argData)\n    return base64\n  } catch {\n    return ''\n  }\n}\n/**\n * @function\n * @description 加密\n * @param {string | number} argData 待加密内容\n * @param {string} argType 加密类型，默认base64\n * @returns {string} 已加密内容\n */\nexport const encode = (\n  argData: string | number,\n  argType: string = 'base64'\n): string => {\n  switch (argType) {\n    case 'base64':\n      return enBase64(argData)\n    default:\n      return argData.toString()\n  }\n}\n\n/**\n * @function\n * @description 解密\n * @param {string} argData 待解密内容\n * @param {string} argType 解密类型，默认base64\n * @returns {string} 已解密内容\n */\nexport const decode = (argData: string, argType: string = 'base64'): string => {\n  switch (argType) {\n    case 'base64':\n      return deBase64(argData)\n    default:\n      return argData\n  }\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"5","url":"/home/runner/work/utils/utils/src/encrypt/base64.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1785,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1782,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":4}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":4}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":2}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"deBase64","ranges":[{"startOffset":929,"endOffset":943,"count":1}],"isBlockCoverage":true},{"functionName":"decode","ranges":[{"startOffset":955,"endOffset":967,"count":0}],"isBlockCoverage":false},{"functionName":"enBase64","ranges":[{"startOffset":981,"endOffset":995,"count":1}],"isBlockCoverage":true},{"functionName":"encode","ranges":[{"startOffset":1007,"endOffset":1019,"count":0}],"isBlockCoverage":false},{"functionName":"enBase64","ranges":[{"startOffset":1132,"endOffset":1257,"count":1},{"startOffset":1167,"endOffset":1172,"count":0}],"isBlockCoverage":true},{"functionName":"deBase64","ranges":[{"startOffset":1276,"endOffset":1439,"count":1},{"startOffset":1321,"endOffset":1326,"count":0},{"startOffset":1407,"endOffset":1437,"count":0}],"isBlockCoverage":true},{"functionName":"encode","ranges":[{"startOffset":1456,"endOffset":1614,"count":0}],"isBlockCoverage":false},{"functionName":"decode","ranges":[{"startOffset":1631,"endOffset":1778,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1706283598603,"runtime":1686,"slow":false,"start":1706283596917},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/class/Loading.spec.ts","testResults":[{"rowKey":0,"ancestorTitles":["Loading"],"duration":1517,"failureDetails":[],"failureMessages":[],"fullName":"Loading Loading","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"Loading"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar stdin_exports = {};\n__export(stdin_exports, {\n  Loading: () => Loading,\n  default: () => stdin_default\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar _delay, _timer, _showTime;\nclass Loading {\n  constructor(argShow, argHide, argDelay = 300) {\n    this.loadNum = 0;\n    __privateAdd(this, _delay, 300);\n    __privateAdd(this, _timer, void 0);\n    __privateAdd(this, _showTime, 0);\n    this.showCb = () => {\n    };\n    this.hideCb = () => {\n    };\n    if (typeof argShow === \"function\") {\n      this.showCb = argShow;\n    }\n    if (typeof argHide === \"function\") {\n      this.hideCb = argHide;\n    }\n    __privateSet(this, _delay, argDelay || 300);\n  }\n  loading(isAdd = false) {\n    if (isAdd) {\n      if (!this.loadNum) {\n        __privateSet(this, _timer, setTimeout(() => {\n          __privateSet(this, _showTime, +new Date());\n          this.showCb();\n        }, __privateGet(this, _delay)));\n      }\n      this.loadNum++;\n    } else {\n      this.loadNum--;\n      if (this.loadNum < 0) {\n        this.loadNum = 0;\n      }\n    }\n    if (!this.loadNum) {\n      clearTimeout(__privateGet(this, _timer));\n      setTimeout(() => {\n        if (__privateGet(this, _showTime)) {\n          console.debug(\n            \"\\u663E\\u793Aloading\\u65F6\\u957F:\",\n            (+new Date() - __privateGet(this, _showTime)) / 1e3\n          );\n        }\n        this.hideCb();\n      }, 0);\n    }\n  }\n  show() {\n    this.loading(true);\n  }\n  hide() {\n    this.loading(false);\n  }\n}\n_delay = new WeakMap();\n_timer = new WeakMap();\n_showTime = new WeakMap();\nvar stdin_default = Loading;\n","originalCode":"import { AnyFn, Bool } from '../types'\n/**\n * @class\n * @classdesc 通用延时loading\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @example\n * const L = new.Loading(argShow,argHide,300)\n * L.show()\n * L.hide()\n * L.loading(1)\n * L.loading(0)\n */\n\nexport class Loading {\n  // 请求数\n  loadNum = 0\n  #delay = 300\n  // 计时\n  #timer: any\n  // 临时开始时间\n  #showTime = 0\n  showCb: AnyFn = () => {}\n  hideCb: AnyFn = () => {}\n  /**\n   * @function\n   * @param {function} argShow 显示loading 回调\n   * @param {function} argHide 隐藏loading 回调\n   * @param {number} [argDelay]=300 argDelay 延时 ms,不宜过长,默认300\n   */\n  constructor(argShow?: unknown, argHide?: unknown, argDelay: number = 300) {\n    if (typeof argShow === 'function') {\n      this.showCb = argShow as AnyFn\n    }\n    if (typeof argHide === 'function') {\n      this.hideCb = argHide as AnyFn\n    }\n    this.#delay = argDelay || 300\n  }\n  /**\n   * @function\n   * @param {boolean} isAdd 是否增加一个请求loading\n   * @description 是否增加一个请求loading，true +1,false -1\n   */\n  loading(isAdd: Bool = false) {\n    if (isAdd) {\n      if (!this.loadNum) {\n        this.#timer = setTimeout(() => {\n          this.#showTime = +new Date()\n          this.showCb()\n        }, this.#delay)\n      }\n      this.loadNum++\n    } else {\n      this.loadNum--\n      if (this.loadNum < 0) {\n        this.loadNum = 0\n      }\n    }\n    if (!this.loadNum) {\n      clearTimeout(this.#timer)\n      setTimeout(() => {\n        if (this.#showTime) {\n          console.debug(\n            '显示loading时长:',\n            (+new Date() - this.#showTime) / 1000\n          )\n        }\n        this.hideCb()\n      }, 0)\n    }\n  }\n  /**\n   * @function\n   * @description 显示loading，同loading(1)\n   */\n  show() {\n    this.loading(true)\n  }\n  /**\n   * @function\n   * @description 隐藏loading，同loading(0)\n   */\n  hide() {\n    this.loading(false)\n  }\n}\nexport default Loading\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3","url":"/home/runner/work/utils/utils/src/class/Loading.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3123,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3120,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":2}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":2}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":1}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"__accessCheck","ranges":[{"startOffset":887,"endOffset":974,"count":19},{"startOffset":939,"endOffset":972,"count":0}],"isBlockCoverage":true},{"functionName":"__privateGet","ranges":[{"startOffset":995,"endOffset":1134,"count":12},{"startOffset":1095,"endOffset":1113,"count":0}],"isBlockCoverage":true},{"functionName":"__privateAdd","ranges":[{"startOffset":1155,"endOffset":1351,"count":3},{"startOffset":1208,"endOffset":1277,"count":0},{"startOffset":1306,"endOffset":1323,"count":0}],"isBlockCoverage":true},{"functionName":"__privateSet","ranges":[{"startOffset":1372,"endOffset":1540,"count":7},{"startOffset":1471,"endOffset":1496,"count":0}],"isBlockCoverage":true},{"functionName":"Loading","ranges":[{"startOffset":1603,"endOffset":1616,"count":0}],"isBlockCoverage":false},{"functionName":"default","ranges":[{"startOffset":1629,"endOffset":1648,"count":1}],"isBlockCoverage":true},{"functionName":"Loading","ranges":[{"startOffset":1748,"endOffset":2203,"count":1},{"startOffset":2191,"endOffset":2197,"count":0}],"isBlockCoverage":true},{"functionName":"Loading.showCb","ranges":[{"startOffset":1951,"endOffset":1964,"count":0}],"isBlockCoverage":false},{"functionName":"Loading.hideCb","ranges":[{"startOffset":1984,"endOffset":1997,"count":0}],"isBlockCoverage":false},{"functionName":"loading","ranges":[{"startOffset":2206,"endOffset":2932,"count":10},{"startOffset":2246,"endOffset":2583,"count":5},{"startOffset":2273,"endOffset":2456,"count":3},{"startOffset":2542,"endOffset":2577,"count":0},{"startOffset":2607,"endOffset":2928,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2321,"endOffset":2417,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2674,"endOffset":2917,"count":3}],"isBlockCoverage":true},{"functionName":"show","ranges":[{"startOffset":2935,"endOffset":2971,"count":0}],"isBlockCoverage":false},{"functionName":"hide","ranges":[{"startOffset":2974,"endOffset":3011,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  autoPlayAudio: () => autoPlayAudio,\n  deepCopy: () => deepCopy,\n  delCookie: () => delCookie,\n  delay: () => delay,\n  getCookie: () => getCookie,\n  getCookieObj: () => getCookieObj,\n  getEnv: () => getEnv,\n  getInfo: () => getInfo,\n  getNetworkStatus: () => getNetworkStatus,\n  getObj: () => getObj,\n  getRandomColor: () => getRandomColor,\n  getRegexp: () => getRegexp,\n  getStorage: () => getStorage,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  randomInt: () => randomInt,\n  remInit: () => remInit,\n  replaceUrlParam: () => replaceUrlParam,\n  requestDeviceMotionPermission: () => requestDeviceMotionPermission,\n  safe: () => safe,\n  safeData: () => safeData,\n  setCookie: () => setCookie,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setStorage: () => setStorage,\n  setTitle: () => setTitle,\n  setUrlParams: () => setUrlParams,\n  sleep: () => sleep\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_is = require(\"./is\");\nlet isOnline = true;\nlet ENV = {};\nlet DATA_OBJECT = {};\nif (globalThis && globalThis.addEventListener) {\n  globalThis.addEventListener(\"offline\", function() {\n    console.debug(\"offLine\");\n    isOnline = false;\n  });\n  globalThis.addEventListener(\"online\", function() {\n    console.debug(\"onLine\");\n    isOnline = true;\n  });\n}\nconst getNetworkStatus = () => {\n  return isOnline;\n};\nconst getRegexp = () => {\n  return {\n    html: /<[^>]+>/gim,\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    phone: /^1\\d{10}$/,\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n    http: /http:\\/\\/|https:\\/\\//,\n    score: /^[1-9]\\d*|0$/,\n    int: /^[1-9]\\d*$/,\n    number: /^\\d*$/,\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    letter: /^[a-zA-Z]*$/,\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    realName: /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    ascii: /^[\\x20-\\x7E]+$/\n  };\n};\nconst setTitle = (argTitle) => {\n  if (typeof globalThis.document === \"object\") {\n    globalThis.document.title = String(argTitle);\n  }\n  if (getInfo().isAppleMobile) {\n    const i = document.createElement(\"iframe\");\n    i.onload = () => {\n      setTimeout(() => {\n        console.debug(\"apple mobile setting title\");\n        i.remove();\n      }, 10);\n    };\n    globalThis.document.body.appendChild(i);\n  }\n};\nconst remInit = (argBaseSize = 16, argWidth = 375) => {\n  const setRem = () => {\n    const scale = safeData(globalThis, \"document.documentElement.clientWidth\", argWidth) / argWidth;\n    safeData(\n      globalThis,\n      \"document.documentElement.style.fontSize\",\n      argBaseSize * scale + \"px\",\n      true\n    );\n  };\n  setRem();\n  globalThis.onresize = () => {\n    setRem();\n  };\n};\nconst getCookie = (argName) => {\n  const cookies = globalThis.document.cookie.split(\"; \");\n  const cookie = cookies.find((cookie2) => {\n    const [name] = cookie2.split(\"=\");\n    return argName === name;\n  });\n  return cookie ? decodeURIComponent(cookie.split(\"=\")[1] || \"\") : \"\";\n};\nconst getCookieObj = () => {\n  const cookies = globalThis.document.cookie.split(\"; \");\n  const cookieObj = {};\n  cookies.forEach((cookie) => {\n    const [key, value = \"\"] = cookie.split(\"=\");\n    cookieObj[key] = decodeURIComponent(value);\n  });\n  return cookieObj;\n};\nconst setCookie = (argName, argValue = \"\", argTime = 24, argPath = \"/\", domain = globalThis.location.hostname) => {\n  if (argTime === 0) {\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};domain=${domain};`;\n  } else {\n    const now = new Date();\n    const offset = 8;\n    const utc = now.getTime() + now.getTimezoneOffset() * 6e4;\n    const nd = utc + 36e5 * offset;\n    const exp = new Date(nd);\n    exp.setTime(exp.getTime() + argTime * 60 * 60 * 1e3);\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};expires=${exp.toUTCString()};domain=${domain};`;\n  }\n};\nconst delCookie = (argName = \"\") => {\n  setCookie(argName, \"\", -1);\n};\nconst getInfo = () => {\n  let ua = safeData(globalThis, \"navigator.userAgent\", \"\").toLowerCase();\n  let platform = safeData(\n    globalThis,\n    \"navigator.userAgentData.platform\",\n    \"\"\n  ).toLowerCase();\n  let info = {\n    ua,\n    platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match(\"win\"),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match(\"mac\"),\n    isIos: !!platform.match(\"ios\"),\n    isAndroid: !!platform.match(\"android\"),\n    isSafari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"chrome\") < 1,\n    isIE: \"ActiveXObject\" in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i)\n  };\n  if (info.ua.match(\"msie\")) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/);\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1];\n    }\n  }\n  info.isAppleMobile = !!(info.isMobile && ua.toLowerCase().indexOf(\"applewebkit\") && ua.indexOf(\"chrome\") < 1);\n  return info;\n};\nconst getRandomColor = function() {\n  return \"#\" + (\"00000\" + (Math.random() * 16777216 << 0).toString(16)).substring(-6);\n};\nconst getStorage = (argKey, argNoJson) => {\n  let res = globalThis.localStorage.getItem(argKey);\n  if (!argNoJson && (0, import_is.isJson)(res) && res) {\n    res = JSON.parse(res);\n  }\n  return res || \"\";\n};\nconst setStorage = (argKey, argData) => {\n  if (typeof argData === \"object\") {\n    argData = JSON.stringify(argData);\n  }\n  globalThis.localStorage.setItem(argKey, String(argData));\n  return String(argData);\n};\nconst sleep = (ms) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\nconst delay = (time = 0) => {\n  let start = Date.now();\n  while (Date.now() - start < time) {\n    continue;\n  }\n};\nconst safe = function safe2(argData, argCheck, argValue, argSetValueForce) {\n  if (!argData) {\n    return argValue;\n  }\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    ;\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        } else {\n          return argValue;\n        }\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData.slice(argData.indexOf(\"?\") + 1).split(\"&\").forEach((v) => {\n      const [key, val] = v.split(\"=\");\n      if (key !== v) {\n        res[key] = decodeURIComponent(val);\n      }\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  const reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  const r = url.match(reg);\n  const search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {\n        if (!p4 || !p4.length) {\n          return \"\";\n        } else if (p1 === p4) {\n          return p1;\n        }\n        return p1 + p4;\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    const sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    const sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst getUuid = () => {\n  const S4 = () => ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nconst deepCopy = (obj, hash = /* @__PURE__ */ new WeakMap()) => {\n  if (obj === null || typeof obj !== \"object\")\n    return obj;\n  if (obj instanceof Date)\n    return new Date(obj);\n  if (obj instanceof RegExp)\n    return new RegExp(obj);\n  if (obj instanceof Map)\n    return new Map(deepCopy(Array.from(obj), hash));\n  if (obj instanceof Set)\n    return new Set(deepCopy(Array.from(obj), hash));\n  if (hash.has(obj))\n    return hash.get(obj);\n  const copy = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n  hash.set(obj, copy);\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      copy[key] = deepCopy(obj[key], hash);\n    }\n  }\n  return copy;\n};\nconst requestDeviceMotionPermission = () => {\n  if (typeof DeviceMotionEvent.requestPermission === \"function\") {\n    return DeviceMotionEvent.requestPermission().then((permissionState) => {\n      if (permissionState === \"granted\") {\n        return true;\n      } else {\n        return false;\n      }\n    }).catch(() => {\n      return false;\n    });\n  } else {\n    return true;\n  }\n};\nconst autoPlayAudio = (audioUrl, isWeixin) => {\n  const audio = new Audio(audioUrl);\n  audio.addEventListener(\n    \"ended\",\n    function() {\n      this.currentTime = 0;\n      this.play();\n    },\n    false\n  );\n  audio.autoplay = true;\n  if (isWeixin) {\n    document.addEventListener(\n      \"WeixinJSBridgeReady\",\n      function() {\n        audio.play();\n      },\n      false\n    );\n  }\n  return audio;\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 公共函数，使用'lj-utils'引入\n */\n\nimport { isJson } from './is'\nimport { Info, AnyObject, Bool } from './types'\n\nlet isOnline: boolean = true\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n// 断网监听\nif (globalThis && globalThis.addEventListener) {\n  // #ifdef H5\n  globalThis.addEventListener('offline', function () {\n    console.debug('offLine')\n    isOnline = false\n  })\n  globalThis.addEventListener('online', function () {\n    console.debug('onLine')\n    isOnline = true\n  })\n  // #endif\n}\n\n/**\n * @function\n * @description 获取当前网络状态（H5）\n * @return boolean\n * @returns {boolean}\n * @example\n * ```\n * const status = getNetworkStatus();\n * ```\n */\nexport const getNetworkStatus = () => {\n  return isOnline\n}\n\n/**\n * @function\n * @description 正则收集\n * @returns {object}\n * @returns {object}\n * @example\n * ```\n * const regex = getRegexp();\n * ```\n */\nexport const getRegexp = (): AnyObject => {\n  return {\n    // 匹配html标签，提取html文字： htmlCode.replace(reg.html,'')\n    html: /<[^>]+>/gim,\n    // 至少1数字1字母1字符，8-16位\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    // 普通身份证号正则，isIdCard更为严格\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    // 简易身份证号 数字+x\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    // 手机号\n    phone: /^1\\d{10}$/,\n    // 邮箱\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n    // 网址\n    http: /http:\\/\\/|https:\\/\\//,\n    // 含0整数（得分）\n    score: /^[1-9]\\d*|0$/,\n    // 整数\n    int: /^[1-9]\\d*$/,\n    // 匹配数字\n    number: /^\\d*$/,\n    // >=0||1位小数\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    // >=0||2位小数\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    // >=0||3位小数\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    // 字母+数字组合\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    // 字母\n    letter: /^[a-zA-Z]*$/,\n    // 帐号50个字内：大小写+数字+中文+'_'+'-'\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    // 中英文姓名 50个字内/中文 中文/英文-. 英文-./\n    realName:\n      /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    // 匹配中文\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    // 匹配ASCII,非中文之外的字符（全角字符）\n    ascii: /^[\\x20-\\x7E]+$/,\n  }\n}\n\n/**\n * @function\n * @description 设置标题\n * @param  {string} argTitle 标题\n */\nexport const setTitle = (argTitle: string | number) => {\n  if (typeof globalThis.document === 'object') {\n    globalThis.document.title = String(argTitle)\n  }\n  if (getInfo().isAppleMobile) {\n    const i = document.createElement('iframe')\n    i.onload = () => {\n      setTimeout(() => {\n        console.debug('apple mobile setting title')\n        i.remove()\n      }, 10)\n    }\n    globalThis.document.body.appendChild(i)\n  }\n}\n\n/**\n * @function\n * @description 使用postcss-px2rem时使用\n * @param {number} argBaseSize 基础大小 16px（要跟配置一致）\n * @param {number} argWidth 基准宽度\n */\nexport const remInit = (argBaseSize: number = 16, argWidth: number = 375) => {\n  // 设置 rem 函数\n  const setRem = () => {\n    // 当前页面宽度相对于 argWidth 宽的缩放比例，可根据自己需要修改。\n    const scale =\n      safeData(globalThis, 'document.documentElement.clientWidth', argWidth) /\n      argWidth\n    // 设置页面根节点字体大小\n    safeData(\n      globalThis,\n      'document.documentElement.style.fontSize',\n      argBaseSize * scale + 'px',\n      true\n    )\n  }\n  // 初始化\n  setRem()\n  // 改变窗口大小时重新设置 rem\n  globalThis.onresize = () => {\n    setRem()\n  }\n}\n\n/**\n * @function\n * @description 获取cookie\n * @param  {string} argName 要获取的值\n * @returns {string}\n */\nexport const getCookie = (argName: string): string => {\n  const cookies = globalThis.document.cookie.split('; ')\n  const cookie = cookies.find((cookie) => {\n    const [name] = cookie.split('=')\n    return argName === name\n  })\n  return cookie ? decodeURIComponent(cookie.split('=')[1] || '') : ''\n}\n/**\n * @function\n * @description 获取cookie对象\n * @returns {object}\n */\nexport const getCookieObj = (): { [key: string]: string } => {\n  const cookies = globalThis.document.cookie.split('; ')\n  const cookieObj: { [key: string]: string } = {}\n  cookies.forEach((cookie) => {\n    const [key, value = ''] = cookie.split('=')\n    cookieObj[key] = decodeURIComponent(value)\n  })\n  return cookieObj\n}\n/**\n * @function\n * @description 设置cookie\n * @param  {string} argName 要设置的key\n * @param  {string} argValue 要设置的value\n * @param  {number} argTime 过期时间/时 默认24\n * @param  {number} argPath path\n * @param  {number} domain domain\n */\nexport const setCookie = (\n  argName: string,\n  argValue: string | number | boolean = '',\n  argTime: number = 24,\n  argPath: string = '/',\n  domain: string = globalThis.location.hostname\n) => {\n  if (argTime === 0) {\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};domain=${domain};`\n  } else {\n    const now = new Date()\n    const offset = 8\n    const utc = now.getTime() + now.getTimezoneOffset() * 60000\n    const nd = utc + 3600000 * offset\n    const exp = new Date(nd)\n    exp.setTime(exp.getTime() + argTime * 60 * 60 * 1000)\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};expires=${exp.toUTCString()};domain=${domain};`\n  }\n}\n\n/**\n * @function\n * @description 清除cookie\n * @param  {string} argName 要清除的值\n */\nexport const delCookie = (argName: string = '') => {\n  setCookie(argName, '', -1)\n}\n\n/**\n * @function\n * @description 检测浏览器状态，系统状态 *\n * @returns {Info} {\n * ua: ua,\n * platform: 平台,\n * isMobile: 移动端,\n * isWin: winPC端,\n * isIphone: iphone,\n * isIpad: ipad,\n * isMac: mac,\n * isAppleMobile: 苹果移动端webview\n * isSafari: Safari浏览器,\n * isIos: Ios平台,\n * isAndroid: android平台,\n * isIE: 显示8 9 10, true为11以上\n * ...\n * }\n */\nexport const getInfo = (): Info => {\n  let ua = safeData(globalThis, 'navigator.userAgent', '').toLowerCase()\n  let platform: string = safeData(\n    globalThis,\n    'navigator.userAgentData.platform',\n    ''\n  ).toLowerCase()\n  let info: Info = {\n    ua: ua,\n    platform: platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match('win'),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match('mac'),\n    isIos: !!platform.match('ios'),\n    isAndroid: !!platform.match('android'),\n    isSafari: ua.indexOf('safari') > -1 && ua.indexOf('chrome') < 1,\n    isIE: 'ActiveXObject' in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i),\n  }\n  if (info.ua.match('msie')) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/)\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1]\n    }\n  }\n  info.isAppleMobile = !!(\n    info.isMobile &&\n    ua.toLowerCase().indexOf('applewebkit') &&\n    ua.indexOf('chrome') < 1\n  )\n  return info\n}\n\n/**\n * @function\n * @description 获取随机颜色\n * @return string\n */\nexport const getRandomColor = function () {\n  return (\n    '#' +\n    ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substring(-6)\n  )\n}\n\n/**\n * @function\n * @description 获取storage的值，默认将json转为obj\n * @param {string} argKey 要获取的key\n * @param {string} argNoJson true时不自动转换JSON字符串\n * @returns {any} key对应的数据\n */\nexport const getStorage = (argKey: string, argNoJson?: string): any => {\n  let res = globalThis.localStorage.getItem(argKey)\n  // 默认转义JSON字符串\n  if (!argNoJson && isJson(res) && res) {\n    res = JSON.parse(res)\n  }\n  return res || ''\n}\n\n/**\n * @function\n * @description 设置storage的值，默认将obj转为json\n * @param {string} argKey 要获取的key\n * @param {unknown} argData 要保存的数据\n * @returns {string} 保存的数据String\n */\nexport const setStorage = (argKey: string, argData: unknown): string => {\n  if (typeof argData === 'object') {\n    argData = JSON.stringify(argData)\n  }\n  globalThis.localStorage.setItem(argKey, String(argData))\n  return String(argData)\n}\n\n/**\n * @function\n * @description setTimeout promise版，异步阻塞函数\n * @param  {number} ms 时间，毫秒\n */\nexport const sleep = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n/**\n * @description 同步阻塞函数。\n * @param {number} time - 延迟的时间量，单位为毫秒\n */\nexport const delay = (time: number = 0) => {\n  let start = Date.now()\n  while (Date.now() - start < time) {\n    continue\n  }\n}\n\n// 返回T下的key对应类型\ntype KeyOf<T extends Record<string, any>, K = keyof T> = K extends string\n  ? T[K] extends Function\n    ? never\n    : K\n  : never\ntype DotField<T extends Record<string, any>, K = KeyOf<T>> = K extends string\n  ? K | `${K}.${DotField<T[K]>}`\n  : never\n// 返回传入K或T[K]对应的类型\ntype ValueOf<\n  T extends Record<string, any>,\n  K\n> = K extends `${infer I}.${infer R}`\n  ? ValueOf<T[I], R>\n  : K extends string\n  ? T[K]\n  : never\n\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safe = function safe<\n  T extends Record<string, any>,\n  K extends DotField<T>\n>(\n  argData: T,\n  argCheck: K,\n  argValue?: ValueOf<T, K>,\n  argSetValueForce?: Bool\n): ValueOf<T, K> | undefined | string {\n  if (!argData) {\n    return argValue\n  }\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    ;(argData as AnyObject)[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        } else {\n          return argValue\n        }\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): AnyObject => {\n  const res: AnyObject = {}\n  try {\n    argData\n      .slice(argData.indexOf('?') + 1)\n      .split('&')\n      .forEach((v) => {\n        const [key, val] = v.split('=')\n        if (key !== v) {\n          res[key] = decodeURIComponent(val)\n        }\n      })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  const reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  const r = url.match(reg)\n  const search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {\n        if (!p4 || !p4.length) {\n          return ''\n        } else if (p1 === p4) {\n          return p1\n        }\n        return p1 + p4\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    const sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    const sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  const S4 = () =>\n    (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * @function\n * @description深拷贝函数\n * @param obj 需要拷贝的对象\n * @returns 拷贝后的对象\n */\nexport const deepCopy = (obj: any, hash = new WeakMap()): any => {\n  if (obj === null || typeof obj !== 'object') return obj\n  if (obj instanceof Date) return new Date(obj)\n  if (obj instanceof RegExp) return new RegExp(obj)\n  if (obj instanceof Map) return new Map(deepCopy(Array.from(obj), hash))\n  if (obj instanceof Set) return new Set(deepCopy(Array.from(obj), hash))\n  if (hash.has(obj)) return hash.get(obj)\n\n  const copy = Array.isArray(obj)\n    ? []\n    : Object.create(Object.getPrototypeOf(obj))\n  hash.set(obj, copy)\n\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      copy[key] = deepCopy(obj[key], hash)\n    }\n  }\n  return copy\n}\n\n/**\n * @function\n * @description 摇一摇，请求使用 DeviceMotionEvent API 的权限。for ios\n * @returns Promise，指示是否已授予权限。\n * @example\n * ```\n * const hasRequest = await requestDeviceMotionPermission()\n * if (hasRequest) {\n *    useEventListener(window, 'devicemotion', handleShake)\n *  } else {\n *    showToast('未授权访问运动传感器,请手动点击！')\n *  }\n * ```\n */\nexport const requestDeviceMotionPermission = () => {\n  if (typeof (DeviceMotionEvent as any).requestPermission === 'function') {\n    return (DeviceMotionEvent as any)\n      .requestPermission()\n      .then((permissionState: string) => {\n        if (permissionState === 'granted') {\n          return true\n        } else {\n          return false\n        }\n      })\n      .catch(() => {\n        return false\n      })\n  } else {\n    return true\n  }\n}\n\n/**\n * @function\n * @description 自动播放音频并返回音频元素。\n * @param {string} audioUrl - 音频地址\n * @param {boolean} isWeixin - 是否在微信中\n * @returns {HTMLAudioElement} - 音频元素\n */\nexport const autoPlayAudio = (\n  audioUrl: string,\n  isWeixin: boolean\n): HTMLAudioElement => {\n  const audio = new Audio(audioUrl)\n  audio.addEventListener(\n    'ended',\n    function () {\n      this.currentTime = 0\n      this.play()\n    },\n    false\n  )\n  audio.autoplay = true\n  if (isWeixin) {\n    document.addEventListener(\n      'WeixinJSBridgeReady',\n      function () {\n        audio.play()\n      },\n      false\n    )\n  }\n  return audio\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3186","url":"/home/runner/work/utils/utils/src/base.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14384,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14381,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":30}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":30}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":7}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"autoPlayAudio","ranges":[{"startOffset":934,"endOffset":953,"count":0}],"isBlockCoverage":false},{"functionName":"deepCopy","ranges":[{"startOffset":967,"endOffset":981,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":996,"endOffset":1011,"count":0}],"isBlockCoverage":false},{"functionName":"delay","ranges":[{"startOffset":1022,"endOffset":1033,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":1048,"endOffset":1063,"count":0}],"isBlockCoverage":false},{"functionName":"getCookieObj","ranges":[{"startOffset":1081,"endOffset":1099,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":1111,"endOffset":1123,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":1136,"endOffset":1149,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1171,"endOffset":1193,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1205,"endOffset":1217,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":1237,"endOffset":1257,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1272,"endOffset":1287,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":1303,"endOffset":1319,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1336,"endOffset":1353,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1373,"endOffset":1393,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":1406,"endOffset":1419,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":1434,"endOffset":1449,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":1462,"endOffset":1475,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1496,"endOffset":1517,"count":0}],"isBlockCoverage":false},{"functionName":"requestDeviceMotionPermission","ranges":[{"startOffset":1552,"endOffset":1587,"count":0}],"isBlockCoverage":false},{"functionName":"safe","ranges":[{"startOffset":1597,"endOffset":1607,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1621,"endOffset":1635,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":1650,"endOffset":1665,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":1677,"endOffset":1689,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":1701,"endOffset":1713,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1725,"endOffset":1737,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":1753,"endOffset":1769,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":1783,"endOffset":1797,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":1815,"endOffset":1833,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":1844,"endOffset":1855,"count":7}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2086,"endOffset":2154,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2197,"endOffset":2263,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":2293,"endOffset":2321,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":2341,"endOffset":3261,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":3280,"endOffset":3672,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":3690,"endOffset":4058,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":4078,"endOffset":4342,"count":0}],"isBlockCoverage":false},{"functionName":"getCookieObj","ranges":[{"startOffset":4365,"endOffset":4611,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":4631,"endOffset":5284,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":5304,"endOffset":5355,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":5373,"endOffset":6376,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":6401,"endOffset":6502,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":6523,"endOffset":6710,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":6731,"endOffset":6921,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":6937,"endOffset":7008,"count":7}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6968,"endOffset":7004,"count":7}],"isBlockCoverage":true},{"functionName":"delay","ranges":[{"startOffset":7024,"endOffset":7123,"count":0}],"isBlockCoverage":false},{"functionName":"safe2","ranges":[{"startOffset":7138,"endOffset":8047,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":8066,"endOffset":8977,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":9000,"endOffset":9329,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":9351,"endOffset":9563,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":9588,"endOffset":9983,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":10009,"endOffset":11221,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":11239,"endOffset":11408,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":11428,"endOffset":11564,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":11581,"endOffset":11606,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":11623,"endOffset":11668,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":11685,"endOffset":11807,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":11824,"endOffset":12057,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":12074,"endOffset":12883,"count":0}],"isBlockCoverage":false},{"functionName":"deepCopy","ranges":[{"startOffset":12902,"endOffset":13589,"count":0}],"isBlockCoverage":false},{"functionName":"requestDeviceMotionPermission","ranges":[{"startOffset":13629,"endOffset":13972,"count":0}],"isBlockCoverage":false},{"functionName":"autoPlayAudio","ranges":[{"startOffset":13996,"endOffset":14377,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\r\n * @module index\r\n * @author linjielinlin 993353454@qq.com\r\n * @date 2022-05-11 22:07:43\r\n * @description 判断函数\r\n */\r\n/**\r\n * @function isPrime\r\n * @description 判断一个数是否为质数\r\n * @param {number} argValue 需要判断的数值\r\n * @returns {boolean} 如果是质数返回true，否则返回false\r\n * @example\r\n * isPrime(5); // true\r\n */\r\nexport const isPrime = (argValue: number): boolean =>\r\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\r\n\r\n/**\r\n * @function isJson\r\n * @description 判断一个值是否为JSON\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是JSON返回true，否则返回false\r\n * @example\r\n * isJson('{\"name\":\"John\"}'); // true\r\n */\r\nexport const isJson = (argData: any): boolean => {\r\n  try {\r\n    return typeof JSON.parse(argData || '') === 'object'\r\n  } catch (e) {}\r\n  return false\r\n}\r\n/**\r\n * @function isBlob\r\n * @description 判断一个值是否为Blob\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是Blob返回true，否则返回false\r\n * @example\r\n * isBlob(new Blob()); // true\r\n */\r\nexport const isBlob = (argData: any): boolean => {\r\n  return argData instanceof Blob\r\n}\r\n\r\n/**\r\n * @function isFile\r\n * @description 判断一个值是否为File\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是File返回true，否则返回false\r\n * @example\r\n * isFile(new File([\"\"], \"filename\")); // true\r\n */\r\nexport const isFile = (argData: any): boolean => {\r\n  return argData instanceof File\r\n}\r\n\r\n/**\r\n * @function isIdCard\r\n * @description 判断一个字符串是否为正确的身份证号码\r\n * @param  {string} code 身份证号码\r\n * @returns {boolean} 如果是正确的身份证号码返回true，否则返回false\r\n * @example\r\n * isIdCard('320311770706001'); // false\r\n */\r\nexport const isIdCard = (code: string): boolean => {\r\n  let tip = ''\r\n  let city: { [key: number]: string } = {\r\n    11: '北京',\r\n    12: '天津',\r\n    13: '河北',\r\n    14: '山西',\r\n    15: '内蒙古',\r\n    21: '辽宁',\r\n    22: '吉林',\r\n    23: '黑龙江 ',\r\n    31: '上海',\r\n    32: '江苏',\r\n    33: '浙江',\r\n    34: '安徽',\r\n    35: '福建',\r\n    36: '江西',\r\n    37: '山东',\r\n    41: '河南',\r\n    42: '湖北 ',\r\n    43: '湖南',\r\n    44: '广东',\r\n    45: '广西',\r\n    46: '海南',\r\n    50: '重庆',\r\n    51: '四川',\r\n    52: '贵州',\r\n    53: '云南',\r\n    54: '西藏 ',\r\n    61: '陕西',\r\n    62: '甘肃',\r\n    63: '青海',\r\n    64: '宁夏',\r\n    65: '新疆',\r\n    71: '台湾',\r\n    81: '香港',\r\n    82: '澳门',\r\n    91: '国外 ',\r\n  }\r\n  let pass = true\r\n  if (\r\n    !code ||\r\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\r\n      code\r\n    )\r\n  ) {\r\n    tip = '身份证号格式错误'\r\n    pass = false\r\n  } else if (!city[+code.substring(0, 2)]) {\r\n    tip = '地址编码错误'\r\n    pass = false\r\n  } else {\r\n    // 18位身份证需要验证最后一位校验位\r\n    if (code.length === 18) {\r\n      const codeArr = code.split('')\r\n      // ∑(ai×Wi)(mod 11)\r\n      // 加权因子\r\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\r\n      // 校验位\r\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\r\n      let sum = 0\r\n      let ai = 0\r\n      let wi = 0\r\n      for (let i = 0; i < 17; i++) {\r\n        ai = Number(codeArr[i])\r\n        wi = factor[i]\r\n        sum += ai * wi\r\n      }\r\n      let last = parity[sum % 11] + ''\r\n      if (last !== code[17]) {\r\n        tip = '校验位错误'\r\n        pass = false\r\n      }\r\n    }\r\n  }\r\n  console.assert(!tip, tip)\r\n  return pass\r\n}\r\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3187","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1706283600610,"runtime":1992,"slow":false,"start":1706283598618},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/class/Debounce.spec.ts","testResults":[{"rowKey":0,"ancestorTitles":["Debounce"],"duration":1814,"failureDetails":[],"failureMessages":[],"fullName":"Debounce Debounce","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"Debounce"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar stdin_exports = {};\n__export(stdin_exports, {\n  Debounce: () => Debounce,\n  default: () => stdin_default\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar _timer;\nclass Debounce {\n  constructor() {\n    __privateAdd(this, _timer, void 0);\n  }\n  debounce(argFn, argWait = 500, ...args) {\n    if (__privateGet(this, _timer)) {\n      clearTimeout(__privateGet(this, _timer));\n    }\n    __privateSet(this, _timer, setTimeout(() => {\n      return argFn(...args);\n    }, argWait));\n  }\n}\n_timer = new WeakMap();\nvar stdin_default = Debounce;\n","originalCode":"import { AnyFn } from '../types'\n/**\n * @class\n * @classdesc 处理函数抖动\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @example\n * const db = new Debounce()\n * db.debounce(fn,500,params1,params*)\n */\nexport class Debounce {\n  #timer: any\n  /**\n   * @function\n   * @description 函数抖动，在等待n毫秒无点击后触发\n   * @param  {function} argFn 回调函数\n   * @param  {number} argWait 等待时间,默认0.5秒\n   * @param  {any} args ...arg 回调函数的参数\n   * @returns {function}\n   */\n  debounce(argFn: AnyFn, argWait: number = 500, ...args: any): any {\n    if (this.#timer) {\n      clearTimeout(this.#timer)\n    }\n    this.#timer = setTimeout(() => {\n      return argFn(...args)\n    }, argWait)\n  }\n}\nexport default Debounce\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2","url":"/home/runner/work/utils/utils/src/class/Debounce.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2090,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":2087,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":2}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":2}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":1}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"__accessCheck","ranges":[{"startOffset":887,"endOffset":974,"count":26},{"startOffset":939,"endOffset":972,"count":0}],"isBlockCoverage":true},{"functionName":"__privateGet","ranges":[{"startOffset":995,"endOffset":1134,"count":17},{"startOffset":1095,"endOffset":1113,"count":0}],"isBlockCoverage":true},{"functionName":"__privateAdd","ranges":[{"startOffset":1155,"endOffset":1351,"count":1},{"startOffset":1208,"endOffset":1277,"count":0},{"startOffset":1306,"endOffset":1323,"count":0}],"isBlockCoverage":true},{"functionName":"__privateSet","ranges":[{"startOffset":1372,"endOffset":1540,"count":9},{"startOffset":1471,"endOffset":1496,"count":0}],"isBlockCoverage":true},{"functionName":"Debounce","ranges":[{"startOffset":1604,"endOffset":1618,"count":0}],"isBlockCoverage":false},{"functionName":"default","ranges":[{"startOffset":1631,"endOffset":1650,"count":1}],"isBlockCoverage":true},{"functionName":"Debounce","ranges":[{"startOffset":1732,"endOffset":1791,"count":1}],"isBlockCoverage":true},{"functionName":"debounce","ranges":[{"startOffset":1794,"endOffset":2028,"count":9},{"startOffset":1872,"endOffset":1927,"count":8}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1970,"endOffset":2012,"count":3}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  autoPlayAudio: () => autoPlayAudio,\n  deepCopy: () => deepCopy,\n  delCookie: () => delCookie,\n  delay: () => delay,\n  getCookie: () => getCookie,\n  getCookieObj: () => getCookieObj,\n  getEnv: () => getEnv,\n  getInfo: () => getInfo,\n  getNetworkStatus: () => getNetworkStatus,\n  getObj: () => getObj,\n  getRandomColor: () => getRandomColor,\n  getRegexp: () => getRegexp,\n  getStorage: () => getStorage,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  randomInt: () => randomInt,\n  remInit: () => remInit,\n  replaceUrlParam: () => replaceUrlParam,\n  requestDeviceMotionPermission: () => requestDeviceMotionPermission,\n  safe: () => safe,\n  safeData: () => safeData,\n  setCookie: () => setCookie,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setStorage: () => setStorage,\n  setTitle: () => setTitle,\n  setUrlParams: () => setUrlParams,\n  sleep: () => sleep\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_is = require(\"./is\");\nlet isOnline = true;\nlet ENV = {};\nlet DATA_OBJECT = {};\nif (globalThis && globalThis.addEventListener) {\n  globalThis.addEventListener(\"offline\", function() {\n    console.debug(\"offLine\");\n    isOnline = false;\n  });\n  globalThis.addEventListener(\"online\", function() {\n    console.debug(\"onLine\");\n    isOnline = true;\n  });\n}\nconst getNetworkStatus = () => {\n  return isOnline;\n};\nconst getRegexp = () => {\n  return {\n    html: /<[^>]+>/gim,\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    phone: /^1\\d{10}$/,\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n    http: /http:\\/\\/|https:\\/\\//,\n    score: /^[1-9]\\d*|0$/,\n    int: /^[1-9]\\d*$/,\n    number: /^\\d*$/,\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    letter: /^[a-zA-Z]*$/,\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    realName: /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    ascii: /^[\\x20-\\x7E]+$/\n  };\n};\nconst setTitle = (argTitle) => {\n  if (typeof globalThis.document === \"object\") {\n    globalThis.document.title = String(argTitle);\n  }\n  if (getInfo().isAppleMobile) {\n    const i = document.createElement(\"iframe\");\n    i.onload = () => {\n      setTimeout(() => {\n        console.debug(\"apple mobile setting title\");\n        i.remove();\n      }, 10);\n    };\n    globalThis.document.body.appendChild(i);\n  }\n};\nconst remInit = (argBaseSize = 16, argWidth = 375) => {\n  const setRem = () => {\n    const scale = safeData(globalThis, \"document.documentElement.clientWidth\", argWidth) / argWidth;\n    safeData(\n      globalThis,\n      \"document.documentElement.style.fontSize\",\n      argBaseSize * scale + \"px\",\n      true\n    );\n  };\n  setRem();\n  globalThis.onresize = () => {\n    setRem();\n  };\n};\nconst getCookie = (argName) => {\n  const cookies = globalThis.document.cookie.split(\"; \");\n  const cookie = cookies.find((cookie2) => {\n    const [name] = cookie2.split(\"=\");\n    return argName === name;\n  });\n  return cookie ? decodeURIComponent(cookie.split(\"=\")[1] || \"\") : \"\";\n};\nconst getCookieObj = () => {\n  const cookies = globalThis.document.cookie.split(\"; \");\n  const cookieObj = {};\n  cookies.forEach((cookie) => {\n    const [key, value = \"\"] = cookie.split(\"=\");\n    cookieObj[key] = decodeURIComponent(value);\n  });\n  return cookieObj;\n};\nconst setCookie = (argName, argValue = \"\", argTime = 24, argPath = \"/\", domain = globalThis.location.hostname) => {\n  if (argTime === 0) {\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};domain=${domain};`;\n  } else {\n    const now = new Date();\n    const offset = 8;\n    const utc = now.getTime() + now.getTimezoneOffset() * 6e4;\n    const nd = utc + 36e5 * offset;\n    const exp = new Date(nd);\n    exp.setTime(exp.getTime() + argTime * 60 * 60 * 1e3);\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};expires=${exp.toUTCString()};domain=${domain};`;\n  }\n};\nconst delCookie = (argName = \"\") => {\n  setCookie(argName, \"\", -1);\n};\nconst getInfo = () => {\n  let ua = safeData(globalThis, \"navigator.userAgent\", \"\").toLowerCase();\n  let platform = safeData(\n    globalThis,\n    \"navigator.userAgentData.platform\",\n    \"\"\n  ).toLowerCase();\n  let info = {\n    ua,\n    platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match(\"win\"),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match(\"mac\"),\n    isIos: !!platform.match(\"ios\"),\n    isAndroid: !!platform.match(\"android\"),\n    isSafari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"chrome\") < 1,\n    isIE: \"ActiveXObject\" in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i)\n  };\n  if (info.ua.match(\"msie\")) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/);\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1];\n    }\n  }\n  info.isAppleMobile = !!(info.isMobile && ua.toLowerCase().indexOf(\"applewebkit\") && ua.indexOf(\"chrome\") < 1);\n  return info;\n};\nconst getRandomColor = function() {\n  return \"#\" + (\"00000\" + (Math.random() * 16777216 << 0).toString(16)).substring(-6);\n};\nconst getStorage = (argKey, argNoJson) => {\n  let res = globalThis.localStorage.getItem(argKey);\n  if (!argNoJson && (0, import_is.isJson)(res) && res) {\n    res = JSON.parse(res);\n  }\n  return res || \"\";\n};\nconst setStorage = (argKey, argData) => {\n  if (typeof argData === \"object\") {\n    argData = JSON.stringify(argData);\n  }\n  globalThis.localStorage.setItem(argKey, String(argData));\n  return String(argData);\n};\nconst sleep = (ms) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\nconst delay = (time = 0) => {\n  let start = Date.now();\n  while (Date.now() - start < time) {\n    continue;\n  }\n};\nconst safe = function safe2(argData, argCheck, argValue, argSetValueForce) {\n  if (!argData) {\n    return argValue;\n  }\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    ;\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        } else {\n          return argValue;\n        }\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData.slice(argData.indexOf(\"?\") + 1).split(\"&\").forEach((v) => {\n      const [key, val] = v.split(\"=\");\n      if (key !== v) {\n        res[key] = decodeURIComponent(val);\n      }\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  const reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  const r = url.match(reg);\n  const search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {\n        if (!p4 || !p4.length) {\n          return \"\";\n        } else if (p1 === p4) {\n          return p1;\n        }\n        return p1 + p4;\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    const sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    const sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst getUuid = () => {\n  const S4 = () => ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nconst deepCopy = (obj, hash = /* @__PURE__ */ new WeakMap()) => {\n  if (obj === null || typeof obj !== \"object\")\n    return obj;\n  if (obj instanceof Date)\n    return new Date(obj);\n  if (obj instanceof RegExp)\n    return new RegExp(obj);\n  if (obj instanceof Map)\n    return new Map(deepCopy(Array.from(obj), hash));\n  if (obj instanceof Set)\n    return new Set(deepCopy(Array.from(obj), hash));\n  if (hash.has(obj))\n    return hash.get(obj);\n  const copy = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n  hash.set(obj, copy);\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      copy[key] = deepCopy(obj[key], hash);\n    }\n  }\n  return copy;\n};\nconst requestDeviceMotionPermission = () => {\n  if (typeof DeviceMotionEvent.requestPermission === \"function\") {\n    return DeviceMotionEvent.requestPermission().then((permissionState) => {\n      if (permissionState === \"granted\") {\n        return true;\n      } else {\n        return false;\n      }\n    }).catch(() => {\n      return false;\n    });\n  } else {\n    return true;\n  }\n};\nconst autoPlayAudio = (audioUrl, isWeixin) => {\n  const audio = new Audio(audioUrl);\n  audio.addEventListener(\n    \"ended\",\n    function() {\n      this.currentTime = 0;\n      this.play();\n    },\n    false\n  );\n  audio.autoplay = true;\n  if (isWeixin) {\n    document.addEventListener(\n      \"WeixinJSBridgeReady\",\n      function() {\n        audio.play();\n      },\n      false\n    );\n  }\n  return audio;\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 公共函数，使用'lj-utils'引入\n */\n\nimport { isJson } from './is'\nimport { Info, AnyObject, Bool } from './types'\n\nlet isOnline: boolean = true\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n// 断网监听\nif (globalThis && globalThis.addEventListener) {\n  // #ifdef H5\n  globalThis.addEventListener('offline', function () {\n    console.debug('offLine')\n    isOnline = false\n  })\n  globalThis.addEventListener('online', function () {\n    console.debug('onLine')\n    isOnline = true\n  })\n  // #endif\n}\n\n/**\n * @function\n * @description 获取当前网络状态（H5）\n * @return boolean\n * @returns {boolean}\n * @example\n * ```\n * const status = getNetworkStatus();\n * ```\n */\nexport const getNetworkStatus = () => {\n  return isOnline\n}\n\n/**\n * @function\n * @description 正则收集\n * @returns {object}\n * @returns {object}\n * @example\n * ```\n * const regex = getRegexp();\n * ```\n */\nexport const getRegexp = (): AnyObject => {\n  return {\n    // 匹配html标签，提取html文字： htmlCode.replace(reg.html,'')\n    html: /<[^>]+>/gim,\n    // 至少1数字1字母1字符，8-16位\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    // 普通身份证号正则，isIdCard更为严格\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    // 简易身份证号 数字+x\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    // 手机号\n    phone: /^1\\d{10}$/,\n    // 邮箱\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n    // 网址\n    http: /http:\\/\\/|https:\\/\\//,\n    // 含0整数（得分）\n    score: /^[1-9]\\d*|0$/,\n    // 整数\n    int: /^[1-9]\\d*$/,\n    // 匹配数字\n    number: /^\\d*$/,\n    // >=0||1位小数\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    // >=0||2位小数\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    // >=0||3位小数\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    // 字母+数字组合\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    // 字母\n    letter: /^[a-zA-Z]*$/,\n    // 帐号50个字内：大小写+数字+中文+'_'+'-'\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    // 中英文姓名 50个字内/中文 中文/英文-. 英文-./\n    realName:\n      /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    // 匹配中文\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    // 匹配ASCII,非中文之外的字符（全角字符）\n    ascii: /^[\\x20-\\x7E]+$/,\n  }\n}\n\n/**\n * @function\n * @description 设置标题\n * @param  {string} argTitle 标题\n */\nexport const setTitle = (argTitle: string | number) => {\n  if (typeof globalThis.document === 'object') {\n    globalThis.document.title = String(argTitle)\n  }\n  if (getInfo().isAppleMobile) {\n    const i = document.createElement('iframe')\n    i.onload = () => {\n      setTimeout(() => {\n        console.debug('apple mobile setting title')\n        i.remove()\n      }, 10)\n    }\n    globalThis.document.body.appendChild(i)\n  }\n}\n\n/**\n * @function\n * @description 使用postcss-px2rem时使用\n * @param {number} argBaseSize 基础大小 16px（要跟配置一致）\n * @param {number} argWidth 基准宽度\n */\nexport const remInit = (argBaseSize: number = 16, argWidth: number = 375) => {\n  // 设置 rem 函数\n  const setRem = () => {\n    // 当前页面宽度相对于 argWidth 宽的缩放比例，可根据自己需要修改。\n    const scale =\n      safeData(globalThis, 'document.documentElement.clientWidth', argWidth) /\n      argWidth\n    // 设置页面根节点字体大小\n    safeData(\n      globalThis,\n      'document.documentElement.style.fontSize',\n      argBaseSize * scale + 'px',\n      true\n    )\n  }\n  // 初始化\n  setRem()\n  // 改变窗口大小时重新设置 rem\n  globalThis.onresize = () => {\n    setRem()\n  }\n}\n\n/**\n * @function\n * @description 获取cookie\n * @param  {string} argName 要获取的值\n * @returns {string}\n */\nexport const getCookie = (argName: string): string => {\n  const cookies = globalThis.document.cookie.split('; ')\n  const cookie = cookies.find((cookie) => {\n    const [name] = cookie.split('=')\n    return argName === name\n  })\n  return cookie ? decodeURIComponent(cookie.split('=')[1] || '') : ''\n}\n/**\n * @function\n * @description 获取cookie对象\n * @returns {object}\n */\nexport const getCookieObj = (): { [key: string]: string } => {\n  const cookies = globalThis.document.cookie.split('; ')\n  const cookieObj: { [key: string]: string } = {}\n  cookies.forEach((cookie) => {\n    const [key, value = ''] = cookie.split('=')\n    cookieObj[key] = decodeURIComponent(value)\n  })\n  return cookieObj\n}\n/**\n * @function\n * @description 设置cookie\n * @param  {string} argName 要设置的key\n * @param  {string} argValue 要设置的value\n * @param  {number} argTime 过期时间/时 默认24\n * @param  {number} argPath path\n * @param  {number} domain domain\n */\nexport const setCookie = (\n  argName: string,\n  argValue: string | number | boolean = '',\n  argTime: number = 24,\n  argPath: string = '/',\n  domain: string = globalThis.location.hostname\n) => {\n  if (argTime === 0) {\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};domain=${domain};`\n  } else {\n    const now = new Date()\n    const offset = 8\n    const utc = now.getTime() + now.getTimezoneOffset() * 60000\n    const nd = utc + 3600000 * offset\n    const exp = new Date(nd)\n    exp.setTime(exp.getTime() + argTime * 60 * 60 * 1000)\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};expires=${exp.toUTCString()};domain=${domain};`\n  }\n}\n\n/**\n * @function\n * @description 清除cookie\n * @param  {string} argName 要清除的值\n */\nexport const delCookie = (argName: string = '') => {\n  setCookie(argName, '', -1)\n}\n\n/**\n * @function\n * @description 检测浏览器状态，系统状态 *\n * @returns {Info} {\n * ua: ua,\n * platform: 平台,\n * isMobile: 移动端,\n * isWin: winPC端,\n * isIphone: iphone,\n * isIpad: ipad,\n * isMac: mac,\n * isAppleMobile: 苹果移动端webview\n * isSafari: Safari浏览器,\n * isIos: Ios平台,\n * isAndroid: android平台,\n * isIE: 显示8 9 10, true为11以上\n * ...\n * }\n */\nexport const getInfo = (): Info => {\n  let ua = safeData(globalThis, 'navigator.userAgent', '').toLowerCase()\n  let platform: string = safeData(\n    globalThis,\n    'navigator.userAgentData.platform',\n    ''\n  ).toLowerCase()\n  let info: Info = {\n    ua: ua,\n    platform: platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match('win'),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match('mac'),\n    isIos: !!platform.match('ios'),\n    isAndroid: !!platform.match('android'),\n    isSafari: ua.indexOf('safari') > -1 && ua.indexOf('chrome') < 1,\n    isIE: 'ActiveXObject' in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i),\n  }\n  if (info.ua.match('msie')) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/)\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1]\n    }\n  }\n  info.isAppleMobile = !!(\n    info.isMobile &&\n    ua.toLowerCase().indexOf('applewebkit') &&\n    ua.indexOf('chrome') < 1\n  )\n  return info\n}\n\n/**\n * @function\n * @description 获取随机颜色\n * @return string\n */\nexport const getRandomColor = function () {\n  return (\n    '#' +\n    ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substring(-6)\n  )\n}\n\n/**\n * @function\n * @description 获取storage的值，默认将json转为obj\n * @param {string} argKey 要获取的key\n * @param {string} argNoJson true时不自动转换JSON字符串\n * @returns {any} key对应的数据\n */\nexport const getStorage = (argKey: string, argNoJson?: string): any => {\n  let res = globalThis.localStorage.getItem(argKey)\n  // 默认转义JSON字符串\n  if (!argNoJson && isJson(res) && res) {\n    res = JSON.parse(res)\n  }\n  return res || ''\n}\n\n/**\n * @function\n * @description 设置storage的值，默认将obj转为json\n * @param {string} argKey 要获取的key\n * @param {unknown} argData 要保存的数据\n * @returns {string} 保存的数据String\n */\nexport const setStorage = (argKey: string, argData: unknown): string => {\n  if (typeof argData === 'object') {\n    argData = JSON.stringify(argData)\n  }\n  globalThis.localStorage.setItem(argKey, String(argData))\n  return String(argData)\n}\n\n/**\n * @function\n * @description setTimeout promise版，异步阻塞函数\n * @param  {number} ms 时间，毫秒\n */\nexport const sleep = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n/**\n * @description 同步阻塞函数。\n * @param {number} time - 延迟的时间量，单位为毫秒\n */\nexport const delay = (time: number = 0) => {\n  let start = Date.now()\n  while (Date.now() - start < time) {\n    continue\n  }\n}\n\n// 返回T下的key对应类型\ntype KeyOf<T extends Record<string, any>, K = keyof T> = K extends string\n  ? T[K] extends Function\n    ? never\n    : K\n  : never\ntype DotField<T extends Record<string, any>, K = KeyOf<T>> = K extends string\n  ? K | `${K}.${DotField<T[K]>}`\n  : never\n// 返回传入K或T[K]对应的类型\ntype ValueOf<\n  T extends Record<string, any>,\n  K\n> = K extends `${infer I}.${infer R}`\n  ? ValueOf<T[I], R>\n  : K extends string\n  ? T[K]\n  : never\n\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safe = function safe<\n  T extends Record<string, any>,\n  K extends DotField<T>\n>(\n  argData: T,\n  argCheck: K,\n  argValue?: ValueOf<T, K>,\n  argSetValueForce?: Bool\n): ValueOf<T, K> | undefined | string {\n  if (!argData) {\n    return argValue\n  }\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    ;(argData as AnyObject)[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        } else {\n          return argValue\n        }\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): AnyObject => {\n  const res: AnyObject = {}\n  try {\n    argData\n      .slice(argData.indexOf('?') + 1)\n      .split('&')\n      .forEach((v) => {\n        const [key, val] = v.split('=')\n        if (key !== v) {\n          res[key] = decodeURIComponent(val)\n        }\n      })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  const reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  const r = url.match(reg)\n  const search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {\n        if (!p4 || !p4.length) {\n          return ''\n        } else if (p1 === p4) {\n          return p1\n        }\n        return p1 + p4\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    const sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    const sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  const S4 = () =>\n    (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * @function\n * @description深拷贝函数\n * @param obj 需要拷贝的对象\n * @returns 拷贝后的对象\n */\nexport const deepCopy = (obj: any, hash = new WeakMap()): any => {\n  if (obj === null || typeof obj !== 'object') return obj\n  if (obj instanceof Date) return new Date(obj)\n  if (obj instanceof RegExp) return new RegExp(obj)\n  if (obj instanceof Map) return new Map(deepCopy(Array.from(obj), hash))\n  if (obj instanceof Set) return new Set(deepCopy(Array.from(obj), hash))\n  if (hash.has(obj)) return hash.get(obj)\n\n  const copy = Array.isArray(obj)\n    ? []\n    : Object.create(Object.getPrototypeOf(obj))\n  hash.set(obj, copy)\n\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      copy[key] = deepCopy(obj[key], hash)\n    }\n  }\n  return copy\n}\n\n/**\n * @function\n * @description 摇一摇，请求使用 DeviceMotionEvent API 的权限。for ios\n * @returns Promise，指示是否已授予权限。\n * @example\n * ```\n * const hasRequest = await requestDeviceMotionPermission()\n * if (hasRequest) {\n *    useEventListener(window, 'devicemotion', handleShake)\n *  } else {\n *    showToast('未授权访问运动传感器,请手动点击！')\n *  }\n * ```\n */\nexport const requestDeviceMotionPermission = () => {\n  if (typeof (DeviceMotionEvent as any).requestPermission === 'function') {\n    return (DeviceMotionEvent as any)\n      .requestPermission()\n      .then((permissionState: string) => {\n        if (permissionState === 'granted') {\n          return true\n        } else {\n          return false\n        }\n      })\n      .catch(() => {\n        return false\n      })\n  } else {\n    return true\n  }\n}\n\n/**\n * @function\n * @description 自动播放音频并返回音频元素。\n * @param {string} audioUrl - 音频地址\n * @param {boolean} isWeixin - 是否在微信中\n * @returns {HTMLAudioElement} - 音频元素\n */\nexport const autoPlayAudio = (\n  audioUrl: string,\n  isWeixin: boolean\n): HTMLAudioElement => {\n  const audio = new Audio(audioUrl)\n  audio.addEventListener(\n    'ended',\n    function () {\n      this.currentTime = 0\n      this.play()\n    },\n    false\n  )\n  audio.autoplay = true\n  if (isWeixin) {\n    document.addEventListener(\n      'WeixinJSBridgeReady',\n      function () {\n        audio.play()\n      },\n      false\n    )\n  }\n  return audio\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3444","url":"/home/runner/work/utils/utils/src/base.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14384,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14381,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":30}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":30}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":6}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"autoPlayAudio","ranges":[{"startOffset":934,"endOffset":953,"count":0}],"isBlockCoverage":false},{"functionName":"deepCopy","ranges":[{"startOffset":967,"endOffset":981,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":996,"endOffset":1011,"count":0}],"isBlockCoverage":false},{"functionName":"delay","ranges":[{"startOffset":1022,"endOffset":1033,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":1048,"endOffset":1063,"count":0}],"isBlockCoverage":false},{"functionName":"getCookieObj","ranges":[{"startOffset":1081,"endOffset":1099,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":1111,"endOffset":1123,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":1136,"endOffset":1149,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1171,"endOffset":1193,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1205,"endOffset":1217,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":1237,"endOffset":1257,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1272,"endOffset":1287,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":1303,"endOffset":1319,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1336,"endOffset":1353,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1373,"endOffset":1393,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":1406,"endOffset":1419,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":1434,"endOffset":1449,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":1462,"endOffset":1475,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1496,"endOffset":1517,"count":0}],"isBlockCoverage":false},{"functionName":"requestDeviceMotionPermission","ranges":[{"startOffset":1552,"endOffset":1587,"count":0}],"isBlockCoverage":false},{"functionName":"safe","ranges":[{"startOffset":1597,"endOffset":1607,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1621,"endOffset":1635,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":1650,"endOffset":1665,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":1677,"endOffset":1689,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":1701,"endOffset":1713,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1725,"endOffset":1737,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":1753,"endOffset":1769,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":1783,"endOffset":1797,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":1815,"endOffset":1833,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":1844,"endOffset":1855,"count":6}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2086,"endOffset":2154,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2197,"endOffset":2263,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":2293,"endOffset":2321,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":2341,"endOffset":3261,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":3280,"endOffset":3672,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":3690,"endOffset":4058,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":4078,"endOffset":4342,"count":0}],"isBlockCoverage":false},{"functionName":"getCookieObj","ranges":[{"startOffset":4365,"endOffset":4611,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":4631,"endOffset":5284,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":5304,"endOffset":5355,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":5373,"endOffset":6376,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":6401,"endOffset":6502,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":6523,"endOffset":6710,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":6731,"endOffset":6921,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":6937,"endOffset":7008,"count":6}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6968,"endOffset":7004,"count":6}],"isBlockCoverage":true},{"functionName":"delay","ranges":[{"startOffset":7024,"endOffset":7123,"count":0}],"isBlockCoverage":false},{"functionName":"safe2","ranges":[{"startOffset":7138,"endOffset":8047,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":8066,"endOffset":8977,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":9000,"endOffset":9329,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":9351,"endOffset":9563,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":9588,"endOffset":9983,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":10009,"endOffset":11221,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":11239,"endOffset":11408,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":11428,"endOffset":11564,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":11581,"endOffset":11606,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":11623,"endOffset":11668,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":11685,"endOffset":11807,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":11824,"endOffset":12057,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":12074,"endOffset":12883,"count":0}],"isBlockCoverage":false},{"functionName":"deepCopy","ranges":[{"startOffset":12902,"endOffset":13589,"count":0}],"isBlockCoverage":false},{"functionName":"requestDeviceMotionPermission","ranges":[{"startOffset":13629,"endOffset":13972,"count":0}],"isBlockCoverage":false},{"functionName":"autoPlayAudio","ranges":[{"startOffset":13996,"endOffset":14377,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\r\n * @module index\r\n * @author linjielinlin 993353454@qq.com\r\n * @date 2022-05-11 22:07:43\r\n * @description 判断函数\r\n */\r\n/**\r\n * @function isPrime\r\n * @description 判断一个数是否为质数\r\n * @param {number} argValue 需要判断的数值\r\n * @returns {boolean} 如果是质数返回true，否则返回false\r\n * @example\r\n * isPrime(5); // true\r\n */\r\nexport const isPrime = (argValue: number): boolean =>\r\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\r\n\r\n/**\r\n * @function isJson\r\n * @description 判断一个值是否为JSON\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是JSON返回true，否则返回false\r\n * @example\r\n * isJson('{\"name\":\"John\"}'); // true\r\n */\r\nexport const isJson = (argData: any): boolean => {\r\n  try {\r\n    return typeof JSON.parse(argData || '') === 'object'\r\n  } catch (e) {}\r\n  return false\r\n}\r\n/**\r\n * @function isBlob\r\n * @description 判断一个值是否为Blob\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是Blob返回true，否则返回false\r\n * @example\r\n * isBlob(new Blob()); // true\r\n */\r\nexport const isBlob = (argData: any): boolean => {\r\n  return argData instanceof Blob\r\n}\r\n\r\n/**\r\n * @function isFile\r\n * @description 判断一个值是否为File\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是File返回true，否则返回false\r\n * @example\r\n * isFile(new File([\"\"], \"filename\")); // true\r\n */\r\nexport const isFile = (argData: any): boolean => {\r\n  return argData instanceof File\r\n}\r\n\r\n/**\r\n * @function isIdCard\r\n * @description 判断一个字符串是否为正确的身份证号码\r\n * @param  {string} code 身份证号码\r\n * @returns {boolean} 如果是正确的身份证号码返回true，否则返回false\r\n * @example\r\n * isIdCard('320311770706001'); // false\r\n */\r\nexport const isIdCard = (code: string): boolean => {\r\n  let tip = ''\r\n  let city: { [key: number]: string } = {\r\n    11: '北京',\r\n    12: '天津',\r\n    13: '河北',\r\n    14: '山西',\r\n    15: '内蒙古',\r\n    21: '辽宁',\r\n    22: '吉林',\r\n    23: '黑龙江 ',\r\n    31: '上海',\r\n    32: '江苏',\r\n    33: '浙江',\r\n    34: '安徽',\r\n    35: '福建',\r\n    36: '江西',\r\n    37: '山东',\r\n    41: '河南',\r\n    42: '湖北 ',\r\n    43: '湖南',\r\n    44: '广东',\r\n    45: '广西',\r\n    46: '海南',\r\n    50: '重庆',\r\n    51: '四川',\r\n    52: '贵州',\r\n    53: '云南',\r\n    54: '西藏 ',\r\n    61: '陕西',\r\n    62: '甘肃',\r\n    63: '青海',\r\n    64: '宁夏',\r\n    65: '新疆',\r\n    71: '台湾',\r\n    81: '香港',\r\n    82: '澳门',\r\n    91: '国外 ',\r\n  }\r\n  let pass = true\r\n  if (\r\n    !code ||\r\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\r\n      code\r\n    )\r\n  ) {\r\n    tip = '身份证号格式错误'\r\n    pass = false\r\n  } else if (!city[+code.substring(0, 2)]) {\r\n    tip = '地址编码错误'\r\n    pass = false\r\n  } else {\r\n    // 18位身份证需要验证最后一位校验位\r\n    if (code.length === 18) {\r\n      const codeArr = code.split('')\r\n      // ∑(ai×Wi)(mod 11)\r\n      // 加权因子\r\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\r\n      // 校验位\r\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\r\n      let sum = 0\r\n      let ai = 0\r\n      let wi = 0\r\n      for (let i = 0; i < 17; i++) {\r\n        ai = Number(codeArr[i])\r\n        wi = factor[i]\r\n        sum += ai * wi\r\n      }\r\n      let last = parity[sum % 11] + ''\r\n      if (last !== code[17]) {\r\n        tip = '校验位错误'\r\n        pass = false\r\n      }\r\n    }\r\n  }\r\n  console.assert(!tip, tip)\r\n  return pass\r\n}\r\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3445","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1706283601821,"runtime":1198,"slow":false,"start":1706283600623},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/class/Throttle.spec.ts","testResults":[{"rowKey":0,"ancestorTitles":["Throttle"],"duration":1014,"failureDetails":[],"failureMessages":[],"fullName":"Throttle Throttle","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"Throttle"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar stdin_exports = {};\n__export(stdin_exports, {\n  Throttle: () => Throttle,\n  default: () => stdin_default\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar _trTime;\nclass Throttle {\n  constructor() {\n    __privateAdd(this, _trTime, 0);\n    this.clickTime = 0;\n  }\n  throttle(argFn, argWait = 1e3, ...args) {\n    if (argWait - (Date.now() - __privateGet(this, _trTime)) <= 0) {\n      __privateSet(this, _trTime, Date.now());\n      this.clickTime = 0;\n      setTimeout(() => {\n        if (this.clickTime > 0) {\n          __privateSet(this, _trTime, 0);\n          this.clickTime = 0;\n        }\n      }, argWait);\n      return argFn(...args);\n    } else {\n      this.clickTime++;\n      return () => this;\n    }\n  }\n}\n_trTime = new WeakMap();\nvar stdin_default = Throttle;\n","originalCode":"/**\n * @class\n * @classdesc\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @example\n * const tr = new Throttle()\n * tr.throttle(fn,1000,...args)\n */\nexport class Throttle {\n  #trTime = 0\n  clickTime = 0\n  /**\n   * @function\n   * @description 函数节流，触发一次后，再间隔n毫秒后才会被触发\n   * @param  {function} argFn 回调函数\n   * @param  {number} argWait 等待时间,默认1000毫秒\n   * @param  {any} args ...args 回调函数的参数\n   * @returns {function}\n   */\n  throttle(\n    argFn: (...arg: any) => any,\n    argWait: number = 1000,\n    ...args: any\n  ): (...arg: any) => any {\n    if (argWait - (Date.now() - this.#trTime) <= 0) {\n      this.#trTime = Date.now()\n      this.clickTime = 0\n      setTimeout(() => {\n        if (this.clickTime > 0) {\n          this.#trTime = 0\n          this.clickTime = 0\n        }\n      }, argWait)\n      return argFn(...args)\n    } else {\n      this.clickTime++\n      return () => this\n    }\n  }\n}\nexport default Throttle\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"4","url":"/home/runner/work/utils/utils/src/class/Throttle.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2322,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":2319,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":2}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":2}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":1}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"__accessCheck","ranges":[{"startOffset":887,"endOffset":974,"count":8},{"startOffset":939,"endOffset":972,"count":0}],"isBlockCoverage":true},{"functionName":"__privateGet","ranges":[{"startOffset":995,"endOffset":1134,"count":5},{"startOffset":1095,"endOffset":1113,"count":0}],"isBlockCoverage":true},{"functionName":"__privateAdd","ranges":[{"startOffset":1155,"endOffset":1351,"count":1},{"startOffset":1208,"endOffset":1277,"count":0},{"startOffset":1306,"endOffset":1323,"count":0}],"isBlockCoverage":true},{"functionName":"__privateSet","ranges":[{"startOffset":1372,"endOffset":1540,"count":3},{"startOffset":1471,"endOffset":1496,"count":0}],"isBlockCoverage":true},{"functionName":"Throttle","ranges":[{"startOffset":1604,"endOffset":1618,"count":0}],"isBlockCoverage":false},{"functionName":"default","ranges":[{"startOffset":1631,"endOffset":1650,"count":1}],"isBlockCoverage":true},{"functionName":"Throttle","ranges":[{"startOffset":1733,"endOffset":1812,"count":1}],"isBlockCoverage":true},{"functionName":"throttle","ranges":[{"startOffset":1815,"endOffset":2259,"count":5},{"startOffset":1924,"endOffset":2193,"count":2},{"startOffset":2193,"endOffset":2255,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2016,"endOffset":2147,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2238,"endOffset":2248,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  autoPlayAudio: () => autoPlayAudio,\n  deepCopy: () => deepCopy,\n  delCookie: () => delCookie,\n  delay: () => delay,\n  getCookie: () => getCookie,\n  getCookieObj: () => getCookieObj,\n  getEnv: () => getEnv,\n  getInfo: () => getInfo,\n  getNetworkStatus: () => getNetworkStatus,\n  getObj: () => getObj,\n  getRandomColor: () => getRandomColor,\n  getRegexp: () => getRegexp,\n  getStorage: () => getStorage,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  randomInt: () => randomInt,\n  remInit: () => remInit,\n  replaceUrlParam: () => replaceUrlParam,\n  requestDeviceMotionPermission: () => requestDeviceMotionPermission,\n  safe: () => safe,\n  safeData: () => safeData,\n  setCookie: () => setCookie,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setStorage: () => setStorage,\n  setTitle: () => setTitle,\n  setUrlParams: () => setUrlParams,\n  sleep: () => sleep\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_is = require(\"./is\");\nlet isOnline = true;\nlet ENV = {};\nlet DATA_OBJECT = {};\nif (globalThis && globalThis.addEventListener) {\n  globalThis.addEventListener(\"offline\", function() {\n    console.debug(\"offLine\");\n    isOnline = false;\n  });\n  globalThis.addEventListener(\"online\", function() {\n    console.debug(\"onLine\");\n    isOnline = true;\n  });\n}\nconst getNetworkStatus = () => {\n  return isOnline;\n};\nconst getRegexp = () => {\n  return {\n    html: /<[^>]+>/gim,\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    phone: /^1\\d{10}$/,\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n    http: /http:\\/\\/|https:\\/\\//,\n    score: /^[1-9]\\d*|0$/,\n    int: /^[1-9]\\d*$/,\n    number: /^\\d*$/,\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    letter: /^[a-zA-Z]*$/,\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    realName: /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    ascii: /^[\\x20-\\x7E]+$/\n  };\n};\nconst setTitle = (argTitle) => {\n  if (typeof globalThis.document === \"object\") {\n    globalThis.document.title = String(argTitle);\n  }\n  if (getInfo().isAppleMobile) {\n    const i = document.createElement(\"iframe\");\n    i.onload = () => {\n      setTimeout(() => {\n        console.debug(\"apple mobile setting title\");\n        i.remove();\n      }, 10);\n    };\n    globalThis.document.body.appendChild(i);\n  }\n};\nconst remInit = (argBaseSize = 16, argWidth = 375) => {\n  const setRem = () => {\n    const scale = safeData(globalThis, \"document.documentElement.clientWidth\", argWidth) / argWidth;\n    safeData(\n      globalThis,\n      \"document.documentElement.style.fontSize\",\n      argBaseSize * scale + \"px\",\n      true\n    );\n  };\n  setRem();\n  globalThis.onresize = () => {\n    setRem();\n  };\n};\nconst getCookie = (argName) => {\n  const cookies = globalThis.document.cookie.split(\"; \");\n  const cookie = cookies.find((cookie2) => {\n    const [name] = cookie2.split(\"=\");\n    return argName === name;\n  });\n  return cookie ? decodeURIComponent(cookie.split(\"=\")[1] || \"\") : \"\";\n};\nconst getCookieObj = () => {\n  const cookies = globalThis.document.cookie.split(\"; \");\n  const cookieObj = {};\n  cookies.forEach((cookie) => {\n    const [key, value = \"\"] = cookie.split(\"=\");\n    cookieObj[key] = decodeURIComponent(value);\n  });\n  return cookieObj;\n};\nconst setCookie = (argName, argValue = \"\", argTime = 24, argPath = \"/\", domain = globalThis.location.hostname) => {\n  if (argTime === 0) {\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};domain=${domain};`;\n  } else {\n    const now = new Date();\n    const offset = 8;\n    const utc = now.getTime() + now.getTimezoneOffset() * 6e4;\n    const nd = utc + 36e5 * offset;\n    const exp = new Date(nd);\n    exp.setTime(exp.getTime() + argTime * 60 * 60 * 1e3);\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};expires=${exp.toUTCString()};domain=${domain};`;\n  }\n};\nconst delCookie = (argName = \"\") => {\n  setCookie(argName, \"\", -1);\n};\nconst getInfo = () => {\n  let ua = safeData(globalThis, \"navigator.userAgent\", \"\").toLowerCase();\n  let platform = safeData(\n    globalThis,\n    \"navigator.userAgentData.platform\",\n    \"\"\n  ).toLowerCase();\n  let info = {\n    ua,\n    platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match(\"win\"),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match(\"mac\"),\n    isIos: !!platform.match(\"ios\"),\n    isAndroid: !!platform.match(\"android\"),\n    isSafari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"chrome\") < 1,\n    isIE: \"ActiveXObject\" in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i)\n  };\n  if (info.ua.match(\"msie\")) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/);\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1];\n    }\n  }\n  info.isAppleMobile = !!(info.isMobile && ua.toLowerCase().indexOf(\"applewebkit\") && ua.indexOf(\"chrome\") < 1);\n  return info;\n};\nconst getRandomColor = function() {\n  return \"#\" + (\"00000\" + (Math.random() * 16777216 << 0).toString(16)).substring(-6);\n};\nconst getStorage = (argKey, argNoJson) => {\n  let res = globalThis.localStorage.getItem(argKey);\n  if (!argNoJson && (0, import_is.isJson)(res) && res) {\n    res = JSON.parse(res);\n  }\n  return res || \"\";\n};\nconst setStorage = (argKey, argData) => {\n  if (typeof argData === \"object\") {\n    argData = JSON.stringify(argData);\n  }\n  globalThis.localStorage.setItem(argKey, String(argData));\n  return String(argData);\n};\nconst sleep = (ms) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\nconst delay = (time = 0) => {\n  let start = Date.now();\n  while (Date.now() - start < time) {\n    continue;\n  }\n};\nconst safe = function safe2(argData, argCheck, argValue, argSetValueForce) {\n  if (!argData) {\n    return argValue;\n  }\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    ;\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        } else {\n          return argValue;\n        }\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData.slice(argData.indexOf(\"?\") + 1).split(\"&\").forEach((v) => {\n      const [key, val] = v.split(\"=\");\n      if (key !== v) {\n        res[key] = decodeURIComponent(val);\n      }\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  const reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  const r = url.match(reg);\n  const search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {\n        if (!p4 || !p4.length) {\n          return \"\";\n        } else if (p1 === p4) {\n          return p1;\n        }\n        return p1 + p4;\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    const sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    const sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst getUuid = () => {\n  const S4 = () => ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nconst deepCopy = (obj, hash = /* @__PURE__ */ new WeakMap()) => {\n  if (obj === null || typeof obj !== \"object\")\n    return obj;\n  if (obj instanceof Date)\n    return new Date(obj);\n  if (obj instanceof RegExp)\n    return new RegExp(obj);\n  if (obj instanceof Map)\n    return new Map(deepCopy(Array.from(obj), hash));\n  if (obj instanceof Set)\n    return new Set(deepCopy(Array.from(obj), hash));\n  if (hash.has(obj))\n    return hash.get(obj);\n  const copy = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n  hash.set(obj, copy);\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      copy[key] = deepCopy(obj[key], hash);\n    }\n  }\n  return copy;\n};\nconst requestDeviceMotionPermission = () => {\n  if (typeof DeviceMotionEvent.requestPermission === \"function\") {\n    return DeviceMotionEvent.requestPermission().then((permissionState) => {\n      if (permissionState === \"granted\") {\n        return true;\n      } else {\n        return false;\n      }\n    }).catch(() => {\n      return false;\n    });\n  } else {\n    return true;\n  }\n};\nconst autoPlayAudio = (audioUrl, isWeixin) => {\n  const audio = new Audio(audioUrl);\n  audio.addEventListener(\n    \"ended\",\n    function() {\n      this.currentTime = 0;\n      this.play();\n    },\n    false\n  );\n  audio.autoplay = true;\n  if (isWeixin) {\n    document.addEventListener(\n      \"WeixinJSBridgeReady\",\n      function() {\n        audio.play();\n      },\n      false\n    );\n  }\n  return audio;\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 公共函数，使用'lj-utils'引入\n */\n\nimport { isJson } from './is'\nimport { Info, AnyObject, Bool } from './types'\n\nlet isOnline: boolean = true\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n// 断网监听\nif (globalThis && globalThis.addEventListener) {\n  // #ifdef H5\n  globalThis.addEventListener('offline', function () {\n    console.debug('offLine')\n    isOnline = false\n  })\n  globalThis.addEventListener('online', function () {\n    console.debug('onLine')\n    isOnline = true\n  })\n  // #endif\n}\n\n/**\n * @function\n * @description 获取当前网络状态（H5）\n * @return boolean\n * @returns {boolean}\n * @example\n * ```\n * const status = getNetworkStatus();\n * ```\n */\nexport const getNetworkStatus = () => {\n  return isOnline\n}\n\n/**\n * @function\n * @description 正则收集\n * @returns {object}\n * @returns {object}\n * @example\n * ```\n * const regex = getRegexp();\n * ```\n */\nexport const getRegexp = (): AnyObject => {\n  return {\n    // 匹配html标签，提取html文字： htmlCode.replace(reg.html,'')\n    html: /<[^>]+>/gim,\n    // 至少1数字1字母1字符，8-16位\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    // 普通身份证号正则，isIdCard更为严格\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    // 简易身份证号 数字+x\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    // 手机号\n    phone: /^1\\d{10}$/,\n    // 邮箱\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n    // 网址\n    http: /http:\\/\\/|https:\\/\\//,\n    // 含0整数（得分）\n    score: /^[1-9]\\d*|0$/,\n    // 整数\n    int: /^[1-9]\\d*$/,\n    // 匹配数字\n    number: /^\\d*$/,\n    // >=0||1位小数\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    // >=0||2位小数\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    // >=0||3位小数\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    // 字母+数字组合\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    // 字母\n    letter: /^[a-zA-Z]*$/,\n    // 帐号50个字内：大小写+数字+中文+'_'+'-'\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    // 中英文姓名 50个字内/中文 中文/英文-. 英文-./\n    realName:\n      /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    // 匹配中文\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    // 匹配ASCII,非中文之外的字符（全角字符）\n    ascii: /^[\\x20-\\x7E]+$/,\n  }\n}\n\n/**\n * @function\n * @description 设置标题\n * @param  {string} argTitle 标题\n */\nexport const setTitle = (argTitle: string | number) => {\n  if (typeof globalThis.document === 'object') {\n    globalThis.document.title = String(argTitle)\n  }\n  if (getInfo().isAppleMobile) {\n    const i = document.createElement('iframe')\n    i.onload = () => {\n      setTimeout(() => {\n        console.debug('apple mobile setting title')\n        i.remove()\n      }, 10)\n    }\n    globalThis.document.body.appendChild(i)\n  }\n}\n\n/**\n * @function\n * @description 使用postcss-px2rem时使用\n * @param {number} argBaseSize 基础大小 16px（要跟配置一致）\n * @param {number} argWidth 基准宽度\n */\nexport const remInit = (argBaseSize: number = 16, argWidth: number = 375) => {\n  // 设置 rem 函数\n  const setRem = () => {\n    // 当前页面宽度相对于 argWidth 宽的缩放比例，可根据自己需要修改。\n    const scale =\n      safeData(globalThis, 'document.documentElement.clientWidth', argWidth) /\n      argWidth\n    // 设置页面根节点字体大小\n    safeData(\n      globalThis,\n      'document.documentElement.style.fontSize',\n      argBaseSize * scale + 'px',\n      true\n    )\n  }\n  // 初始化\n  setRem()\n  // 改变窗口大小时重新设置 rem\n  globalThis.onresize = () => {\n    setRem()\n  }\n}\n\n/**\n * @function\n * @description 获取cookie\n * @param  {string} argName 要获取的值\n * @returns {string}\n */\nexport const getCookie = (argName: string): string => {\n  const cookies = globalThis.document.cookie.split('; ')\n  const cookie = cookies.find((cookie) => {\n    const [name] = cookie.split('=')\n    return argName === name\n  })\n  return cookie ? decodeURIComponent(cookie.split('=')[1] || '') : ''\n}\n/**\n * @function\n * @description 获取cookie对象\n * @returns {object}\n */\nexport const getCookieObj = (): { [key: string]: string } => {\n  const cookies = globalThis.document.cookie.split('; ')\n  const cookieObj: { [key: string]: string } = {}\n  cookies.forEach((cookie) => {\n    const [key, value = ''] = cookie.split('=')\n    cookieObj[key] = decodeURIComponent(value)\n  })\n  return cookieObj\n}\n/**\n * @function\n * @description 设置cookie\n * @param  {string} argName 要设置的key\n * @param  {string} argValue 要设置的value\n * @param  {number} argTime 过期时间/时 默认24\n * @param  {number} argPath path\n * @param  {number} domain domain\n */\nexport const setCookie = (\n  argName: string,\n  argValue: string | number | boolean = '',\n  argTime: number = 24,\n  argPath: string = '/',\n  domain: string = globalThis.location.hostname\n) => {\n  if (argTime === 0) {\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};domain=${domain};`\n  } else {\n    const now = new Date()\n    const offset = 8\n    const utc = now.getTime() + now.getTimezoneOffset() * 60000\n    const nd = utc + 3600000 * offset\n    const exp = new Date(nd)\n    exp.setTime(exp.getTime() + argTime * 60 * 60 * 1000)\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};expires=${exp.toUTCString()};domain=${domain};`\n  }\n}\n\n/**\n * @function\n * @description 清除cookie\n * @param  {string} argName 要清除的值\n */\nexport const delCookie = (argName: string = '') => {\n  setCookie(argName, '', -1)\n}\n\n/**\n * @function\n * @description 检测浏览器状态，系统状态 *\n * @returns {Info} {\n * ua: ua,\n * platform: 平台,\n * isMobile: 移动端,\n * isWin: winPC端,\n * isIphone: iphone,\n * isIpad: ipad,\n * isMac: mac,\n * isAppleMobile: 苹果移动端webview\n * isSafari: Safari浏览器,\n * isIos: Ios平台,\n * isAndroid: android平台,\n * isIE: 显示8 9 10, true为11以上\n * ...\n * }\n */\nexport const getInfo = (): Info => {\n  let ua = safeData(globalThis, 'navigator.userAgent', '').toLowerCase()\n  let platform: string = safeData(\n    globalThis,\n    'navigator.userAgentData.platform',\n    ''\n  ).toLowerCase()\n  let info: Info = {\n    ua: ua,\n    platform: platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match('win'),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match('mac'),\n    isIos: !!platform.match('ios'),\n    isAndroid: !!platform.match('android'),\n    isSafari: ua.indexOf('safari') > -1 && ua.indexOf('chrome') < 1,\n    isIE: 'ActiveXObject' in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i),\n  }\n  if (info.ua.match('msie')) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/)\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1]\n    }\n  }\n  info.isAppleMobile = !!(\n    info.isMobile &&\n    ua.toLowerCase().indexOf('applewebkit') &&\n    ua.indexOf('chrome') < 1\n  )\n  return info\n}\n\n/**\n * @function\n * @description 获取随机颜色\n * @return string\n */\nexport const getRandomColor = function () {\n  return (\n    '#' +\n    ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substring(-6)\n  )\n}\n\n/**\n * @function\n * @description 获取storage的值，默认将json转为obj\n * @param {string} argKey 要获取的key\n * @param {string} argNoJson true时不自动转换JSON字符串\n * @returns {any} key对应的数据\n */\nexport const getStorage = (argKey: string, argNoJson?: string): any => {\n  let res = globalThis.localStorage.getItem(argKey)\n  // 默认转义JSON字符串\n  if (!argNoJson && isJson(res) && res) {\n    res = JSON.parse(res)\n  }\n  return res || ''\n}\n\n/**\n * @function\n * @description 设置storage的值，默认将obj转为json\n * @param {string} argKey 要获取的key\n * @param {unknown} argData 要保存的数据\n * @returns {string} 保存的数据String\n */\nexport const setStorage = (argKey: string, argData: unknown): string => {\n  if (typeof argData === 'object') {\n    argData = JSON.stringify(argData)\n  }\n  globalThis.localStorage.setItem(argKey, String(argData))\n  return String(argData)\n}\n\n/**\n * @function\n * @description setTimeout promise版，异步阻塞函数\n * @param  {number} ms 时间，毫秒\n */\nexport const sleep = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n/**\n * @description 同步阻塞函数。\n * @param {number} time - 延迟的时间量，单位为毫秒\n */\nexport const delay = (time: number = 0) => {\n  let start = Date.now()\n  while (Date.now() - start < time) {\n    continue\n  }\n}\n\n// 返回T下的key对应类型\ntype KeyOf<T extends Record<string, any>, K = keyof T> = K extends string\n  ? T[K] extends Function\n    ? never\n    : K\n  : never\ntype DotField<T extends Record<string, any>, K = KeyOf<T>> = K extends string\n  ? K | `${K}.${DotField<T[K]>}`\n  : never\n// 返回传入K或T[K]对应的类型\ntype ValueOf<\n  T extends Record<string, any>,\n  K\n> = K extends `${infer I}.${infer R}`\n  ? ValueOf<T[I], R>\n  : K extends string\n  ? T[K]\n  : never\n\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safe = function safe<\n  T extends Record<string, any>,\n  K extends DotField<T>\n>(\n  argData: T,\n  argCheck: K,\n  argValue?: ValueOf<T, K>,\n  argSetValueForce?: Bool\n): ValueOf<T, K> | undefined | string {\n  if (!argData) {\n    return argValue\n  }\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    ;(argData as AnyObject)[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        } else {\n          return argValue\n        }\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): AnyObject => {\n  const res: AnyObject = {}\n  try {\n    argData\n      .slice(argData.indexOf('?') + 1)\n      .split('&')\n      .forEach((v) => {\n        const [key, val] = v.split('=')\n        if (key !== v) {\n          res[key] = decodeURIComponent(val)\n        }\n      })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  const reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  const r = url.match(reg)\n  const search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {\n        if (!p4 || !p4.length) {\n          return ''\n        } else if (p1 === p4) {\n          return p1\n        }\n        return p1 + p4\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    const sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    const sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  const S4 = () =>\n    (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * @function\n * @description深拷贝函数\n * @param obj 需要拷贝的对象\n * @returns 拷贝后的对象\n */\nexport const deepCopy = (obj: any, hash = new WeakMap()): any => {\n  if (obj === null || typeof obj !== 'object') return obj\n  if (obj instanceof Date) return new Date(obj)\n  if (obj instanceof RegExp) return new RegExp(obj)\n  if (obj instanceof Map) return new Map(deepCopy(Array.from(obj), hash))\n  if (obj instanceof Set) return new Set(deepCopy(Array.from(obj), hash))\n  if (hash.has(obj)) return hash.get(obj)\n\n  const copy = Array.isArray(obj)\n    ? []\n    : Object.create(Object.getPrototypeOf(obj))\n  hash.set(obj, copy)\n\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      copy[key] = deepCopy(obj[key], hash)\n    }\n  }\n  return copy\n}\n\n/**\n * @function\n * @description 摇一摇，请求使用 DeviceMotionEvent API 的权限。for ios\n * @returns Promise，指示是否已授予权限。\n * @example\n * ```\n * const hasRequest = await requestDeviceMotionPermission()\n * if (hasRequest) {\n *    useEventListener(window, 'devicemotion', handleShake)\n *  } else {\n *    showToast('未授权访问运动传感器,请手动点击！')\n *  }\n * ```\n */\nexport const requestDeviceMotionPermission = () => {\n  if (typeof (DeviceMotionEvent as any).requestPermission === 'function') {\n    return (DeviceMotionEvent as any)\n      .requestPermission()\n      .then((permissionState: string) => {\n        if (permissionState === 'granted') {\n          return true\n        } else {\n          return false\n        }\n      })\n      .catch(() => {\n        return false\n      })\n  } else {\n    return true\n  }\n}\n\n/**\n * @function\n * @description 自动播放音频并返回音频元素。\n * @param {string} audioUrl - 音频地址\n * @param {boolean} isWeixin - 是否在微信中\n * @returns {HTMLAudioElement} - 音频元素\n */\nexport const autoPlayAudio = (\n  audioUrl: string,\n  isWeixin: boolean\n): HTMLAudioElement => {\n  const audio = new Audio(audioUrl)\n  audio.addEventListener(\n    'ended',\n    function () {\n      this.currentTime = 0\n      this.play()\n    },\n    false\n  )\n  audio.autoplay = true\n  if (isWeixin) {\n    document.addEventListener(\n      'WeixinJSBridgeReady',\n      function () {\n        audio.play()\n      },\n      false\n    )\n  }\n  return audio\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3702","url":"/home/runner/work/utils/utils/src/base.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14384,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14381,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":30}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":30}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":1}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"autoPlayAudio","ranges":[{"startOffset":934,"endOffset":953,"count":0}],"isBlockCoverage":false},{"functionName":"deepCopy","ranges":[{"startOffset":967,"endOffset":981,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":996,"endOffset":1011,"count":0}],"isBlockCoverage":false},{"functionName":"delay","ranges":[{"startOffset":1022,"endOffset":1033,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":1048,"endOffset":1063,"count":0}],"isBlockCoverage":false},{"functionName":"getCookieObj","ranges":[{"startOffset":1081,"endOffset":1099,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":1111,"endOffset":1123,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":1136,"endOffset":1149,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1171,"endOffset":1193,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1205,"endOffset":1217,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":1237,"endOffset":1257,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1272,"endOffset":1287,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":1303,"endOffset":1319,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1336,"endOffset":1353,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1373,"endOffset":1393,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":1406,"endOffset":1419,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":1434,"endOffset":1449,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":1462,"endOffset":1475,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1496,"endOffset":1517,"count":0}],"isBlockCoverage":false},{"functionName":"requestDeviceMotionPermission","ranges":[{"startOffset":1552,"endOffset":1587,"count":0}],"isBlockCoverage":false},{"functionName":"safe","ranges":[{"startOffset":1597,"endOffset":1607,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1621,"endOffset":1635,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":1650,"endOffset":1665,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":1677,"endOffset":1689,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":1701,"endOffset":1713,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1725,"endOffset":1737,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":1753,"endOffset":1769,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":1783,"endOffset":1797,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":1815,"endOffset":1833,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":1844,"endOffset":1855,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2086,"endOffset":2154,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2197,"endOffset":2263,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":2293,"endOffset":2321,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":2341,"endOffset":3261,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":3280,"endOffset":3672,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":3690,"endOffset":4058,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":4078,"endOffset":4342,"count":0}],"isBlockCoverage":false},{"functionName":"getCookieObj","ranges":[{"startOffset":4365,"endOffset":4611,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":4631,"endOffset":5284,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":5304,"endOffset":5355,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":5373,"endOffset":6376,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":6401,"endOffset":6502,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":6523,"endOffset":6710,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":6731,"endOffset":6921,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":6937,"endOffset":7008,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6968,"endOffset":7004,"count":1}],"isBlockCoverage":true},{"functionName":"delay","ranges":[{"startOffset":7024,"endOffset":7123,"count":0}],"isBlockCoverage":false},{"functionName":"safe2","ranges":[{"startOffset":7138,"endOffset":8047,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":8066,"endOffset":8977,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":9000,"endOffset":9329,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":9351,"endOffset":9563,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":9588,"endOffset":9983,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":10009,"endOffset":11221,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":11239,"endOffset":11408,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":11428,"endOffset":11564,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":11581,"endOffset":11606,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":11623,"endOffset":11668,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":11685,"endOffset":11807,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":11824,"endOffset":12057,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":12074,"endOffset":12883,"count":0}],"isBlockCoverage":false},{"functionName":"deepCopy","ranges":[{"startOffset":12902,"endOffset":13589,"count":0}],"isBlockCoverage":false},{"functionName":"requestDeviceMotionPermission","ranges":[{"startOffset":13629,"endOffset":13972,"count":0}],"isBlockCoverage":false},{"functionName":"autoPlayAudio","ranges":[{"startOffset":13996,"endOffset":14377,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\r\n * @module index\r\n * @author linjielinlin 993353454@qq.com\r\n * @date 2022-05-11 22:07:43\r\n * @description 判断函数\r\n */\r\n/**\r\n * @function isPrime\r\n * @description 判断一个数是否为质数\r\n * @param {number} argValue 需要判断的数值\r\n * @returns {boolean} 如果是质数返回true，否则返回false\r\n * @example\r\n * isPrime(5); // true\r\n */\r\nexport const isPrime = (argValue: number): boolean =>\r\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\r\n\r\n/**\r\n * @function isJson\r\n * @description 判断一个值是否为JSON\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是JSON返回true，否则返回false\r\n * @example\r\n * isJson('{\"name\":\"John\"}'); // true\r\n */\r\nexport const isJson = (argData: any): boolean => {\r\n  try {\r\n    return typeof JSON.parse(argData || '') === 'object'\r\n  } catch (e) {}\r\n  return false\r\n}\r\n/**\r\n * @function isBlob\r\n * @description 判断一个值是否为Blob\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是Blob返回true，否则返回false\r\n * @example\r\n * isBlob(new Blob()); // true\r\n */\r\nexport const isBlob = (argData: any): boolean => {\r\n  return argData instanceof Blob\r\n}\r\n\r\n/**\r\n * @function isFile\r\n * @description 判断一个值是否为File\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是File返回true，否则返回false\r\n * @example\r\n * isFile(new File([\"\"], \"filename\")); // true\r\n */\r\nexport const isFile = (argData: any): boolean => {\r\n  return argData instanceof File\r\n}\r\n\r\n/**\r\n * @function isIdCard\r\n * @description 判断一个字符串是否为正确的身份证号码\r\n * @param  {string} code 身份证号码\r\n * @returns {boolean} 如果是正确的身份证号码返回true，否则返回false\r\n * @example\r\n * isIdCard('320311770706001'); // false\r\n */\r\nexport const isIdCard = (code: string): boolean => {\r\n  let tip = ''\r\n  let city: { [key: number]: string } = {\r\n    11: '北京',\r\n    12: '天津',\r\n    13: '河北',\r\n    14: '山西',\r\n    15: '内蒙古',\r\n    21: '辽宁',\r\n    22: '吉林',\r\n    23: '黑龙江 ',\r\n    31: '上海',\r\n    32: '江苏',\r\n    33: '浙江',\r\n    34: '安徽',\r\n    35: '福建',\r\n    36: '江西',\r\n    37: '山东',\r\n    41: '河南',\r\n    42: '湖北 ',\r\n    43: '湖南',\r\n    44: '广东',\r\n    45: '广西',\r\n    46: '海南',\r\n    50: '重庆',\r\n    51: '四川',\r\n    52: '贵州',\r\n    53: '云南',\r\n    54: '西藏 ',\r\n    61: '陕西',\r\n    62: '甘肃',\r\n    63: '青海',\r\n    64: '宁夏',\r\n    65: '新疆',\r\n    71: '台湾',\r\n    81: '香港',\r\n    82: '澳门',\r\n    91: '国外 ',\r\n  }\r\n  let pass = true\r\n  if (\r\n    !code ||\r\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\r\n      code\r\n    )\r\n  ) {\r\n    tip = '身份证号格式错误'\r\n    pass = false\r\n  } else if (!city[+code.substring(0, 2)]) {\r\n    tip = '地址编码错误'\r\n    pass = false\r\n  } else {\r\n    // 18位身份证需要验证最后一位校验位\r\n    if (code.length === 18) {\r\n      const codeArr = code.split('')\r\n      // ∑(ai×Wi)(mod 11)\r\n      // 加权因子\r\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\r\n      // 校验位\r\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\r\n      let sum = 0\r\n      let ai = 0\r\n      let wi = 0\r\n      for (let i = 0; i < 17; i++) {\r\n        ai = Number(codeArr[i])\r\n        wi = factor[i]\r\n        sum += ai * wi\r\n      }\r\n      let last = parity[sum % 11] + ''\r\n      if (last !== code[17]) {\r\n        tip = '校验位错误'\r\n        pass = false\r\n      }\r\n    }\r\n  }\r\n  console.assert(!tip, tip)\r\n  return pass\r\n}\r\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3703","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1706283604029,"runtime":2195,"slow":false,"start":1706283601834},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/class/Counter.spec.ts","testResults":[{"rowKey":0,"ancestorTitles":["Debounce"],"duration":2004,"failureDetails":[],"failureMessages":[],"fullName":"Debounce Counter","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"Counter"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar stdin_exports = {};\n__export(stdin_exports, {\n  Counter: () => Counter,\n  default: () => stdin_default\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar _timer;\nclass Counter {\n  constructor(argCount = 60, argCb) {\n    this.count = 0;\n    this.maxCount = 0;\n    __privateAdd(this, _timer, void 0);\n    this.cb = (a) => a;\n    this.count = argCount;\n    this.maxCount = argCount;\n    if (argCb)\n      this.cb = argCb;\n  }\n  setCount(argCount = 60) {\n    this.count = argCount;\n    if (!argCount) {\n      this.stop();\n    }\n    return this;\n  }\n  setMaxCount(argCount = 60) {\n    this.maxCount = argCount;\n    return this;\n  }\n  start(argCb) {\n    const cbFn = argCb || this.cb;\n    if (!this.count) {\n      this.count = this.maxCount;\n    }\n    if (__privateGet(this, _timer)) {\n      clearInterval(__privateGet(this, _timer));\n    }\n    cbFn(this.count);\n    __privateSet(this, _timer, setInterval(() => {\n      this.count--;\n      if (this.count === -1) {\n        this.count = this.maxCount;\n      }\n      cbFn(this.count);\n      if (this.count < 1) {\n        this.stop();\n      }\n    }, 1e3));\n    return this;\n  }\n  stop() {\n    if (__privateGet(this, _timer)) {\n      clearInterval(__privateGet(this, _timer));\n    }\n    return this;\n  }\n}\n_timer = new WeakMap();\nvar stdin_default = Counter;\n","originalCode":"import { AnyFn } from '../types'\n/**\n * @class\n * @classdesc new对象时可传入计数\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @example\n * const counter = new Counter(60, () => {})\n * counter.stop()\n * counter.setCount(60)\n * counter.start()\n */\nexport class Counter {\n  count = 0\n  maxCount = 0\n  #timer: any\n  cb: AnyFn = (a) => a\n  /**\n   * @description:\n   * @param {number} argCount 开始计时秒数\n   * @param {function} argCb 回调函数\n   */\n  constructor(argCount: number = 60, argCb?: AnyFn) {\n    this.count = argCount\n    this.maxCount = argCount\n    if (argCb) this.cb = argCb\n  }\n\n  /**\n   * @function\n   * @param {number} argCount 当前倒计时数值\n   * @description 设置当前倒计时数值\n   */\n  setCount(argCount: number = 60): this {\n    this.count = argCount\n    if (!argCount) {\n      this.stop()\n    }\n    return this\n  }\n\n  /**\n   * @function\n   * @param {number} argCount 初始倒计数\n   * @description 设置初始倒计时数值\n   */\n  setMaxCount(argCount: number = 60) {\n    this.maxCount = argCount\n    return this\n  }\n\n  /**\n   * @function\n   * @param {function} argCb 计时回调,返回当前剩余秒数\n   * @description 开始倒计时\n   */\n  start(argCb?: AnyFn) {\n    const cbFn: AnyFn = argCb || this.cb\n    // count为0时从最大值开始\n    if (!this.count) {\n      this.count = this.maxCount\n    }\n    if (this.#timer) {\n      clearInterval(this.#timer)\n    }\n    cbFn(this.count)\n    this.#timer = setInterval(() => {\n      this.count--\n      if (this.count === -1) {\n        this.count = this.maxCount\n      }\n      cbFn(this.count)\n      if (this.count < 1) {\n        this.stop()\n      }\n    }, 1000)\n    return this\n  }\n\n  /**\n   * @function\n   * @description 停止倒计时\n   */\n  stop() {\n    if (this.#timer) {\n      clearInterval(this.#timer)\n    }\n    return this\n  }\n}\nexport default Counter\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"1","url":"/home/runner/work/utils/utils/src/class/Counter.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2852,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":2849,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":2}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":2}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":1}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"__accessCheck","ranges":[{"startOffset":887,"endOffset":974,"count":9},{"startOffset":939,"endOffset":972,"count":0}],"isBlockCoverage":true},{"functionName":"__privateGet","ranges":[{"startOffset":995,"endOffset":1134,"count":7},{"startOffset":1095,"endOffset":1113,"count":0}],"isBlockCoverage":true},{"functionName":"__privateAdd","ranges":[{"startOffset":1155,"endOffset":1351,"count":1},{"startOffset":1208,"endOffset":1277,"count":0},{"startOffset":1306,"endOffset":1323,"count":0}],"isBlockCoverage":true},{"functionName":"__privateSet","ranges":[{"startOffset":1372,"endOffset":1540,"count":2},{"startOffset":1471,"endOffset":1496,"count":0}],"isBlockCoverage":true},{"functionName":"Counter","ranges":[{"startOffset":1603,"endOffset":1616,"count":0}],"isBlockCoverage":false},{"functionName":"default","ranges":[{"startOffset":1629,"endOffset":1648,"count":1}],"isBlockCoverage":true},{"functionName":"Counter","ranges":[{"startOffset":1729,"endOffset":1970,"count":1}],"isBlockCoverage":true},{"functionName":"Counter.cb","ranges":[{"startOffset":1862,"endOffset":1870,"count":0}],"isBlockCoverage":false},{"functionName":"setCount","ranges":[{"startOffset":1973,"endOffset":2092,"count":0}],"isBlockCoverage":false},{"functionName":"setMaxCount","ranges":[{"startOffset":2095,"endOffset":2174,"count":0}],"isBlockCoverage":false},{"functionName":"start","ranges":[{"startOffset":2177,"endOffset":2666,"count":2},{"startOffset":2215,"endOffset":2225,"count":1},{"startOffset":2248,"endOffset":2289,"count":0},{"startOffset":2326,"endOffset":2382,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2448,"endOffset":2637,"count":2},{"startOffset":2505,"endOffset":2550,"count":0},{"startOffset":2601,"endOffset":2631,"count":0}],"isBlockCoverage":true},{"functionName":"stop","ranges":[{"startOffset":2669,"endOffset":2791,"count":2}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  autoPlayAudio: () => autoPlayAudio,\n  deepCopy: () => deepCopy,\n  delCookie: () => delCookie,\n  delay: () => delay,\n  getCookie: () => getCookie,\n  getCookieObj: () => getCookieObj,\n  getEnv: () => getEnv,\n  getInfo: () => getInfo,\n  getNetworkStatus: () => getNetworkStatus,\n  getObj: () => getObj,\n  getRandomColor: () => getRandomColor,\n  getRegexp: () => getRegexp,\n  getStorage: () => getStorage,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  randomInt: () => randomInt,\n  remInit: () => remInit,\n  replaceUrlParam: () => replaceUrlParam,\n  requestDeviceMotionPermission: () => requestDeviceMotionPermission,\n  safe: () => safe,\n  safeData: () => safeData,\n  setCookie: () => setCookie,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setStorage: () => setStorage,\n  setTitle: () => setTitle,\n  setUrlParams: () => setUrlParams,\n  sleep: () => sleep\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_is = require(\"./is\");\nlet isOnline = true;\nlet ENV = {};\nlet DATA_OBJECT = {};\nif (globalThis && globalThis.addEventListener) {\n  globalThis.addEventListener(\"offline\", function() {\n    console.debug(\"offLine\");\n    isOnline = false;\n  });\n  globalThis.addEventListener(\"online\", function() {\n    console.debug(\"onLine\");\n    isOnline = true;\n  });\n}\nconst getNetworkStatus = () => {\n  return isOnline;\n};\nconst getRegexp = () => {\n  return {\n    html: /<[^>]+>/gim,\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    phone: /^1\\d{10}$/,\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n    http: /http:\\/\\/|https:\\/\\//,\n    score: /^[1-9]\\d*|0$/,\n    int: /^[1-9]\\d*$/,\n    number: /^\\d*$/,\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    letter: /^[a-zA-Z]*$/,\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    realName: /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    ascii: /^[\\x20-\\x7E]+$/\n  };\n};\nconst setTitle = (argTitle) => {\n  if (typeof globalThis.document === \"object\") {\n    globalThis.document.title = String(argTitle);\n  }\n  if (getInfo().isAppleMobile) {\n    const i = document.createElement(\"iframe\");\n    i.onload = () => {\n      setTimeout(() => {\n        console.debug(\"apple mobile setting title\");\n        i.remove();\n      }, 10);\n    };\n    globalThis.document.body.appendChild(i);\n  }\n};\nconst remInit = (argBaseSize = 16, argWidth = 375) => {\n  const setRem = () => {\n    const scale = safeData(globalThis, \"document.documentElement.clientWidth\", argWidth) / argWidth;\n    safeData(\n      globalThis,\n      \"document.documentElement.style.fontSize\",\n      argBaseSize * scale + \"px\",\n      true\n    );\n  };\n  setRem();\n  globalThis.onresize = () => {\n    setRem();\n  };\n};\nconst getCookie = (argName) => {\n  const cookies = globalThis.document.cookie.split(\"; \");\n  const cookie = cookies.find((cookie2) => {\n    const [name] = cookie2.split(\"=\");\n    return argName === name;\n  });\n  return cookie ? decodeURIComponent(cookie.split(\"=\")[1] || \"\") : \"\";\n};\nconst getCookieObj = () => {\n  const cookies = globalThis.document.cookie.split(\"; \");\n  const cookieObj = {};\n  cookies.forEach((cookie) => {\n    const [key, value = \"\"] = cookie.split(\"=\");\n    cookieObj[key] = decodeURIComponent(value);\n  });\n  return cookieObj;\n};\nconst setCookie = (argName, argValue = \"\", argTime = 24, argPath = \"/\", domain = globalThis.location.hostname) => {\n  if (argTime === 0) {\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};domain=${domain};`;\n  } else {\n    const now = new Date();\n    const offset = 8;\n    const utc = now.getTime() + now.getTimezoneOffset() * 6e4;\n    const nd = utc + 36e5 * offset;\n    const exp = new Date(nd);\n    exp.setTime(exp.getTime() + argTime * 60 * 60 * 1e3);\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};expires=${exp.toUTCString()};domain=${domain};`;\n  }\n};\nconst delCookie = (argName = \"\") => {\n  setCookie(argName, \"\", -1);\n};\nconst getInfo = () => {\n  let ua = safeData(globalThis, \"navigator.userAgent\", \"\").toLowerCase();\n  let platform = safeData(\n    globalThis,\n    \"navigator.userAgentData.platform\",\n    \"\"\n  ).toLowerCase();\n  let info = {\n    ua,\n    platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match(\"win\"),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match(\"mac\"),\n    isIos: !!platform.match(\"ios\"),\n    isAndroid: !!platform.match(\"android\"),\n    isSafari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"chrome\") < 1,\n    isIE: \"ActiveXObject\" in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i)\n  };\n  if (info.ua.match(\"msie\")) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/);\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1];\n    }\n  }\n  info.isAppleMobile = !!(info.isMobile && ua.toLowerCase().indexOf(\"applewebkit\") && ua.indexOf(\"chrome\") < 1);\n  return info;\n};\nconst getRandomColor = function() {\n  return \"#\" + (\"00000\" + (Math.random() * 16777216 << 0).toString(16)).substring(-6);\n};\nconst getStorage = (argKey, argNoJson) => {\n  let res = globalThis.localStorage.getItem(argKey);\n  if (!argNoJson && (0, import_is.isJson)(res) && res) {\n    res = JSON.parse(res);\n  }\n  return res || \"\";\n};\nconst setStorage = (argKey, argData) => {\n  if (typeof argData === \"object\") {\n    argData = JSON.stringify(argData);\n  }\n  globalThis.localStorage.setItem(argKey, String(argData));\n  return String(argData);\n};\nconst sleep = (ms) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\nconst delay = (time = 0) => {\n  let start = Date.now();\n  while (Date.now() - start < time) {\n    continue;\n  }\n};\nconst safe = function safe2(argData, argCheck, argValue, argSetValueForce) {\n  if (!argData) {\n    return argValue;\n  }\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    ;\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        } else {\n          return argValue;\n        }\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData.slice(argData.indexOf(\"?\") + 1).split(\"&\").forEach((v) => {\n      const [key, val] = v.split(\"=\");\n      if (key !== v) {\n        res[key] = decodeURIComponent(val);\n      }\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  const reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  const r = url.match(reg);\n  const search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {\n        if (!p4 || !p4.length) {\n          return \"\";\n        } else if (p1 === p4) {\n          return p1;\n        }\n        return p1 + p4;\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    const sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    const sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst getUuid = () => {\n  const S4 = () => ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nconst deepCopy = (obj, hash = /* @__PURE__ */ new WeakMap()) => {\n  if (obj === null || typeof obj !== \"object\")\n    return obj;\n  if (obj instanceof Date)\n    return new Date(obj);\n  if (obj instanceof RegExp)\n    return new RegExp(obj);\n  if (obj instanceof Map)\n    return new Map(deepCopy(Array.from(obj), hash));\n  if (obj instanceof Set)\n    return new Set(deepCopy(Array.from(obj), hash));\n  if (hash.has(obj))\n    return hash.get(obj);\n  const copy = Array.isArray(obj) ? [] : Object.create(Object.getPrototypeOf(obj));\n  hash.set(obj, copy);\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      copy[key] = deepCopy(obj[key], hash);\n    }\n  }\n  return copy;\n};\nconst requestDeviceMotionPermission = () => {\n  if (typeof DeviceMotionEvent.requestPermission === \"function\") {\n    return DeviceMotionEvent.requestPermission().then((permissionState) => {\n      if (permissionState === \"granted\") {\n        return true;\n      } else {\n        return false;\n      }\n    }).catch(() => {\n      return false;\n    });\n  } else {\n    return true;\n  }\n};\nconst autoPlayAudio = (audioUrl, isWeixin) => {\n  const audio = new Audio(audioUrl);\n  audio.addEventListener(\n    \"ended\",\n    function() {\n      this.currentTime = 0;\n      this.play();\n    },\n    false\n  );\n  audio.autoplay = true;\n  if (isWeixin) {\n    document.addEventListener(\n      \"WeixinJSBridgeReady\",\n      function() {\n        audio.play();\n      },\n      false\n    );\n  }\n  return audio;\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 公共函数，使用'lj-utils'引入\n */\n\nimport { isJson } from './is'\nimport { Info, AnyObject, Bool } from './types'\n\nlet isOnline: boolean = true\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n// 断网监听\nif (globalThis && globalThis.addEventListener) {\n  // #ifdef H5\n  globalThis.addEventListener('offline', function () {\n    console.debug('offLine')\n    isOnline = false\n  })\n  globalThis.addEventListener('online', function () {\n    console.debug('onLine')\n    isOnline = true\n  })\n  // #endif\n}\n\n/**\n * @function\n * @description 获取当前网络状态（H5）\n * @return boolean\n * @returns {boolean}\n * @example\n * ```\n * const status = getNetworkStatus();\n * ```\n */\nexport const getNetworkStatus = () => {\n  return isOnline\n}\n\n/**\n * @function\n * @description 正则收集\n * @returns {object}\n * @returns {object}\n * @example\n * ```\n * const regex = getRegexp();\n * ```\n */\nexport const getRegexp = (): AnyObject => {\n  return {\n    // 匹配html标签，提取html文字： htmlCode.replace(reg.html,'')\n    html: /<[^>]+>/gim,\n    // 至少1数字1字母1字符，8-16位\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    // 普通身份证号正则，isIdCard更为严格\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    // 简易身份证号 数字+x\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    // 手机号\n    phone: /^1\\d{10}$/,\n    // 邮箱\n    email: /\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/,\n    // 网址\n    http: /http:\\/\\/|https:\\/\\//,\n    // 含0整数（得分）\n    score: /^[1-9]\\d*|0$/,\n    // 整数\n    int: /^[1-9]\\d*$/,\n    // 匹配数字\n    number: /^\\d*$/,\n    // >=0||1位小数\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    // >=0||2位小数\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    // >=0||3位小数\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    // 字母+数字组合\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    // 字母\n    letter: /^[a-zA-Z]*$/,\n    // 帐号50个字内：大小写+数字+中文+'_'+'-'\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    // 中英文姓名 50个字内/中文 中文/英文-. 英文-./\n    realName:\n      /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    // 匹配中文\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    // 匹配ASCII,非中文之外的字符（全角字符）\n    ascii: /^[\\x20-\\x7E]+$/,\n  }\n}\n\n/**\n * @function\n * @description 设置标题\n * @param  {string} argTitle 标题\n */\nexport const setTitle = (argTitle: string | number) => {\n  if (typeof globalThis.document === 'object') {\n    globalThis.document.title = String(argTitle)\n  }\n  if (getInfo().isAppleMobile) {\n    const i = document.createElement('iframe')\n    i.onload = () => {\n      setTimeout(() => {\n        console.debug('apple mobile setting title')\n        i.remove()\n      }, 10)\n    }\n    globalThis.document.body.appendChild(i)\n  }\n}\n\n/**\n * @function\n * @description 使用postcss-px2rem时使用\n * @param {number} argBaseSize 基础大小 16px（要跟配置一致）\n * @param {number} argWidth 基准宽度\n */\nexport const remInit = (argBaseSize: number = 16, argWidth: number = 375) => {\n  // 设置 rem 函数\n  const setRem = () => {\n    // 当前页面宽度相对于 argWidth 宽的缩放比例，可根据自己需要修改。\n    const scale =\n      safeData(globalThis, 'document.documentElement.clientWidth', argWidth) /\n      argWidth\n    // 设置页面根节点字体大小\n    safeData(\n      globalThis,\n      'document.documentElement.style.fontSize',\n      argBaseSize * scale + 'px',\n      true\n    )\n  }\n  // 初始化\n  setRem()\n  // 改变窗口大小时重新设置 rem\n  globalThis.onresize = () => {\n    setRem()\n  }\n}\n\n/**\n * @function\n * @description 获取cookie\n * @param  {string} argName 要获取的值\n * @returns {string}\n */\nexport const getCookie = (argName: string): string => {\n  const cookies = globalThis.document.cookie.split('; ')\n  const cookie = cookies.find((cookie) => {\n    const [name] = cookie.split('=')\n    return argName === name\n  })\n  return cookie ? decodeURIComponent(cookie.split('=')[1] || '') : ''\n}\n/**\n * @function\n * @description 获取cookie对象\n * @returns {object}\n */\nexport const getCookieObj = (): { [key: string]: string } => {\n  const cookies = globalThis.document.cookie.split('; ')\n  const cookieObj: { [key: string]: string } = {}\n  cookies.forEach((cookie) => {\n    const [key, value = ''] = cookie.split('=')\n    cookieObj[key] = decodeURIComponent(value)\n  })\n  return cookieObj\n}\n/**\n * @function\n * @description 设置cookie\n * @param  {string} argName 要设置的key\n * @param  {string} argValue 要设置的value\n * @param  {number} argTime 过期时间/时 默认24\n * @param  {number} argPath path\n * @param  {number} domain domain\n */\nexport const setCookie = (\n  argName: string,\n  argValue: string | number | boolean = '',\n  argTime: number = 24,\n  argPath: string = '/',\n  domain: string = globalThis.location.hostname\n) => {\n  if (argTime === 0) {\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};domain=${domain};`\n  } else {\n    const now = new Date()\n    const offset = 8\n    const utc = now.getTime() + now.getTimezoneOffset() * 60000\n    const nd = utc + 3600000 * offset\n    const exp = new Date(nd)\n    exp.setTime(exp.getTime() + argTime * 60 * 60 * 1000)\n    globalThis.document.cookie = `${argName}=${encodeURIComponent(\n      argValue\n    )};path=${argPath};expires=${exp.toUTCString()};domain=${domain};`\n  }\n}\n\n/**\n * @function\n * @description 清除cookie\n * @param  {string} argName 要清除的值\n */\nexport const delCookie = (argName: string = '') => {\n  setCookie(argName, '', -1)\n}\n\n/**\n * @function\n * @description 检测浏览器状态，系统状态 *\n * @returns {Info} {\n * ua: ua,\n * platform: 平台,\n * isMobile: 移动端,\n * isWin: winPC端,\n * isIphone: iphone,\n * isIpad: ipad,\n * isMac: mac,\n * isAppleMobile: 苹果移动端webview\n * isSafari: Safari浏览器,\n * isIos: Ios平台,\n * isAndroid: android平台,\n * isIE: 显示8 9 10, true为11以上\n * ...\n * }\n */\nexport const getInfo = (): Info => {\n  let ua = safeData(globalThis, 'navigator.userAgent', '').toLowerCase()\n  let platform: string = safeData(\n    globalThis,\n    'navigator.userAgentData.platform',\n    ''\n  ).toLowerCase()\n  let info: Info = {\n    ua: ua,\n    platform: platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match('win'),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match('mac'),\n    isIos: !!platform.match('ios'),\n    isAndroid: !!platform.match('android'),\n    isSafari: ua.indexOf('safari') > -1 && ua.indexOf('chrome') < 1,\n    isIE: 'ActiveXObject' in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i),\n  }\n  if (info.ua.match('msie')) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/)\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1]\n    }\n  }\n  info.isAppleMobile = !!(\n    info.isMobile &&\n    ua.toLowerCase().indexOf('applewebkit') &&\n    ua.indexOf('chrome') < 1\n  )\n  return info\n}\n\n/**\n * @function\n * @description 获取随机颜色\n * @return string\n */\nexport const getRandomColor = function () {\n  return (\n    '#' +\n    ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substring(-6)\n  )\n}\n\n/**\n * @function\n * @description 获取storage的值，默认将json转为obj\n * @param {string} argKey 要获取的key\n * @param {string} argNoJson true时不自动转换JSON字符串\n * @returns {any} key对应的数据\n */\nexport const getStorage = (argKey: string, argNoJson?: string): any => {\n  let res = globalThis.localStorage.getItem(argKey)\n  // 默认转义JSON字符串\n  if (!argNoJson && isJson(res) && res) {\n    res = JSON.parse(res)\n  }\n  return res || ''\n}\n\n/**\n * @function\n * @description 设置storage的值，默认将obj转为json\n * @param {string} argKey 要获取的key\n * @param {unknown} argData 要保存的数据\n * @returns {string} 保存的数据String\n */\nexport const setStorage = (argKey: string, argData: unknown): string => {\n  if (typeof argData === 'object') {\n    argData = JSON.stringify(argData)\n  }\n  globalThis.localStorage.setItem(argKey, String(argData))\n  return String(argData)\n}\n\n/**\n * @function\n * @description setTimeout promise版，异步阻塞函数\n * @param  {number} ms 时间，毫秒\n */\nexport const sleep = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n/**\n * @description 同步阻塞函数。\n * @param {number} time - 延迟的时间量，单位为毫秒\n */\nexport const delay = (time: number = 0) => {\n  let start = Date.now()\n  while (Date.now() - start < time) {\n    continue\n  }\n}\n\n// 返回T下的key对应类型\ntype KeyOf<T extends Record<string, any>, K = keyof T> = K extends string\n  ? T[K] extends Function\n    ? never\n    : K\n  : never\ntype DotField<T extends Record<string, any>, K = KeyOf<T>> = K extends string\n  ? K | `${K}.${DotField<T[K]>}`\n  : never\n// 返回传入K或T[K]对应的类型\ntype ValueOf<\n  T extends Record<string, any>,\n  K\n> = K extends `${infer I}.${infer R}`\n  ? ValueOf<T[I], R>\n  : K extends string\n  ? T[K]\n  : never\n\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safe = function safe<\n  T extends Record<string, any>,\n  K extends DotField<T>\n>(\n  argData: T,\n  argCheck: K,\n  argValue?: ValueOf<T, K>,\n  argSetValueForce?: Bool\n): ValueOf<T, K> | undefined | string {\n  if (!argData) {\n    return argValue\n  }\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    ;(argData as AnyObject)[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        } else {\n          return argValue\n        }\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): AnyObject => {\n  const res: AnyObject = {}\n  try {\n    argData\n      .slice(argData.indexOf('?') + 1)\n      .split('&')\n      .forEach((v) => {\n        const [key, val] = v.split('=')\n        if (key !== v) {\n          res[key] = decodeURIComponent(val)\n        }\n      })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  const reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  const r = url.match(reg)\n  const search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, (_match, p1, _p2, _p3, p4) => {\n        if (!p4 || !p4.length) {\n          return ''\n        } else if (p1 === p4) {\n          return p1\n        }\n        return p1 + p4\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    const sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    const sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  const S4 = () =>\n    (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * @function\n * @description深拷贝函数\n * @param obj 需要拷贝的对象\n * @returns 拷贝后的对象\n */\nexport const deepCopy = (obj: any, hash = new WeakMap()): any => {\n  if (obj === null || typeof obj !== 'object') return obj\n  if (obj instanceof Date) return new Date(obj)\n  if (obj instanceof RegExp) return new RegExp(obj)\n  if (obj instanceof Map) return new Map(deepCopy(Array.from(obj), hash))\n  if (obj instanceof Set) return new Set(deepCopy(Array.from(obj), hash))\n  if (hash.has(obj)) return hash.get(obj)\n\n  const copy = Array.isArray(obj)\n    ? []\n    : Object.create(Object.getPrototypeOf(obj))\n  hash.set(obj, copy)\n\n  for (let key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      copy[key] = deepCopy(obj[key], hash)\n    }\n  }\n  return copy\n}\n\n/**\n * @function\n * @description 摇一摇，请求使用 DeviceMotionEvent API 的权限。for ios\n * @returns Promise，指示是否已授予权限。\n * @example\n * ```\n * const hasRequest = await requestDeviceMotionPermission()\n * if (hasRequest) {\n *    useEventListener(window, 'devicemotion', handleShake)\n *  } else {\n *    showToast('未授权访问运动传感器,请手动点击！')\n *  }\n * ```\n */\nexport const requestDeviceMotionPermission = () => {\n  if (typeof (DeviceMotionEvent as any).requestPermission === 'function') {\n    return (DeviceMotionEvent as any)\n      .requestPermission()\n      .then((permissionState: string) => {\n        if (permissionState === 'granted') {\n          return true\n        } else {\n          return false\n        }\n      })\n      .catch(() => {\n        return false\n      })\n  } else {\n    return true\n  }\n}\n\n/**\n * @function\n * @description 自动播放音频并返回音频元素。\n * @param {string} audioUrl - 音频地址\n * @param {boolean} isWeixin - 是否在微信中\n * @returns {HTMLAudioElement} - 音频元素\n */\nexport const autoPlayAudio = (\n  audioUrl: string,\n  isWeixin: boolean\n): HTMLAudioElement => {\n  const audio = new Audio(audioUrl)\n  audio.addEventListener(\n    'ended',\n    function () {\n      this.currentTime = 0\n      this.play()\n    },\n    false\n  )\n  audio.autoplay = true\n  if (isWeixin) {\n    document.addEventListener(\n      'WeixinJSBridgeReady',\n      function () {\n        audio.play()\n      },\n      false\n    )\n  }\n  return audio\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3960","url":"/home/runner/work/utils/utils/src/base.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":14384,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":14381,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":30}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":30}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":2}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"autoPlayAudio","ranges":[{"startOffset":934,"endOffset":953,"count":0}],"isBlockCoverage":false},{"functionName":"deepCopy","ranges":[{"startOffset":967,"endOffset":981,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":996,"endOffset":1011,"count":0}],"isBlockCoverage":false},{"functionName":"delay","ranges":[{"startOffset":1022,"endOffset":1033,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":1048,"endOffset":1063,"count":0}],"isBlockCoverage":false},{"functionName":"getCookieObj","ranges":[{"startOffset":1081,"endOffset":1099,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":1111,"endOffset":1123,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":1136,"endOffset":1149,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1171,"endOffset":1193,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1205,"endOffset":1217,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":1237,"endOffset":1257,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1272,"endOffset":1287,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":1303,"endOffset":1319,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1336,"endOffset":1353,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1373,"endOffset":1393,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":1406,"endOffset":1419,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":1434,"endOffset":1449,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":1462,"endOffset":1475,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1496,"endOffset":1517,"count":0}],"isBlockCoverage":false},{"functionName":"requestDeviceMotionPermission","ranges":[{"startOffset":1552,"endOffset":1587,"count":0}],"isBlockCoverage":false},{"functionName":"safe","ranges":[{"startOffset":1597,"endOffset":1607,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1621,"endOffset":1635,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":1650,"endOffset":1665,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":1677,"endOffset":1689,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":1701,"endOffset":1713,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1725,"endOffset":1737,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":1753,"endOffset":1769,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":1783,"endOffset":1797,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":1815,"endOffset":1833,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":1844,"endOffset":1855,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2086,"endOffset":2154,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":2197,"endOffset":2263,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":2293,"endOffset":2321,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":2341,"endOffset":3261,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":3280,"endOffset":3672,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":3690,"endOffset":4058,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":4078,"endOffset":4342,"count":0}],"isBlockCoverage":false},{"functionName":"getCookieObj","ranges":[{"startOffset":4365,"endOffset":4611,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":4631,"endOffset":5284,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":5304,"endOffset":5355,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":5373,"endOffset":6376,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":6401,"endOffset":6502,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":6523,"endOffset":6710,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":6731,"endOffset":6921,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":6937,"endOffset":7008,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6968,"endOffset":7004,"count":2}],"isBlockCoverage":true},{"functionName":"delay","ranges":[{"startOffset":7024,"endOffset":7123,"count":0}],"isBlockCoverage":false},{"functionName":"safe2","ranges":[{"startOffset":7138,"endOffset":8047,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":8066,"endOffset":8977,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":9000,"endOffset":9329,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":9351,"endOffset":9563,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":9588,"endOffset":9983,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":10009,"endOffset":11221,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":11239,"endOffset":11408,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":11428,"endOffset":11564,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":11581,"endOffset":11606,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":11623,"endOffset":11668,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":11685,"endOffset":11807,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":11824,"endOffset":12057,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":12074,"endOffset":12883,"count":0}],"isBlockCoverage":false},{"functionName":"deepCopy","ranges":[{"startOffset":12902,"endOffset":13589,"count":0}],"isBlockCoverage":false},{"functionName":"requestDeviceMotionPermission","ranges":[{"startOffset":13629,"endOffset":13972,"count":0}],"isBlockCoverage":false},{"functionName":"autoPlayAudio","ranges":[{"startOffset":13996,"endOffset":14377,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\r\n * @module index\r\n * @author linjielinlin 993353454@qq.com\r\n * @date 2022-05-11 22:07:43\r\n * @description 判断函数\r\n */\r\n/**\r\n * @function isPrime\r\n * @description 判断一个数是否为质数\r\n * @param {number} argValue 需要判断的数值\r\n * @returns {boolean} 如果是质数返回true，否则返回false\r\n * @example\r\n * isPrime(5); // true\r\n */\r\nexport const isPrime = (argValue: number): boolean =>\r\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\r\n\r\n/**\r\n * @function isJson\r\n * @description 判断一个值是否为JSON\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是JSON返回true，否则返回false\r\n * @example\r\n * isJson('{\"name\":\"John\"}'); // true\r\n */\r\nexport const isJson = (argData: any): boolean => {\r\n  try {\r\n    return typeof JSON.parse(argData || '') === 'object'\r\n  } catch (e) {}\r\n  return false\r\n}\r\n/**\r\n * @function isBlob\r\n * @description 判断一个值是否为Blob\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是Blob返回true，否则返回false\r\n * @example\r\n * isBlob(new Blob()); // true\r\n */\r\nexport const isBlob = (argData: any): boolean => {\r\n  return argData instanceof Blob\r\n}\r\n\r\n/**\r\n * @function isFile\r\n * @description 判断一个值是否为File\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是File返回true，否则返回false\r\n * @example\r\n * isFile(new File([\"\"], \"filename\")); // true\r\n */\r\nexport const isFile = (argData: any): boolean => {\r\n  return argData instanceof File\r\n}\r\n\r\n/**\r\n * @function isIdCard\r\n * @description 判断一个字符串是否为正确的身份证号码\r\n * @param  {string} code 身份证号码\r\n * @returns {boolean} 如果是正确的身份证号码返回true，否则返回false\r\n * @example\r\n * isIdCard('320311770706001'); // false\r\n */\r\nexport const isIdCard = (code: string): boolean => {\r\n  let tip = ''\r\n  let city: { [key: number]: string } = {\r\n    11: '北京',\r\n    12: '天津',\r\n    13: '河北',\r\n    14: '山西',\r\n    15: '内蒙古',\r\n    21: '辽宁',\r\n    22: '吉林',\r\n    23: '黑龙江 ',\r\n    31: '上海',\r\n    32: '江苏',\r\n    33: '浙江',\r\n    34: '安徽',\r\n    35: '福建',\r\n    36: '江西',\r\n    37: '山东',\r\n    41: '河南',\r\n    42: '湖北 ',\r\n    43: '湖南',\r\n    44: '广东',\r\n    45: '广西',\r\n    46: '海南',\r\n    50: '重庆',\r\n    51: '四川',\r\n    52: '贵州',\r\n    53: '云南',\r\n    54: '西藏 ',\r\n    61: '陕西',\r\n    62: '甘肃',\r\n    63: '青海',\r\n    64: '宁夏',\r\n    65: '新疆',\r\n    71: '台湾',\r\n    81: '香港',\r\n    82: '澳门',\r\n    91: '国外 ',\r\n  }\r\n  let pass = true\r\n  if (\r\n    !code ||\r\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\r\n      code\r\n    )\r\n  ) {\r\n    tip = '身份证号格式错误'\r\n    pass = false\r\n  } else if (!city[+code.substring(0, 2)]) {\r\n    tip = '地址编码错误'\r\n    pass = false\r\n  } else {\r\n    // 18位身份证需要验证最后一位校验位\r\n    if (code.length === 18) {\r\n      const codeArr = code.split('')\r\n      // ∑(ai×Wi)(mod 11)\r\n      // 加权因子\r\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\r\n      // 校验位\r\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\r\n      let sum = 0\r\n      let ai = 0\r\n      let wi = 0\r\n      for (let i = 0; i < 17; i++) {\r\n        ai = Number(codeArr[i])\r\n        wi = factor[i]\r\n        sum += ai * wi\r\n      }\r\n      let last = parity[sum % 11] + ''\r\n      if (last !== code[17]) {\r\n        tip = '校验位错误'\r\n        pass = false\r\n      }\r\n    }\r\n  }\r\n  console.assert(!tip, tip)\r\n  return pass\r\n}\r\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3961","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":4,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1706283604235,"runtime":193,"slow":false,"start":1706283604042},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/is.spec.ts","testResults":[{"rowKey":0,"ancestorTitles":["is"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"is isJson","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"isJson"},{"rowKey":1,"ancestorTitles":["is"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"is isBlobMock","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"isBlobMock"},{"rowKey":2,"ancestorTitles":["is"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"is isFileMock","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"isFileMock"},{"rowKey":3,"ancestorTitles":["is"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"is isIdCard","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"isIdCard"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\r\n * @module index\r\n * @author linjielinlin 993353454@qq.com\r\n * @date 2022-05-11 22:07:43\r\n * @description 判断函数\r\n */\r\n/**\r\n * @function isPrime\r\n * @description 判断一个数是否为质数\r\n * @param {number} argValue 需要判断的数值\r\n * @returns {boolean} 如果是质数返回true，否则返回false\r\n * @example\r\n * isPrime(5); // true\r\n */\r\nexport const isPrime = (argValue: number): boolean =>\r\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\r\n\r\n/**\r\n * @function isJson\r\n * @description 判断一个值是否为JSON\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是JSON返回true，否则返回false\r\n * @example\r\n * isJson('{\"name\":\"John\"}'); // true\r\n */\r\nexport const isJson = (argData: any): boolean => {\r\n  try {\r\n    return typeof JSON.parse(argData || '') === 'object'\r\n  } catch (e) {}\r\n  return false\r\n}\r\n/**\r\n * @function isBlob\r\n * @description 判断一个值是否为Blob\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是Blob返回true，否则返回false\r\n * @example\r\n * isBlob(new Blob()); // true\r\n */\r\nexport const isBlob = (argData: any): boolean => {\r\n  return argData instanceof Blob\r\n}\r\n\r\n/**\r\n * @function isFile\r\n * @description 判断一个值是否为File\r\n * @param  {any} argData 需要判断的数据\r\n * @returns {boolean} 如果是File返回true，否则返回false\r\n * @example\r\n * isFile(new File([\"\"], \"filename\")); // true\r\n */\r\nexport const isFile = (argData: any): boolean => {\r\n  return argData instanceof File\r\n}\r\n\r\n/**\r\n * @function isIdCard\r\n * @description 判断一个字符串是否为正确的身份证号码\r\n * @param  {string} code 身份证号码\r\n * @returns {boolean} 如果是正确的身份证号码返回true，否则返回false\r\n * @example\r\n * isIdCard('320311770706001'); // false\r\n */\r\nexport const isIdCard = (code: string): boolean => {\r\n  let tip = ''\r\n  let city: { [key: number]: string } = {\r\n    11: '北京',\r\n    12: '天津',\r\n    13: '河北',\r\n    14: '山西',\r\n    15: '内蒙古',\r\n    21: '辽宁',\r\n    22: '吉林',\r\n    23: '黑龙江 ',\r\n    31: '上海',\r\n    32: '江苏',\r\n    33: '浙江',\r\n    34: '安徽',\r\n    35: '福建',\r\n    36: '江西',\r\n    37: '山东',\r\n    41: '河南',\r\n    42: '湖北 ',\r\n    43: '湖南',\r\n    44: '广东',\r\n    45: '广西',\r\n    46: '海南',\r\n    50: '重庆',\r\n    51: '四川',\r\n    52: '贵州',\r\n    53: '云南',\r\n    54: '西藏 ',\r\n    61: '陕西',\r\n    62: '甘肃',\r\n    63: '青海',\r\n    64: '宁夏',\r\n    65: '新疆',\r\n    71: '台湾',\r\n    81: '香港',\r\n    82: '澳门',\r\n    91: '国外 ',\r\n  }\r\n  let pass = true\r\n  if (\r\n    !code ||\r\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\r\n      code\r\n    )\r\n  ) {\r\n    tip = '身份证号格式错误'\r\n    pass = false\r\n  } else if (!city[+code.substring(0, 2)]) {\r\n    tip = '地址编码错误'\r\n    pass = false\r\n  } else {\r\n    // 18位身份证需要验证最后一位校验位\r\n    if (code.length === 18) {\r\n      const codeArr = code.split('')\r\n      // ∑(ai×Wi)(mod 11)\r\n      // 加权因子\r\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\r\n      // 校验位\r\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\r\n      let sum = 0\r\n      let ai = 0\r\n      let wi = 0\r\n      for (let i = 0; i < 17; i++) {\r\n        ai = Number(codeArr[i])\r\n        wi = factor[i]\r\n        sum += ai * wi\r\n      }\r\n      let last = parity[sum % 11] + ''\r\n      if (last !== code[17]) {\r\n        tip = '校验位错误'\r\n        pass = false\r\n      }\r\n    }\r\n  }\r\n  console.assert(!tip, tip)\r\n  return pass\r\n}\r\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"4217","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":4}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":1}],"isBlockCoverage":true},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":1}],"isBlockCoverage":true},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":1}],"isBlockCoverage":true},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":1}],"isBlockCoverage":true},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":2},{"startOffset":1245,"endOffset":1250,"count":0},{"startOffset":1270,"endOffset":1302,"count":0}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":2}],"isBlockCoverage":true},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":1}],"isBlockCoverage":true},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":3},{"startOffset":2488,"endOffset":2573,"count":2},{"startOffset":2573,"endOffset":3231,"count":1},{"startOffset":2613,"endOffset":2686,"count":0},{"startOffset":2982,"endOffset":3072,"count":17}],"isBlockCoverage":true}]}}]}],"wasInterrupted":false,"config":{"bail":0,"changedFilesWithAncestor":false,"collectCoverage":true,"collectCoverageFrom":[],"coverageDirectory":"/home/runner/work/utils/utils/dist/cove","coverageProvider":"v8","coverageReporters":["json","text","lcov","clover"],"detectLeaks":false,"detectOpenHandles":true,"errorOnDeprecated":false,"expand":false,"findRelatedTests":false,"forceExit":true,"json":false,"lastCommit":false,"listTests":false,"logHeapUsage":false,"maxConcurrency":5,"maxWorkers":3,"noStackTrace":false,"nonFlagArgs":[],"notify":false,"notifyMode":"failure-change","onlyChanged":false,"onlyFailures":false,"passWithNoTests":false,"projects":[],"reporters":[["default",{}],["/home/runner/work/utils/utils/node_modules/.pnpm/jest-html-reporters@3.1.3/node_modules/jest-html-reporters/index.js",{"publicPath":"./dist/coverage","filename":"index.html","openReport":false}]],"rootDir":"/home/runner/work/utils/utils","runTestsByPath":false,"skipFilter":false,"testFailureExitCode":1,"testPathPattern":"","testSequencer":"/home/runner/work/utils/utils/node_modules/.pnpm/@jest+test-sequencer@27.5.1/node_modules/@jest/test-sequencer/build/index.js","updateSnapshot":"new","useStderr":false,"watch":false,"watchAll":false,"watchman":true,"coverageLinkPath":"../cove/lcov-report/index.html"},"endTime":1706283604363,"_reporterOptions":{"publicPath":"./dist/coverage","filename":"index.html","expand":false,"pageTitle":"","hideIcon":false,"testCommand":"","openReport":false,"failureMessageOnly":0,"enableMergeData":false,"dataMergeLevel":1,"inlineSource":false,"urlForTestFiles":"","darkTheme":false,"includeConsoleLog":false},"logInfoMapping":{},"attachInfos":{}})