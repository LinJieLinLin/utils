window.jest_html_reporters_callback__({"numFailedTestSuites":0,"numFailedTests":0,"numPassedTestSuites":10,"numPassedTests":56,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":10,"numTotalTests":56,"startTime":1673578746227,"success":false,"testResults":[{"leaks":false,"numFailingTests":0,"numPassingTests":16,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1673578747132,"runtime":425,"slow":false,"start":1673578746707},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/data.spec.ts","testResults":[{"ancestorTitles":["data"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"data safeData","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"safeData"},{"ancestorTitles":["data"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"data toFixed","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"toFixed"},{"ancestorTitles":["data"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"data toLine","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"toLine"},{"ancestorTitles":["data"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"data toHump","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"toHump"},{"ancestorTitles":["data"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"data string10to62","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"string10to62"},{"ancestorTitles":["data"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"data string62to10","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"string62to10"},{"ancestorTitles":["data"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"data setUrlParams","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"setUrlParams"},{"ancestorTitles":["data"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"data getUrlParam","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getUrlParam"},{"ancestorTitles":["data"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"data getUrlParamObj","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getUrlParamObj"},{"ancestorTitles":["data"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"data replaceUrlParam","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"replaceUrlParam"},{"ancestorTitles":["data"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"data encodeHtml","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"encodeHtml"},{"ancestorTitles":["data"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"data decodeHtml","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"decodeHtml"},{"ancestorTitles":["data"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"data hideInfo","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"hideInfo"},{"ancestorTitles":["data"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"data getUuid","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getUuid"},{"ancestorTitles":["data"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"data randomInt","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"randomInt"},{"ancestorTitles":["data"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"data setEnv","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"setEnv"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  decodeHtml: () => decodeHtml,\n  encodeHtml: () => encodeHtml,\n  getEnv: () => getEnv,\n  getObj: () => getObj,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  hideInfo: () => hideInfo,\n  randomInt: () => randomInt,\n  replaceUrlParam: () => replaceUrlParam,\n  safeData: () => safeData,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setUrlParams: () => setUrlParams,\n  string10to62: () => string10to62,\n  string62to10: () => string62to10,\n  toFixed: () => toFixed,\n  toHump: () => toHump,\n  toLine: () => toLine,\n  toList: () => toList\n});\nmodule.exports = __toCommonJS(stdin_exports);\nlet ENV = {};\nlet DATA_OBJECT = {};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst toFixed = (argData, argNum = 2, argType = \"string\") => {\n  let data = Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum);\n  data = (+data || 0).toFixed(argNum);\n  return argType === \"string\" ? data : +data;\n};\nconst toLine = (argData, argUnit = \"_\") => {\n  return argData.replace(/([A-Z])/g, argUnit + \"$1\").toLowerCase();\n};\nconst toHump = (argData, argUnit = \"_\") => {\n  return argData.replace(\n    new RegExp(\"\\\\\" + argUnit + \"(\\\\w)\", \"g\"),\n    (_, letter) => {\n      return letter.toUpperCase();\n    }\n  );\n};\nconst string10to62 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\".split(\"\");\n  let radix = chars.length;\n  let data = +argData;\n  let arr = [];\n  do {\n    let mod = data % radix;\n    data = (data - mod) / radix;\n    arr.unshift(chars[mod]);\n  } while (data);\n  return arr.join(\"\");\n};\nconst string62to10 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\";\n  let radix = chars.length;\n  let len = argData.length;\n  let i = 0;\n  let resNum = 0;\n  while (i < len) {\n    resNum += Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || \"0\");\n  }\n  return resNum;\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData = decodeURIComponent(argData);\n    let temArr = argData.split(\"?\");\n    argData = temArr.pop() || \"\";\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key, value) => {\n      res[key] = value;\n      return \"\";\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  let reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  let r = url.match(reg);\n  let search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function() {\n        if (!arguments[4] || !arguments[4].length) {\n          return \"\";\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1];\n        }\n        return arguments[1] + arguments[4];\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    let sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    let sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst encodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&/g, \"&amp;\");\n  argHtml = argHtml.replace(/</g, \"&lt;\");\n  argHtml = argHtml.replace(/>/g, \"&gt;\");\n  argHtml = argHtml.replace(/'/g, \"&#39;\");\n  argHtml = argHtml.replace(/\"/g, \"&quot;\");\n  argHtml = argHtml.replace(/ /g, \"&nbsp;\");\n  argHtml = argHtml.replace(/\\n/g, \"<br>\");\n  return argHtml;\n};\nconst decodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&amp;/g, \"&\");\n  argHtml = argHtml.replace(/&lt;/g, \"<\");\n  argHtml = argHtml.replace(/&gt;/g, \">\");\n  argHtml = argHtml.replace(/&#39;/g, \"'\");\n  argHtml = argHtml.replace(/&quot;/g, '\"');\n  argHtml = argHtml.replace(/&nbsp;/g, \" \");\n  argHtml = argHtml.replace(/<br>/g, \"\\n\");\n  return argHtml;\n};\nconst hideInfo = (argData = \"\", argStart = 3, argEnd = 4) => {\n  argData = String(argData);\n  let temLen = argData.length;\n  let temSL = argData.length - argEnd - argStart;\n  let start = \"\";\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += \"*\";\n    }\n    argData = argData.substring(0, argStart) + start + argData.substring(temLen - argEnd, temLen);\n  }\n  return argData;\n};\nconst getUuid = () => {\n  function S4() {\n    return ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  }\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nfunction toList(map, getItem) {\n  const list = [];\n  Object.keys(map).forEach((key) => {\n    const item = getItem(key, map[key]);\n    list.push(item);\n  });\n  return list;\n}\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 类字符串/参数处理\n */\n\nimport { AnyObject, Bool } from './types'\n\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * 描述\n * @function\n * @description toFixed处理\n * @date 2020-03-01\n * @param {string|number} argData 要处理的数据\n * @param {number} argNum 要保留位数,默认返回2位小数\n * @param {string} argType 返回类型，默认返回字符串\n * @returns {string|number} 返回处理好的数据\n */\nexport const toFixed = (\n  argData: string | number,\n  argNum: number = 2,\n  argType: string = 'string'\n): string | number => {\n  let data: number | string =\n    Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum)\n  data = (+data || 0).toFixed(argNum)\n  return argType === 'string' ? data : +data\n}\n/**\n * @function\n * @description 驼峰转下划线\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toLine = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(/([A-Z])/g, argUnit + '$1').toLowerCase()\n}\n\n/**\n * @function\n * @description 下划线转驼峰\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toHump = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(\n    new RegExp('\\\\' + argUnit + '(\\\\w)', 'g'),\n    (_, letter) => {\n      return letter.toUpperCase()\n    }\n  )\n}\n/**\n * 描述\n * @function\n * @description 10进制转62进制,用于短网址转换\n * @date 2020-03-01\n * @param {number|string} argData 要处理的数据\n * @returns {string} 返回处理好的数据\n */\nexport const string10to62 = (argData: number | string): string => {\n  let chars =\n    '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'.split('')\n  let radix = chars.length\n  let data = +argData\n  let arr = []\n  do {\n    let mod = data % radix\n    data = (data - mod) / radix\n    arr.unshift(chars[mod])\n  } while (data)\n  return arr.join('')\n}\n/**\n * 描述\n * @function\n * @description 62进制转10进制,用于短网址转换\n * @date 2020-03-01\n * @param {string} argData 要处理的数据\n * @returns {number} 返回处理好的数据\n */\nexport const string62to10 = (argData: string): number => {\n  let chars = '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'\n  let radix = chars.length\n  let len = argData.length\n  let i = 0\n  let resNum = 0\n  while (i < len) {\n    resNum +=\n      Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || '0')\n  }\n  return resNum\n}\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): any => {\n  const res: any = {}\n  try {\n    argData = decodeURIComponent(argData)\n    let temArr = argData.split('?')\n    argData = temArr.pop() || ''\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key: string, value) => {\n      res[key] = value\n      return ''\n    })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  let reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  let r = url.match(reg)\n  let search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function () {\n        if (!arguments[4] || !arguments[4].length) {\n          return ''\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1]\n        }\n        return arguments[1] + arguments[4]\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    let sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    let sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 转义html标签\n * @param  {string} argHtml 需要转义的文本\n * @returns {string}\n */\nexport const encodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&/g, '&amp;')\n  argHtml = argHtml.replace(/</g, '&lt;')\n  argHtml = argHtml.replace(/>/g, '&gt;')\n  argHtml = argHtml.replace(/'/g, '&#39;')\n  argHtml = argHtml.replace(/\"/g, '&quot;')\n  argHtml = argHtml.replace(/ /g, '&nbsp;')\n  argHtml = argHtml.replace(/\\n/g, '<br>')\n  return argHtml\n}\n\n/**\n * @function\n * @description 反转义html标签\n * @param  {string} argHtml 需要反转义的文本\n * @returns {string}\n */\nexport const decodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&amp;/g, '&')\n  argHtml = argHtml.replace(/&lt;/g, '<')\n  argHtml = argHtml.replace(/&gt;/g, '>')\n  argHtml = argHtml.replace(/&#39;/g, \"'\")\n  argHtml = argHtml.replace(/&quot;/g, '\"')\n  argHtml = argHtml.replace(/&nbsp;/g, ' ')\n  argHtml = argHtml.replace(/<br>/g, '\\n')\n  return argHtml\n}\n\n/**\n * 描述\n * @function\n * @description 数据中间加星号\n * @param {string|number} argData 要处理的数据\n * @param {number} argStart=3 前端显示多少位\n * @param {number} argEnd=4 后面显示多少位\n * @returns {string} 返回处理好的数据\n */\nexport const hideInfo = (\n  argData: string | number = '',\n  argStart: number = 3,\n  argEnd: number = 4\n): string => {\n  argData = String(argData)\n  let temLen = argData.length\n  let temSL = argData.length - argEnd - argStart\n  let start = ''\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += '*'\n    }\n    argData =\n      argData.substring(0, argStart) +\n      start +\n      argData.substring(temLen - argEnd, temLen)\n  }\n  return argData\n}\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  function S4() {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  }\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * map 转为 list，list item 具体是什么取决于传入的 getItem 函数\n * @param map\n * @param getItem\n * @return getItem()[]\n */\nexport function toList<V, K extends string, Item>(\n  map: Record<K, V>,\n  getItem: (key: K, value: V) => Item\n) {\n  const list = [] as Item[]\n  Object.keys(map).forEach((key: any) => {\n    // @ts-ignore, trust me.\n    const item = getItem(key, map[key])\n    list.push(item)\n  })\n  return list\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2293","url":"/home/runner/work/utils/utils/src/data.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":9154,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":9151,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":21}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":21}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":20}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"decodeHtml","ranges":[{"startOffset":931,"endOffset":947,"count":1}],"isBlockCoverage":true},{"functionName":"encodeHtml","ranges":[{"startOffset":963,"endOffset":979,"count":1}],"isBlockCoverage":true},{"functionName":"getEnv","ranges":[{"startOffset":991,"endOffset":1003,"count":4}],"isBlockCoverage":true},{"functionName":"getObj","ranges":[{"startOffset":1015,"endOffset":1027,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1044,"endOffset":1061,"count":1}],"isBlockCoverage":true},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1081,"endOffset":1101,"count":1}],"isBlockCoverage":true},{"functionName":"getUuid","ranges":[{"startOffset":1114,"endOffset":1127,"count":1}],"isBlockCoverage":true},{"functionName":"hideInfo","ranges":[{"startOffset":1141,"endOffset":1155,"count":1}],"isBlockCoverage":true},{"functionName":"randomInt","ranges":[{"startOffset":1170,"endOffset":1185,"count":1}],"isBlockCoverage":true},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1206,"endOffset":1227,"count":1}],"isBlockCoverage":true},{"functionName":"safeData","ranges":[{"startOffset":1241,"endOffset":1255,"count":1}],"isBlockCoverage":true},{"functionName":"setEnv","ranges":[{"startOffset":1267,"endOffset":1279,"count":1}],"isBlockCoverage":true},{"functionName":"setLog","ranges":[{"startOffset":1291,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1315,"endOffset":1327,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":1345,"endOffset":1363,"count":1}],"isBlockCoverage":true},{"functionName":"string10to62","ranges":[{"startOffset":1381,"endOffset":1399,"count":1}],"isBlockCoverage":true},{"functionName":"string62to10","ranges":[{"startOffset":1417,"endOffset":1435,"count":1}],"isBlockCoverage":true},{"functionName":"toFixed","ranges":[{"startOffset":1448,"endOffset":1461,"count":1}],"isBlockCoverage":true},{"functionName":"toHump","ranges":[{"startOffset":1473,"endOffset":1485,"count":1}],"isBlockCoverage":true},{"functionName":"toLine","ranges":[{"startOffset":1497,"endOffset":1509,"count":1}],"isBlockCoverage":true},{"functionName":"toList","ranges":[{"startOffset":1521,"endOffset":1533,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1637,"endOffset":2529,"count":14},{"startOffset":1725,"endOffset":1756,"count":0},{"startOffset":1758,"endOffset":1862,"count":0},{"startOffset":1960,"endOffset":1986,"count":1},{"startOffset":1986,"endOffset":2005,"count":13},{"startOffset":2005,"endOffset":2305,"count":2},{"startOffset":2048,"endOffset":2301,"count":3},{"startOffset":2100,"endOffset":2253,"count":1},{"startOffset":2253,"endOffset":2289,"count":2},{"startOffset":2289,"endOffset":2294,"count":0},{"startOffset":2301,"endOffset":2305,"count":1},{"startOffset":2305,"endOffset":2330,"count":12},{"startOffset":2330,"endOffset":2379,"count":1},{"startOffset":2379,"endOffset":2419,"count":12},{"startOffset":2419,"endOffset":2464,"count":4},{"startOffset":2464,"endOffset":2527,"count":8},{"startOffset":2511,"endOffset":2522,"count":5}],"isBlockCoverage":true},{"functionName":"toFixed","ranges":[{"startOffset":2547,"endOffset":2761,"count":7},{"startOffset":2691,"endOffset":2695,"count":2},{"startOffset":2744,"endOffset":2750,"count":4},{"startOffset":2751,"endOffset":2758,"count":3}],"isBlockCoverage":true},{"functionName":"toLine","ranges":[{"startOffset":2778,"endOffset":2877,"count":2}],"isBlockCoverage":true},{"functionName":"toHump","ranges":[{"startOffset":2894,"endOffset":3065,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3001,"endOffset":3058,"count":2}],"isBlockCoverage":true},{"functionName":"string10to62","ranges":[{"startOffset":3088,"endOffset":3399,"count":1},{"startOffset":3265,"endOffset":3360,"count":2}],"isBlockCoverage":true},{"functionName":"string62to10","ranges":[{"startOffset":3422,"endOffset":3730,"count":1},{"startOffset":3622,"endOffset":3711,"count":2},{"startOffset":3699,"endOffset":3705,"count":0}],"isBlockCoverage":true},{"functionName":"setUrlParams","ranges":[{"startOffset":3753,"endOffset":4082,"count":3},{"startOffset":3808,"endOffset":3827,"count":1},{"startOffset":3926,"endOffset":3946,"count":1},{"startOffset":3946,"endOffset":4081,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3964,"endOffset":4065,"count":3},{"startOffset":4037,"endOffset":4061,"count":1}],"isBlockCoverage":true},{"functionName":"getUrlParam","ranges":[{"startOffset":4104,"endOffset":4316,"count":4},{"startOffset":4150,"endOffset":4155,"count":1},{"startOffset":4254,"endOffset":4274,"count":1},{"startOffset":4274,"endOffset":4315,"count":3}],"isBlockCoverage":true},{"functionName":"getUrlParamObj","ranges":[{"startOffset":4341,"endOffset":4772,"count":7},{"startOffset":4379,"endOffset":4406,"count":1},{"startOffset":4546,"endOffset":4551,"count":1},{"startOffset":4689,"endOffset":4770,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4599,"endOffset":4666,"count":6}],"isBlockCoverage":true},{"functionName":"replaceUrlParam","ranges":[{"startOffset":4798,"endOffset":6051,"count":12},{"startOffset":4843,"endOffset":4848,"count":0},{"startOffset":5030,"endOffset":5047,"count":11},{"startOffset":5049,"endOffset":5395,"count":4},{"startOffset":5395,"endOffset":6030,"count":8},{"startOffset":5416,"endOffset":5472,"count":5},{"startOffset":5472,"endOffset":6030,"count":3},{"startOffset":5501,"endOffset":5843,"count":2},{"startOffset":5563,"endOffset":5763,"count":0},{"startOffset":5843,"endOffset":6030,"count":1},{"startOffset":5905,"endOffset":5969,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5106,"endOffset":5337,"count":4},{"startOffset":5145,"endOffset":5168,"count":2},{"startOffset":5170,"endOffset":5336,"count":2},{"startOffset":5243,"endOffset":5285,"count":0}],"isBlockCoverage":true},{"functionName":"encodeHtml","ranges":[{"startOffset":6072,"endOffset":6475,"count":2},{"startOffset":6102,"endOffset":6125,"count":1},{"startOffset":6127,"endOffset":6474,"count":1}],"isBlockCoverage":true},{"functionName":"decodeHtml","ranges":[{"startOffset":6496,"endOffset":6899,"count":1},{"startOffset":6551,"endOffset":6571,"count":0}],"isBlockCoverage":true},{"functionName":"hideInfo","ranges":[{"startOffset":6918,"endOffset":7297,"count":5},{"startOffset":7109,"endOffset":7277,"count":3},{"startOffset":7147,"endOffset":7174,"count":6}],"isBlockCoverage":true},{"functionName":"getUuid","ranges":[{"startOffset":7315,"endOffset":7498,"count":1}],"isBlockCoverage":true},{"functionName":"S4","ranges":[{"startOffset":7325,"endOffset":7416,"count":5}],"isBlockCoverage":true},{"functionName":"randomInt","ranges":[{"startOffset":7518,"endOffset":7654,"count":3}],"isBlockCoverage":true},{"functionName":"setEnv","ranges":[{"startOffset":7671,"endOffset":7696,"count":1}],"isBlockCoverage":true},{"functionName":"getEnv","ranges":[{"startOffset":7713,"endOffset":7758,"count":4}],"isBlockCoverage":true},{"functionName":"setObj","ranges":[{"startOffset":7775,"endOffset":7897,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":7914,"endOffset":8147,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":8164,"endOffset":8973,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":8975,"endOffset":9148,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":7,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1673578747401,"runtime":214,"slow":false,"start":1673578747187},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/transform.spec.ts","testResults":[{"ancestorTitles":["transform"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"transform rmbPrice","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"rmbPrice"},{"ancestorTitles":["transform"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"transform formatTime","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"formatTime"},{"ancestorTitles":["transform"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"transform friendlyTime","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"friendlyTime"},{"ancestorTitles":["transform"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"transform px2vw","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"px2vw"},{"ancestorTitles":["transform"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"transform secondToTime","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"secondToTime"},{"ancestorTitles":["transform"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"transform formatSize","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"formatSize"},{"ancestorTitles":["transform"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"transform formatNumber","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"formatNumber"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  formatNumber: () => formatNumber,\n  formatSize: () => formatSize,\n  formatTime: () => formatTime,\n  friendlyTime: () => friendlyTime,\n  px2vw: () => px2vw,\n  rmbPrice: () => rmbPrice,\n  secondToTime: () => secondToTime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_data = require(\"./data\");\nvar import_data2 = require(\"./data\");\nconst rmbPrice = (argData, argRate = -1, argUnit = \"\\uFFE5\", argDef = \"--\") => {\n  if (typeof argData === \"string\" || typeof argData === \"number\") {\n    if (!argData && argData !== 0) {\n      return argDef;\n    }\n  } else {\n    return argDef;\n  }\n  argData = Number(argData);\n  if (argRate > -1) {\n    argData = +(0, import_data.toFixed)(argData, argRate);\n  }\n  return argUnit + argData;\n};\nconst formatTime = (date = +new Date(), fmt = \"YYYY-MM-DD HH:mm:ss\", emptyTip = \"\") => {\n  if (!date && date !== 0) {\n    return emptyTip;\n  }\n  if (isNaN(+date)) {\n    return emptyTip;\n  }\n  if (typeof date === \"number\") {\n    if (date.toString().length === 10) {\n      date = date * 1e3;\n    }\n  }\n  date = new Date(+date);\n  const fmtMap = {\n    \"M+\": date.getMonth() + 1,\n    \"D+\": date.getDate(),\n    \"h+\": date.getHours() % 12 === 0 ? 12 : date.getHours() % 12,\n    \"H+\": date.getHours(),\n    \"m+\": date.getMinutes(),\n    \"s+\": date.getSeconds(),\n    \"q+\": Math.floor((date.getMonth() + 3) / 3),\n    S: date.getMilliseconds()\n  };\n  const week = {\n    0: \"\\u65E5\",\n    1: \"\\u4E00\",\n    2: \"\\u4E8C\",\n    3: \"\\u4E09\",\n    4: \"\\u56DB\",\n    5: \"\\u4E94\",\n    6: \"\\u516D\"\n  };\n  const temY = fmt.match(/(Y+)/);\n  if (temY) {\n    fmt = fmt.replace(\n      temY[0],\n      (date.getFullYear() + \"\").substring(4 - temY[0].length)\n    );\n  }\n  const temWeek = fmt.match(/(E+)/);\n  if (temWeek) {\n    const temWeekName = [\"\", \"\\u5468\"];\n    fmt = fmt.replace(\n      temWeek[0],\n      (temWeekName[temWeek[0].length] || \"\\u661F\\u671F\") + (0, import_data2.safeData)(week, date.getDay().toString(), \"\")\n    );\n  }\n  for (let k in fmtMap) {\n    let temMatch = fmt.match(new RegExp(\"(\" + k + \")\"));\n    if (temMatch) {\n      fmt = fmt.replace(\n        temMatch[0],\n        temMatch[0].length === 1 ? fmtMap[k].toString() : (\"00\" + fmtMap[k].toString()).substring((\"\" + fmtMap[k]).length)\n      );\n    }\n  }\n  return fmt;\n};\nconst friendlyTime = (date = +new Date(), fmt = \"YYYY-MM-DD HH:mm:ss\", emptyTip = \"\") => {\n  if (!date && date !== 0) {\n    return emptyTip;\n  }\n  if (isNaN(+date)) {\n    return emptyTip;\n  }\n  if (typeof date === \"number\" || typeof date === \"string\") {\n    if (date.toString().length === 10) {\n      date = date.toString() + \"000\";\n    }\n  }\n  date = new Date(+date);\n  let diff = (new Date().getTime() - date.getTime()) / 1e3;\n  let dayDiff = Math.floor(diff / 86400);\n  let isValidDate = Object.prototype.toString.call(date) === \"[object Date]\" && !isNaN(date.getTime());\n  if (!isValidDate) {\n    console.warn(\"friendlyTime:\", \"not a valid date\");\n    return emptyTip || \"--\";\n  }\n  if (isNaN(dayDiff) || dayDiff < 0 || dayDiff >= 365) {\n    return formatTime(date, fmt);\n  }\n  return (dayDiff === 0 && (diff < 60 && \"\\u521A\\u521A\" || diff < 120 && \"1\\u5206\\u949F\\u524D\" || diff < 3600 && Math.floor(diff / 60) + \"\\u5206\\u949F\\u524D\" || diff < 7200 && \"1\\u5C0F\\u65F6\\u524D\" || diff < 86400 && Math.floor(diff / 3600) + \"\\u5C0F\\u65F6\\u524D\") || dayDiff === 1 && \"\\u6628\\u5929\" || dayDiff < 7 && dayDiff + \"\\u5929\\u524D\" || dayDiff < 31 && Math.ceil(dayDiff / 7) + \"\\u5468\\u524D\" || dayDiff < 365 && Math.ceil(dayDiff / 31) + \"\\u6708\\u524D\").toString();\n};\nconst px2vw = (argPx, argWith = 375, argNum = 6, argUnit = \"vw\") => {\n  return +(0, import_data.toFixed)(100 / argWith * argPx, argNum) + argUnit;\n};\nconst secondToTime = (argData, argType = \"y\", argOption = {}) => {\n  let res = [];\n  let list = [\n    {\n      size: 1,\n      type: \"s\",\n      unit: \"\",\n      index: 0\n    },\n    {\n      size: 60,\n      unit: \":\",\n      type: \"m\",\n      index: 1\n    },\n    {\n      size: 60,\n      unit: \":\",\n      type: \"h\",\n      index: 2\n    },\n    {\n      size: 24,\n      unit: \":\",\n      type: \"d\",\n      index: 3\n    },\n    {\n      size: 30,\n      unit: \":\",\n      type: \"M\",\n      index: 4\n    },\n    {\n      size: 12,\n      unit: \":\",\n      type: \"y\",\n      index: 5\n    }\n  ];\n  let temLen = list.length;\n  let second = argData;\n  let size = 1;\n  let unitList = (argOption == null ? void 0 : argOption.unit) || [\"\\u5E74\", \"\\u6708\", \"\\u5929\", \"\\u65F6\", \"\\u5206\", \"\\u79D2\"];\n  let index = 0;\n  for (let i = 0; i < temLen; i++) {\n    let lastSize = size;\n    if (argType === list[i].type) {\n      let temTime = Math.floor(second / lastSize);\n      if (temTime < 10) {\n        temTime = \"0\" + temTime;\n      }\n      res.unshift(temTime);\n      index = temLen - i - 1;\n      break;\n    }\n    size = size * list[i + 1].size;\n    let time = Math.floor(second % size / lastSize);\n    if (time < 10) {\n      time = \"0\" + time;\n    }\n    res.unshift(time);\n  }\n  let timeText = \"\";\n  let isZero = true;\n  res.map((v, k) => {\n    if (!+v && isZero) {\n    } else {\n      isZero = false;\n      timeText += v + unitList[index + k];\n    }\n  });\n  return timeText;\n};\nconst formatSize = (argData, argNum = 2, argIndex = 0, argRate = 1024, unit = [\"B\", \"K\", \"M\", \"G\", \"T\", \"P\"]) => {\n  let list = unit;\n  if (!argData) {\n    return \"0\" + list[argIndex];\n  }\n  let len = list.length;\n  let nowIndex = len - 1;\n  let temData = 0;\n  for (let i = 0; i < len; i++) {\n    temData = argData / Math.pow(argRate, i);\n    if (temData < argRate) {\n      nowIndex = argIndex + i;\n      break;\n    }\n  }\n  return (0, import_data.toFixed)(temData, argNum, \"number\") + list[nowIndex];\n};\nconst formatNumber = (argData, argNum = 2) => {\n  if (argData < 1e3) {\n    return argData.toString();\n  } else if (argData < 1e4) {\n    return (0, import_data.toFixed)(argData / 1e3, argNum, \"number\") + \"k\";\n  } else {\n    return (0, import_data.toFixed)(argData / 1e4, argNum, \"number\") + \"w\";\n  }\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 类型转换相关处理\n */\n\nimport { toFixed } from './data'\nimport { safeData } from './data'\n\n/**\n * @function\n * @description 显示人民币价格\n * @param  {unknown} argData 价格\n * @param  {number} argRate -1 保留多少位小数\n * @param  {string} argUnit ￥ 单位\n * @param  {string} argDef 空数据默认值\n * @returns {string} eg: ￥100\n */\nexport const rmbPrice = (\n  argData: unknown,\n  argRate: number = -1,\n  argUnit: string = '￥',\n  argDef: string = '--'\n): string => {\n  if (typeof argData === 'string' || typeof argData === 'number') {\n    if (!argData && argData !== 0) {\n      return argDef\n    }\n  } else {\n    return argDef\n  }\n  argData = Number(argData)\n  if (argRate > -1) {\n    argData = +toFixed(argData as number, argRate)\n  }\n  return argUnit + argData\n}\n\n/**\n * @description 日期格式化显示\n * @function\n * @param  {string|number} date 时间对象\\时间戳，默认当前时间\n * @param  {string} fmt 格式化符串，默认'YYYY-MM-DD HH:mm:ss' E为星期数，EEE:星期一 q为季度，S为毫秒数\n * @param  {string} emptyTip date为false时，默认''\n * @returns {string}\n */\nexport const formatTime = (\n  date: string | number | Date = +new Date(),\n  fmt: string = 'YYYY-MM-DD HH:mm:ss',\n  emptyTip: string = ''\n): string => {\n  if (!date && date !== 0) {\n    return emptyTip\n  }\n  if (isNaN(+date)) {\n    return emptyTip\n  }\n  if (typeof date === 'number') {\n    if (date.toString().length === 10) {\n      date = date * 1000\n    }\n  }\n  date = new Date(+date)\n  const fmtMap: { [key: string]: number } = {\n    'M+': date.getMonth() + 1,\n    'D+': date.getDate(),\n    'h+': date.getHours() % 12 === 0 ? 12 : date.getHours() % 12,\n    'H+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds(),\n    'q+': Math.floor((date.getMonth() + 3) / 3),\n    S: date.getMilliseconds(),\n  }\n  const week = {\n    0: '\\u65e5',\n    1: '\\u4e00',\n    2: '\\u4e8c',\n    3: '\\u4e09',\n    4: '\\u56db',\n    5: '\\u4e94',\n    6: '\\u516d',\n  }\n  const temY = fmt.match(/(Y+)/)\n  if (temY) {\n    fmt = fmt.replace(\n      temY[0],\n      (date.getFullYear() + '').substring(4 - temY[0].length)\n    )\n  }\n  const temWeek = fmt.match(/(E+)/)\n  if (temWeek) {\n    const temWeekName = ['', '\\u5468']\n    fmt = fmt.replace(\n      temWeek[0],\n      (temWeekName[temWeek[0].length] || '\\u661f\\u671f') +\n        safeData(week, date.getDay().toString(), '')\n    )\n  }\n  for (let k in fmtMap) {\n    let temMatch = fmt.match(new RegExp('(' + k + ')'))\n    if (temMatch) {\n      fmt = fmt.replace(\n        temMatch[0],\n        temMatch[0].length === 1\n          ? fmtMap[k].toString()\n          : ('00' + fmtMap[k].toString()).substring(('' + fmtMap[k]).length)\n      )\n    }\n  }\n  return fmt\n}\n\n/**\n * @description 日期格式化友好显示 刚刚 x分钟前 ...，超过一年的按 fmt来格式化\n * @function\n * @param  {string|number|Date} date 时间对象\\时间戳，默认当前时间\n * @param  {string} fmt 格式化符串，默认'YYYY-MM-DD HH:mm:ss'\n * @param  {string} emptyTip date为false时，默认''\n * @returns {string}\n */\nexport const friendlyTime = (\n  date: string | number | Date = +new Date(),\n  fmt: string = 'YYYY-MM-DD HH:mm:ss',\n  emptyTip: string = ''\n): string => {\n  if (!date && date !== 0) {\n    return emptyTip\n  }\n  if (isNaN(+date)) {\n    return emptyTip\n  }\n  if (typeof date === 'number' || typeof date === 'string') {\n    if (date.toString().length === 10) {\n      date = date.toString() + '000'\n    }\n  }\n  date = new Date(+date)\n  let diff = (new Date().getTime() - date.getTime()) / 1000\n  let dayDiff = Math.floor(diff / 86400)\n  let isValidDate =\n    Object.prototype.toString.call(date) === '[object Date]' &&\n    !isNaN(date.getTime())\n  if (!isValidDate) {\n    console.warn('friendlyTime:', 'not a valid date')\n    return emptyTip || '--'\n  }\n  if (isNaN(dayDiff) || dayDiff < 0 || dayDiff >= 365) {\n    return formatTime(date, fmt)\n  }\n  return (\n    (dayDiff === 0 &&\n      ((diff < 60 && '刚刚') ||\n        (diff < 120 && '1分钟前') ||\n        (diff < 3600 && Math.floor(diff / 60) + '分钟前') ||\n        (diff < 7200 && '1小时前') ||\n        (diff < 86400 && Math.floor(diff / 3600) + '小时前'))) ||\n    (dayDiff === 1 && '昨天') ||\n    (dayDiff < 7 && dayDiff + '天前') ||\n    (dayDiff < 31 && Math.ceil(dayDiff / 7) + '周前') ||\n    (dayDiff < 365 && Math.ceil(dayDiff / 31) + '月前')\n  ).toString()\n}\n/**\n * @function\n * @description px转vw\n * @param {number} argPx px\n * @param {number} argWith px对应最大宽度\n * @param {number} argNum 保留小数\n * @param {string} argUnit 单位 'vw'||'%'\n * @return {string}\n */\nexport const px2vw = (\n  argPx: number,\n  argWith: number = 375,\n  argNum: number = 6,\n  argUnit: string = 'vw'\n): string => {\n  return +toFixed((100 / argWith) * argPx, argNum) + argUnit\n}\n/**\n * @function\n * @description 秒转倒计时\n * @param {number} argData 秒数\n * @param {string} argType 's,m,h,d,M,y 对应 秒 分 时 天 月 年'\n * @param {object} argOption 额外的处理argOption.unit 单位['年', '月', '天', '时', '分', '秒']\n * @returns {string}\n */\nexport const secondToTime = (\n  argData: number,\n  argType: string = 'y',\n  argOption: { unit?: string[] } = {}\n): string => {\n  let res = []\n  let list = [\n    {\n      size: 1,\n      type: 's',\n      unit: '',\n      index: 0,\n    },\n    {\n      size: 60,\n      unit: ':',\n      type: 'm',\n      index: 1,\n    },\n    {\n      size: 60,\n      unit: ':',\n      type: 'h',\n      index: 2,\n    },\n    {\n      size: 24,\n      unit: ':',\n      type: 'd',\n      index: 3,\n    },\n    {\n      size: 30,\n      unit: ':',\n      type: 'M',\n      index: 4,\n    },\n    {\n      size: 12,\n      unit: ':',\n      type: 'y',\n      index: 5,\n    },\n  ]\n  let temLen = list.length\n  let second = argData\n  let size = 1\n  let unitList = argOption?.unit || ['年', '月', '天', '时', '分', '秒']\n  let index = 0\n  for (let i = 0; i < temLen; i++) {\n    let lastSize = size\n    if (argType === list[i].type) {\n      let temTime: number | string = Math.floor(second / lastSize)\n      if (temTime < 10) {\n        temTime = '0' + temTime\n      }\n      res.unshift(temTime)\n      index = temLen - i - 1\n      break\n    }\n    size = size * list[i + 1].size\n    let time: number | string = Math.floor((second % size) / lastSize)\n    if (time < 10) {\n      time = '0' + time\n    }\n    res.unshift(time)\n  }\n  let timeText = ''\n  let isZero = true\n  res.map((v, k) => {\n    if (!+v && isZero) {\n    } else {\n      isZero = false\n      timeText += v + unitList[index + k]\n    }\n  })\n  return timeText\n}\n/**\n * @function\n * @description 容量单位转换\n * @param {number} argData byte数据\n * @param {number} argNum 保留小数位\n * @param {number} argIndex 起始单位偏移eg: 0:b 1:k 2:m\n * @param {number} argRate 进制\n * @param {string[]} unit 进制\n * @returns {string} 计算结果\n */\nexport const formatSize = (\n  argData: number,\n  argNum: number = 2,\n  argIndex: number = 0,\n  argRate: number = 1024,\n  unit: string[] = ['B', 'K', 'M', 'G', 'T', 'P']\n): string => {\n  let list = unit\n  if (!argData) {\n    return '0' + list[argIndex]\n  }\n  let len = list.length\n  let nowIndex = len - 1\n  let temData: number = 0\n  for (let i = 0; i < len; i++) {\n    temData = argData / Math.pow(argRate, i)\n    if (temData < argRate) {\n      nowIndex = argIndex + i\n      break\n    }\n  }\n  return toFixed(temData, argNum, 'number') + list[nowIndex]\n}\n/**\n * @function\n * @description 数量单位转换k/w\n * @param {number} argData 数据\n * @param {number} argNum 保留小数位\n * @returns {string} 计算结果\n */\nexport const formatNumber = (argData: number, argNum: number = 2): string => {\n  if (argData < 1000) {\n    return argData.toString()\n  } else if (argData < 10000) {\n    return toFixed(argData / 1000, argNum, 'number') + 'k'\n  } else {\n    return toFixed(argData / 10000, argNum, 'number') + 'w'\n  }\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2562","url":"/home/runner/work/utils/utils/src/transform.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6830,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":6827,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":7}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":7}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":7}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"formatNumber","ranges":[{"startOffset":933,"endOffset":951,"count":1}],"isBlockCoverage":true},{"functionName":"formatSize","ranges":[{"startOffset":967,"endOffset":983,"count":1}],"isBlockCoverage":true},{"functionName":"formatTime","ranges":[{"startOffset":999,"endOffset":1015,"count":1}],"isBlockCoverage":true},{"functionName":"friendlyTime","ranges":[{"startOffset":1033,"endOffset":1051,"count":1}],"isBlockCoverage":true},{"functionName":"px2vw","ranges":[{"startOffset":1062,"endOffset":1073,"count":1}],"isBlockCoverage":true},{"functionName":"rmbPrice","ranges":[{"startOffset":1087,"endOffset":1101,"count":1}],"isBlockCoverage":true},{"functionName":"secondToTime","ranges":[{"startOffset":1119,"endOffset":1137,"count":1}],"isBlockCoverage":true},{"functionName":"rmbPrice","ranges":[{"startOffset":1280,"endOffset":1653,"count":3},{"startOffset":1410,"endOffset":1479,"count":2},{"startOffset":1429,"endOffset":1445,"count":0},{"startOffset":1447,"endOffset":1475,"count":0},{"startOffset":1479,"endOffset":1509,"count":1},{"startOffset":1509,"endOffset":1559,"count":2},{"startOffset":1559,"endOffset":1623,"count":1},{"startOffset":1623,"endOffset":1652,"count":2}],"isBlockCoverage":true},{"functionName":"formatTime","ranges":[{"startOffset":1674,"endOffset":3165,"count":11},{"startOffset":1756,"endOffset":1769,"count":2},{"startOffset":1771,"endOffset":1797,"count":1},{"startOffset":1797,"endOffset":1818,"count":10},{"startOffset":1818,"endOffset":1844,"count":0},{"startOffset":1844,"endOffset":1877,"count":10},{"startOffset":1877,"endOffset":1954,"count":6},{"startOffset":1918,"endOffset":1950,"count":1},{"startOffset":1954,"endOffset":2094,"count":10},{"startOffset":2094,"endOffset":2098,"count":5},{"startOffset":2099,"endOffset":2121,"count":5},{"startOffset":2478,"endOffset":2643,"count":10},{"startOffset":2643,"endOffset":2858,"count":2},{"startOffset":2764,"endOffset":2781,"count":1},{"startOffset":2858,"endOffset":2883,"count":10},{"startOffset":2883,"endOffset":3149,"count":80},{"startOffset":2960,"endOffset":3145,"count":19},{"startOffset":3041,"endOffset":3063,"count":1},{"startOffset":3064,"endOffset":3130,"count":18},{"startOffset":3149,"endOffset":3164,"count":10}],"isBlockCoverage":true},{"functionName":"friendlyTime","ranges":[{"startOffset":3188,"endOffset":4424,"count":12},{"startOffset":3270,"endOffset":3283,"count":2},{"startOffset":3285,"endOffset":3311,"count":1},{"startOffset":3311,"endOffset":3332,"count":11},{"startOffset":3332,"endOffset":3358,"count":0},{"startOffset":3358,"endOffset":3390,"count":11},{"startOffset":3390,"endOffset":3417,"count":0},{"startOffset":3419,"endOffset":3740,"count":11},{"startOffset":3460,"endOffset":3505,"count":1},{"startOffset":3762,"endOffset":3851,"count":0},{"startOffset":3851,"endOffset":3887,"count":11},{"startOffset":3888,"endOffset":3905,"count":11},{"startOffset":3907,"endOffset":3946,"count":1},{"startOffset":3946,"endOffset":3971,"count":10},{"startOffset":3971,"endOffset":4211,"count":6},{"startOffset":3985,"endOffset":4002,"count":2},{"startOffset":4003,"endOffset":4041,"count":4},{"startOffset":4017,"endOffset":4041,"count":1},{"startOffset":4042,"endOffset":4104,"count":3},{"startOffset":4057,"endOffset":4104,"count":1},{"startOffset":4105,"endOffset":4144,"count":2},{"startOffset":4120,"endOffset":4144,"count":1},{"startOffset":4145,"endOffset":4210,"count":1},{"startOffset":4212,"endOffset":4246,"count":4},{"startOffset":4229,"endOffset":4246,"count":1},{"startOffset":4247,"endOffset":4289,"count":3},{"startOffset":4262,"endOffset":4289,"count":1},{"startOffset":4290,"endOffset":4348,"count":2},{"startOffset":4306,"endOffset":4348,"count":1},{"startOffset":4349,"endOffset":4409,"count":1}],"isBlockCoverage":true},{"functionName":"px2vw","ranges":[{"startOffset":4440,"endOffset":4574,"count":4}],"isBlockCoverage":true},{"functionName":"secondToTime","ranges":[{"startOffset":4597,"endOffset":6017,"count":9},{"startOffset":5248,"endOffset":5256,"count":0},{"startOffset":5275,"endOffset":5338,"count":8},{"startOffset":5392,"endOffset":5817,"count":44},{"startOffset":5453,"endOffset":5649,"count":9},{"startOffset":5530,"endOffset":5572,"count":7},{"startOffset":5649,"endOffset":5758,"count":35},{"startOffset":5758,"endOffset":5790,"count":23},{"startOffset":5790,"endOffset":5817,"count":35}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5870,"endOffset":5994,"count":44},{"startOffset":5894,"endOffset":5903,"count":21},{"startOffset":5905,"endOffset":5912,"count":17},{"startOffset":5912,"endOffset":5990,"count":27}],"isBlockCoverage":true},{"functionName":"formatSize","ranges":[{"startOffset":6038,"endOffset":6521,"count":7},{"startOffset":6169,"endOffset":6207,"count":0},{"startOffset":6310,"endOffset":6440,"count":17},{"startOffset":6385,"endOffset":6436,"count":7}],"isBlockCoverage":true},{"functionName":"formatNumber","ranges":[{"startOffset":6544,"endOffset":6823,"count":6},{"startOffset":6592,"endOffset":6628,"count":1},{"startOffset":6628,"endOffset":6821,"count":5},{"startOffset":6653,"endOffset":6734,"count":3},{"startOffset":6734,"endOffset":6821,"count":2}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  decodeHtml: () => decodeHtml,\n  encodeHtml: () => encodeHtml,\n  getEnv: () => getEnv,\n  getObj: () => getObj,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  hideInfo: () => hideInfo,\n  randomInt: () => randomInt,\n  replaceUrlParam: () => replaceUrlParam,\n  safeData: () => safeData,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setUrlParams: () => setUrlParams,\n  string10to62: () => string10to62,\n  string62to10: () => string62to10,\n  toFixed: () => toFixed,\n  toHump: () => toHump,\n  toLine: () => toLine,\n  toList: () => toList\n});\nmodule.exports = __toCommonJS(stdin_exports);\nlet ENV = {};\nlet DATA_OBJECT = {};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst toFixed = (argData, argNum = 2, argType = \"string\") => {\n  let data = Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum);\n  data = (+data || 0).toFixed(argNum);\n  return argType === \"string\" ? data : +data;\n};\nconst toLine = (argData, argUnit = \"_\") => {\n  return argData.replace(/([A-Z])/g, argUnit + \"$1\").toLowerCase();\n};\nconst toHump = (argData, argUnit = \"_\") => {\n  return argData.replace(\n    new RegExp(\"\\\\\" + argUnit + \"(\\\\w)\", \"g\"),\n    (_, letter) => {\n      return letter.toUpperCase();\n    }\n  );\n};\nconst string10to62 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\".split(\"\");\n  let radix = chars.length;\n  let data = +argData;\n  let arr = [];\n  do {\n    let mod = data % radix;\n    data = (data - mod) / radix;\n    arr.unshift(chars[mod]);\n  } while (data);\n  return arr.join(\"\");\n};\nconst string62to10 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\";\n  let radix = chars.length;\n  let len = argData.length;\n  let i = 0;\n  let resNum = 0;\n  while (i < len) {\n    resNum += Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || \"0\");\n  }\n  return resNum;\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData = decodeURIComponent(argData);\n    let temArr = argData.split(\"?\");\n    argData = temArr.pop() || \"\";\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key, value) => {\n      res[key] = value;\n      return \"\";\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  let reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  let r = url.match(reg);\n  let search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function() {\n        if (!arguments[4] || !arguments[4].length) {\n          return \"\";\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1];\n        }\n        return arguments[1] + arguments[4];\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    let sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    let sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst encodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&/g, \"&amp;\");\n  argHtml = argHtml.replace(/</g, \"&lt;\");\n  argHtml = argHtml.replace(/>/g, \"&gt;\");\n  argHtml = argHtml.replace(/'/g, \"&#39;\");\n  argHtml = argHtml.replace(/\"/g, \"&quot;\");\n  argHtml = argHtml.replace(/ /g, \"&nbsp;\");\n  argHtml = argHtml.replace(/\\n/g, \"<br>\");\n  return argHtml;\n};\nconst decodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&amp;/g, \"&\");\n  argHtml = argHtml.replace(/&lt;/g, \"<\");\n  argHtml = argHtml.replace(/&gt;/g, \">\");\n  argHtml = argHtml.replace(/&#39;/g, \"'\");\n  argHtml = argHtml.replace(/&quot;/g, '\"');\n  argHtml = argHtml.replace(/&nbsp;/g, \" \");\n  argHtml = argHtml.replace(/<br>/g, \"\\n\");\n  return argHtml;\n};\nconst hideInfo = (argData = \"\", argStart = 3, argEnd = 4) => {\n  argData = String(argData);\n  let temLen = argData.length;\n  let temSL = argData.length - argEnd - argStart;\n  let start = \"\";\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += \"*\";\n    }\n    argData = argData.substring(0, argStart) + start + argData.substring(temLen - argEnd, temLen);\n  }\n  return argData;\n};\nconst getUuid = () => {\n  function S4() {\n    return ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  }\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nfunction toList(map, getItem) {\n  const list = [];\n  Object.keys(map).forEach((key) => {\n    const item = getItem(key, map[key]);\n    list.push(item);\n  });\n  return list;\n}\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 类字符串/参数处理\n */\n\nimport { AnyObject, Bool } from './types'\n\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * 描述\n * @function\n * @description toFixed处理\n * @date 2020-03-01\n * @param {string|number} argData 要处理的数据\n * @param {number} argNum 要保留位数,默认返回2位小数\n * @param {string} argType 返回类型，默认返回字符串\n * @returns {string|number} 返回处理好的数据\n */\nexport const toFixed = (\n  argData: string | number,\n  argNum: number = 2,\n  argType: string = 'string'\n): string | number => {\n  let data: number | string =\n    Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum)\n  data = (+data || 0).toFixed(argNum)\n  return argType === 'string' ? data : +data\n}\n/**\n * @function\n * @description 驼峰转下划线\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toLine = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(/([A-Z])/g, argUnit + '$1').toLowerCase()\n}\n\n/**\n * @function\n * @description 下划线转驼峰\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toHump = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(\n    new RegExp('\\\\' + argUnit + '(\\\\w)', 'g'),\n    (_, letter) => {\n      return letter.toUpperCase()\n    }\n  )\n}\n/**\n * 描述\n * @function\n * @description 10进制转62进制,用于短网址转换\n * @date 2020-03-01\n * @param {number|string} argData 要处理的数据\n * @returns {string} 返回处理好的数据\n */\nexport const string10to62 = (argData: number | string): string => {\n  let chars =\n    '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'.split('')\n  let radix = chars.length\n  let data = +argData\n  let arr = []\n  do {\n    let mod = data % radix\n    data = (data - mod) / radix\n    arr.unshift(chars[mod])\n  } while (data)\n  return arr.join('')\n}\n/**\n * 描述\n * @function\n * @description 62进制转10进制,用于短网址转换\n * @date 2020-03-01\n * @param {string} argData 要处理的数据\n * @returns {number} 返回处理好的数据\n */\nexport const string62to10 = (argData: string): number => {\n  let chars = '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'\n  let radix = chars.length\n  let len = argData.length\n  let i = 0\n  let resNum = 0\n  while (i < len) {\n    resNum +=\n      Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || '0')\n  }\n  return resNum\n}\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): any => {\n  const res: any = {}\n  try {\n    argData = decodeURIComponent(argData)\n    let temArr = argData.split('?')\n    argData = temArr.pop() || ''\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key: string, value) => {\n      res[key] = value\n      return ''\n    })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  let reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  let r = url.match(reg)\n  let search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function () {\n        if (!arguments[4] || !arguments[4].length) {\n          return ''\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1]\n        }\n        return arguments[1] + arguments[4]\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    let sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    let sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 转义html标签\n * @param  {string} argHtml 需要转义的文本\n * @returns {string}\n */\nexport const encodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&/g, '&amp;')\n  argHtml = argHtml.replace(/</g, '&lt;')\n  argHtml = argHtml.replace(/>/g, '&gt;')\n  argHtml = argHtml.replace(/'/g, '&#39;')\n  argHtml = argHtml.replace(/\"/g, '&quot;')\n  argHtml = argHtml.replace(/ /g, '&nbsp;')\n  argHtml = argHtml.replace(/\\n/g, '<br>')\n  return argHtml\n}\n\n/**\n * @function\n * @description 反转义html标签\n * @param  {string} argHtml 需要反转义的文本\n * @returns {string}\n */\nexport const decodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&amp;/g, '&')\n  argHtml = argHtml.replace(/&lt;/g, '<')\n  argHtml = argHtml.replace(/&gt;/g, '>')\n  argHtml = argHtml.replace(/&#39;/g, \"'\")\n  argHtml = argHtml.replace(/&quot;/g, '\"')\n  argHtml = argHtml.replace(/&nbsp;/g, ' ')\n  argHtml = argHtml.replace(/<br>/g, '\\n')\n  return argHtml\n}\n\n/**\n * 描述\n * @function\n * @description 数据中间加星号\n * @param {string|number} argData 要处理的数据\n * @param {number} argStart=3 前端显示多少位\n * @param {number} argEnd=4 后面显示多少位\n * @returns {string} 返回处理好的数据\n */\nexport const hideInfo = (\n  argData: string | number = '',\n  argStart: number = 3,\n  argEnd: number = 4\n): string => {\n  argData = String(argData)\n  let temLen = argData.length\n  let temSL = argData.length - argEnd - argStart\n  let start = ''\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += '*'\n    }\n    argData =\n      argData.substring(0, argStart) +\n      start +\n      argData.substring(temLen - argEnd, temLen)\n  }\n  return argData\n}\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  function S4() {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  }\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * map 转为 list，list item 具体是什么取决于传入的 getItem 函数\n * @param map\n * @param getItem\n * @return getItem()[]\n */\nexport function toList<V, K extends string, Item>(\n  map: Record<K, V>,\n  getItem: (key: K, value: V) => Item\n) {\n  const list = [] as Item[]\n  Object.keys(map).forEach((key: any) => {\n    // @ts-ignore, trust me.\n    const item = getItem(key, map[key])\n    list.push(item)\n  })\n  return list\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2563","url":"/home/runner/work/utils/utils/src/data.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":9154,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":9151,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":21}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":21}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":19}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"decodeHtml","ranges":[{"startOffset":931,"endOffset":947,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":963,"endOffset":979,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":991,"endOffset":1003,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1015,"endOffset":1027,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1044,"endOffset":1061,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1081,"endOffset":1101,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":1114,"endOffset":1127,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":1141,"endOffset":1155,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":1170,"endOffset":1185,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1206,"endOffset":1227,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1241,"endOffset":1255,"count":2}],"isBlockCoverage":true},{"functionName":"setEnv","ranges":[{"startOffset":1267,"endOffset":1279,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":1291,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1315,"endOffset":1327,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":1345,"endOffset":1363,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":1381,"endOffset":1399,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":1417,"endOffset":1435,"count":0}],"isBlockCoverage":false},{"functionName":"toFixed","ranges":[{"startOffset":1448,"endOffset":1461,"count":17}],"isBlockCoverage":true},{"functionName":"toHump","ranges":[{"startOffset":1473,"endOffset":1485,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":1497,"endOffset":1509,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":1521,"endOffset":1533,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1637,"endOffset":2529,"count":2},{"startOffset":1725,"endOffset":1756,"count":0},{"startOffset":1758,"endOffset":1862,"count":0},{"startOffset":1960,"endOffset":1986,"count":0},{"startOffset":2005,"endOffset":2305,"count":0},{"startOffset":2330,"endOffset":2379,"count":0},{"startOffset":2419,"endOffset":2464,"count":0},{"startOffset":2511,"endOffset":2522,"count":0}],"isBlockCoverage":true},{"functionName":"toFixed","ranges":[{"startOffset":2547,"endOffset":2761,"count":17},{"startOffset":2691,"endOffset":2695,"count":0},{"startOffset":2744,"endOffset":2750,"count":5},{"startOffset":2751,"endOffset":2758,"count":12}],"isBlockCoverage":true},{"functionName":"toLine","ranges":[{"startOffset":2778,"endOffset":2877,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":2894,"endOffset":3065,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":3088,"endOffset":3399,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":3422,"endOffset":3730,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":3753,"endOffset":4082,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":4104,"endOffset":4316,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":4341,"endOffset":4772,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":4798,"endOffset":6051,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":6072,"endOffset":6475,"count":0}],"isBlockCoverage":false},{"functionName":"decodeHtml","ranges":[{"startOffset":6496,"endOffset":6899,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":6918,"endOffset":7297,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":7315,"endOffset":7498,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":7518,"endOffset":7654,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":7671,"endOffset":7696,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":7713,"endOffset":7758,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":7775,"endOffset":7897,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":7914,"endOffset":8147,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":8164,"endOffset":8973,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":8975,"endOffset":9148,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":7,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1673578747727,"runtime":308,"slow":false,"start":1673578747419},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/file.spec.ts","testResults":[{"ancestorTitles":["file"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"file blobToBase64","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"blobToBase64"},{"ancestorTitles":["file"],"duration":26,"failureDetails":[],"failureMessages":[],"fullName":"file blobUrlToFileMock","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"blobUrlToFileMock"},{"ancestorTitles":["file"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"file dataURLtoBlob","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"dataURLtoBlob"},{"ancestorTitles":["file"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"file blobToFile","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"blobToFile"},{"ancestorTitles":["file"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"file dlFileMock","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"dlFileMock"},{"ancestorTitles":["file"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"file getDuration","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getDuration"},{"ancestorTitles":["file"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"file loadFileMock","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"loadFileMock"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  blobToBase64: () => import_file.blobToBase64,\n  blobToFile: () => import_file.blobToFile,\n  blobUrlToFile: () => import_file.blobUrlToFile,\n  dataURLtoBlob: () => import_file.dataURLtoBlob,\n  decodeHtml: () => import_data.decodeHtml,\n  delCookie: () => import_base.delCookie,\n  dlFile: () => import_file.dlFile,\n  encodeHtml: () => import_data.encodeHtml,\n  formatNumber: () => import_transform.formatNumber,\n  formatSize: () => import_transform.formatSize,\n  formatTime: () => import_transform.formatTime,\n  friendlyTime: () => import_transform.friendlyTime,\n  getCookie: () => import_base.getCookie,\n  getDuration: () => import_file.getDuration,\n  getEnv: () => import_data.getEnv,\n  getInfo: () => import_base.getInfo,\n  getNetworkStatus: () => import_base.getNetworkStatus,\n  getObj: () => import_data.getObj,\n  getRandomColor: () => import_base.getRandomColor,\n  getRegexp: () => import_base.getRegexp,\n  getStorage: () => import_base.getStorage,\n  getUrlParam: () => import_data.getUrlParam,\n  getUrlParamObj: () => import_data.getUrlParamObj,\n  getUuid: () => import_data.getUuid,\n  hideInfo: () => import_data.hideInfo,\n  isBlob: () => import_is.isBlob,\n  isFile: () => import_is.isFile,\n  isIdCard: () => import_is.isIdCard,\n  isJson: () => import_is.isJson,\n  isPrime: () => import_is.isPrime,\n  loadFile: () => import_file.loadFile,\n  px2vw: () => import_transform.px2vw,\n  randomInt: () => import_data.randomInt,\n  remInit: () => import_base.remInit,\n  replaceUrlParam: () => import_data.replaceUrlParam,\n  rmbPrice: () => import_transform.rmbPrice,\n  safeData: () => import_data.safeData,\n  secondToTime: () => import_transform.secondToTime,\n  setCookie: () => import_base.setCookie,\n  setEnv: () => import_data.setEnv,\n  setLog: () => import_data.setLog,\n  setObj: () => import_data.setObj,\n  setStorage: () => import_base.setStorage,\n  setTitle: () => import_base.setTitle,\n  setUrlParams: () => import_data.setUrlParams,\n  sleep: () => import_base.sleep,\n  string10to62: () => import_data.string10to62,\n  string62to10: () => import_data.string62to10,\n  toFixed: () => import_data.toFixed,\n  toHump: () => import_data.toHump,\n  toLine: () => import_data.toLine\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_is = require(\"./is\");\nvar import_base = require(\"./base\");\nvar import_file = require(\"./file\");\nvar import_data = require(\"./data\");\nvar import_transform = require(\"./transform\");\n","originalCode":"/**\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description no\n */\nexport { isPrime, isJson, isBlob, isFile, isIdCard } from './is'\nexport {\n  getNetworkStatus,\n  getRegexp,\n  setTitle,\n  remInit,\n  getCookie,\n  setCookie,\n  delCookie,\n  setStorage,\n  getStorage,\n  getRandomColor,\n  getInfo,\n  sleep,\n} from './base'\nexport {\n  blobToBase64,\n  blobUrlToFile,\n  dataURLtoBlob,\n  blobToFile,\n  dlFile,\n  getDuration,\n  loadFile,\n} from './file'\nexport {\n  toFixed,\n  toLine,\n  toHump,\n  string10to62,\n  string62to10,\n  setUrlParams,\n  getUrlParam,\n  getUrlParamObj,\n  replaceUrlParam,\n  encodeHtml,\n  decodeHtml,\n  hideInfo,\n  safeData,\n  getUuid,\n  setEnv,\n  getEnv,\n  getObj,\n  setObj,\n  randomInt,\n  setLog,\n} from './data'\nexport {\n  rmbPrice,\n  formatTime,\n  friendlyTime,\n  px2vw,\n  secondToTime,\n  formatSize,\n  formatNumber,\n} from './transform'\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"9","url":"/home/runner/work/utils/utils/src/index.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3341,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3338,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":51}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":51}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":9}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"blobToBase64","ranges":[{"startOffset":933,"endOffset":963,"count":1}],"isBlockCoverage":true},{"functionName":"blobToFile","ranges":[{"startOffset":979,"endOffset":1007,"count":1}],"isBlockCoverage":true},{"functionName":"blobUrlToFile","ranges":[{"startOffset":1026,"endOffset":1057,"count":1}],"isBlockCoverage":true},{"functionName":"dataURLtoBlob","ranges":[{"startOffset":1076,"endOffset":1107,"count":1}],"isBlockCoverage":true},{"functionName":"decodeHtml","ranges":[{"startOffset":1123,"endOffset":1151,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":1166,"endOffset":1193,"count":0}],"isBlockCoverage":false},{"functionName":"dlFile","ranges":[{"startOffset":1205,"endOffset":1229,"count":1}],"isBlockCoverage":true},{"functionName":"encodeHtml","ranges":[{"startOffset":1245,"endOffset":1273,"count":0}],"isBlockCoverage":false},{"functionName":"formatNumber","ranges":[{"startOffset":1291,"endOffset":1326,"count":0}],"isBlockCoverage":false},{"functionName":"formatSize","ranges":[{"startOffset":1342,"endOffset":1375,"count":0}],"isBlockCoverage":false},{"functionName":"formatTime","ranges":[{"startOffset":1391,"endOffset":1424,"count":0}],"isBlockCoverage":false},{"functionName":"friendlyTime","ranges":[{"startOffset":1442,"endOffset":1477,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":1492,"endOffset":1519,"count":0}],"isBlockCoverage":false},{"functionName":"getDuration","ranges":[{"startOffset":1536,"endOffset":1565,"count":1}],"isBlockCoverage":true},{"functionName":"getEnv","ranges":[{"startOffset":1577,"endOffset":1601,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":1614,"endOffset":1639,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1661,"endOffset":1695,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1707,"endOffset":1731,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":1751,"endOffset":1783,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1798,"endOffset":1825,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":1841,"endOffset":1869,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1886,"endOffset":1915,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1935,"endOffset":1967,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":1980,"endOffset":2005,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":2019,"endOffset":2045,"count":0}],"isBlockCoverage":false},{"functionName":"isBlob","ranges":[{"startOffset":2057,"endOffset":2079,"count":2}],"isBlockCoverage":true},{"functionName":"isFile","ranges":[{"startOffset":2091,"endOffset":2113,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":2127,"endOffset":2151,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":2163,"endOffset":2185,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":2198,"endOffset":2221,"count":0}],"isBlockCoverage":false},{"functionName":"loadFile","ranges":[{"startOffset":2235,"endOffset":2261,"count":1}],"isBlockCoverage":true},{"functionName":"px2vw","ranges":[{"startOffset":2272,"endOffset":2300,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":2315,"endOffset":2342,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":2355,"endOffset":2380,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":2401,"endOffset":2434,"count":0}],"isBlockCoverage":false},{"functionName":"rmbPrice","ranges":[{"startOffset":2448,"endOffset":2479,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":2493,"endOffset":2519,"count":0}],"isBlockCoverage":false},{"functionName":"secondToTime","ranges":[{"startOffset":2537,"endOffset":2572,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":2587,"endOffset":2614,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":2626,"endOffset":2650,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":2662,"endOffset":2686,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":2698,"endOffset":2722,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":2738,"endOffset":2766,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":2780,"endOffset":2806,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":2824,"endOffset":2854,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":2865,"endOffset":2888,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":2906,"endOffset":2936,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":2954,"endOffset":2984,"count":0}],"isBlockCoverage":false},{"functionName":"toFixed","ranges":[{"startOffset":2997,"endOffset":3022,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":3034,"endOffset":3058,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":3070,"endOffset":3094,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 判断函数\n */\n/**\n * @function\n * @description 判断质数\n * @param {number} argValue 要判断的数据\n * @returns {boolean} 结果\n */\nexport const isPrime = (argValue: number): boolean =>\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\n\n/**\n * @function\n * @description 判断是否是JSON\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isJson = (argData: any): boolean => {\n  try {\n    return typeof JSON.parse(argData || '') === 'object'\n  } catch (e) {}\n  return false\n}\n/**\n * @function\n * @description 判断是否是Blob\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isBlob = (argData: any): boolean => {\n  return argData instanceof Blob\n}\n\n/**\n * @function\n * @description 判断是否是File\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isFile = (argData: any): boolean => {\n  return argData instanceof File\n}\n\n/**\n * @function\n * @description 是否为正确的身份证号码\n * @param  {string} code 身份证号码\n * @returns {boolean}\n */\nexport const isIdCard = (code: string): boolean => {\n  let tip = ''\n  let city: { [key: number]: string } = {\n    11: '北京',\n    12: '天津',\n    13: '河北',\n    14: '山西',\n    15: '内蒙古',\n    21: '辽宁',\n    22: '吉林',\n    23: '黑龙江 ',\n    31: '上海',\n    32: '江苏',\n    33: '浙江',\n    34: '安徽',\n    35: '福建',\n    36: '江西',\n    37: '山东',\n    41: '河南',\n    42: '湖北 ',\n    43: '湖南',\n    44: '广东',\n    45: '广西',\n    46: '海南',\n    50: '重庆',\n    51: '四川',\n    52: '贵州',\n    53: '云南',\n    54: '西藏 ',\n    61: '陕西',\n    62: '甘肃',\n    63: '青海',\n    64: '宁夏',\n    65: '新疆',\n    71: '台湾',\n    81: '香港',\n    82: '澳门',\n    91: '国外 ',\n  }\n  let pass = true\n  if (\n    !code ||\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n      code\n    )\n  ) {\n    tip = '身份证号格式错误'\n    pass = false\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = '地址编码错误'\n    pass = false\n  } else {\n    // 18位身份证需要验证最后一位校验位\n    if (code.length === 18) {\n      const codeArr = code.split('')\n      // ∑(ai×Wi)(mod 11)\n      // 加权因子\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\n      // 校验位\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\n      let sum = 0\n      let ai = 0\n      let wi = 0\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i])\n        wi = factor[i]\n        sum += ai * wi\n      }\n      let last = parity[sum % 11] + ''\n      if (last !== code[17]) {\n        tip = '校验位错误'\n        pass = false\n      }\n    }\n  }\n  console.assert(!tip, tip)\n  return pass\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2822","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":3}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":3}],"isBlockCoverage":true},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":3}],"isBlockCoverage":true},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  delCookie: () => delCookie,\n  getCookie: () => getCookie,\n  getInfo: () => getInfo,\n  getNetworkStatus: () => getNetworkStatus,\n  getRandomColor: () => getRandomColor,\n  getRegexp: () => getRegexp,\n  getStorage: () => getStorage,\n  remInit: () => remInit,\n  setCookie: () => setCookie,\n  setStorage: () => setStorage,\n  setTitle: () => setTitle,\n  sleep: () => sleep\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_data = require(\"./data\");\nvar import_is = require(\"./is\");\nlet isOnline = true;\nif (globalThis && globalThis.addEventListener) {\n  globalThis.addEventListener(\"offline\", function() {\n    console.debug(\"offLine\");\n    isOnline = false;\n  });\n  globalThis.addEventListener(\"online\", function() {\n    console.debug(\"onLine\");\n    isOnline = true;\n  });\n}\nconst getNetworkStatus = () => {\n  return isOnline;\n};\nconst getRegexp = () => {\n  return {\n    html: /<[^>]+>/gim,\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    phone: /^1\\d{10}$/,\n    email: /^(w)+(.w+)*@(w)+((.w+)+)$/,\n    http: /http:\\/\\/|https:\\/\\//,\n    score: /^[1-9]\\d*|0$/,\n    int: /^[1-9]\\d*$/,\n    number: /^\\d*$/,\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    letter: /^[a-zA-Z]*$/,\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    realName: /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    ascii: /^[\\x20-\\x7E]+$/\n  };\n};\nconst setTitle = (argTitle) => {\n  if ((0, import_data.safeData)(globalThis.document.getElementsByTagName(\"title\"), \"0.innerText\")) {\n    globalThis.document.getElementsByTagName(\"title\")[0].innerText = String(argTitle);\n  }\n  if (getInfo().isAppleMobile) {\n    var i = document.createElement(\"iframe\");\n    i.onload = function() {\n      setTimeout(function() {\n        console.debug(\"apple setting title\");\n        i.remove();\n      }, 10);\n    };\n    globalThis.document.body.appendChild(i);\n  }\n};\nconst remInit = (argBaseSize = 16, argWidth = 375) => {\n  const setRem = () => {\n    const scale = (0, import_data.safeData)(globalThis, \"document.documentElement.clientWidth\", argWidth) / argWidth;\n    (0, import_data.safeData)(\n      globalThis,\n      \"document.documentElement.style.fontSize\",\n      argBaseSize * scale + \"px\",\n      true\n    );\n  };\n  setRem();\n  globalThis.onresize = () => {\n    setRem();\n  };\n};\nconst getCookie = (argName) => {\n  let cookie = globalThis.document.cookie.split(\"; \");\n  for (let i = 0; i < cookie.length; i += 1) {\n    let name = (\"\" + cookie[i]).split(\"=\");\n    if (argName === name[0]) {\n      return decodeURIComponent(name[1] || \"\");\n    }\n  }\n  return \"\";\n};\nconst setCookie = (argName, argValue = \"\", argTime = 24) => {\n  let now = new Date();\n  let offset = 8;\n  let utc = now.getTime() + now.getTimezoneOffset() * 6e4;\n  let nd = utc + 36e5 * offset;\n  let exp = new Date(nd);\n  let domain = globalThis.document.domain;\n  exp.setTime(exp.getTime() + argTime * 60 * 60 * 1e3);\n  globalThis.document.cookie = argName + \"=\" + encodeURIComponent(argValue) + \";path=/;expires=\" + exp.toUTCString() + \";domain=\" + domain + \";\";\n};\nconst delCookie = (argName = \"\") => {\n  setCookie(argName, \"\", -1);\n};\nconst getInfo = () => {\n  let ua = (0, import_data.safeData)(globalThis, \"navigator.userAgent\", \"\").toLowerCase();\n  let platform = (0, import_data.safeData)(\n    globalThis,\n    \"navigator.userAgentData.platform\",\n    \"\"\n  ).toLowerCase();\n  let info = {\n    ua,\n    platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match(\"win\"),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match(\"mac\"),\n    isIos: !!platform.match(\"ios\"),\n    isAndroid: !!platform.match(\"android\"),\n    isSafari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"chrome\") < 1,\n    isIE: \"ActiveXObject\" in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i)\n  };\n  if (info.ua.match(\"msie\")) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/);\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1];\n    }\n  }\n  info.isAppleMobile = !!(info.isMobile && ua.toLowerCase().indexOf(\"applewebkit\") && ua.indexOf(\"chrome\") < 1);\n  return info;\n};\nconst getRandomColor = function() {\n  return \"#\" + (\"00000\" + (Math.random() * 16777216 << 0).toString(16)).substring(-6);\n};\nconst getStorage = (argKey, argNoJson) => {\n  let res = globalThis.localStorage.getItem(argKey);\n  if (!argNoJson && (0, import_is.isJson)(res) && res) {\n    res = JSON.parse(res);\n  }\n  return res || \"\";\n};\nconst setStorage = (argKey, argData) => {\n  if (typeof argData === \"object\") {\n    argData = JSON.stringify(argData);\n  }\n  globalThis.localStorage.setItem(argKey, String(argData));\n  return String(argData);\n};\nconst sleep = (ms) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description no\n */\n\nimport { safeData } from './data'\nimport { isJson } from './is'\nimport { Info, AnyObject } from './types'\n\n/**\n * @module index\n * @author linj\n * @description 公共函数，使用'lj-utils'引入\n */\nlet isOnline: boolean = true\n// 断网监听\nif (globalThis && globalThis.addEventListener) {\n  // #ifdef H5\n  globalThis.addEventListener('offline', function () {\n    console.debug('offLine')\n    isOnline = false\n  })\n  globalThis.addEventListener('online', function () {\n    console.debug('onLine')\n    isOnline = true\n  })\n  // #endif\n}\n\n/**\n * @function\n * @description 获取当前网络状态（H5）\n * @return boolean\n */\nexport const getNetworkStatus = () => {\n  return isOnline\n}\n/**\n * @function\n * @description 正则收集\n * @returns {object}\n */\nexport const getRegexp = (): AnyObject => {\n  return {\n    // 匹配html标签，提取html文字： htmlCode.replace(reg.html,'')\n    html: /<[^>]+>/gim,\n    // 至少1数字1字母1字符，8-16位\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    // 普通身份证号正则，isIdCard更为严格\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    // 简易身份证号 数字+x\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    // 手机号\n    phone: /^1\\d{10}$/,\n    // 邮箱\n    email: /^(w)+(.w+)*@(w)+((.w+)+)$/,\n    // 网址\n    http: /http:\\/\\/|https:\\/\\//,\n    // 含0整数（得分）\n    score: /^[1-9]\\d*|0$/,\n    // 整数\n    int: /^[1-9]\\d*$/,\n    // 匹配数字\n    number: /^\\d*$/,\n    // >=0||1位小数\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    // >=0||2位小数\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    // >=0||3位小数\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    // 字母+数字组合\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    // 字母\n    letter: /^[a-zA-Z]*$/,\n    // 帐号50个字内：大小写+数字+中文+'_'+'-'\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    // 中英文姓名 50个字内/中文 中文/英文-. 英文-./\n    realName:\n      /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    // 匹配中文\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    // 匹配ASCII,非中文之外的字符\n    ascii: /^[\\x20-\\x7E]+$/,\n  }\n}\n\n/**\n * @function\n * @description 设置标题\n * @param  {string} argTitle 标题\n */\nexport const setTitle = (argTitle: string | number) => {\n  if (\n    safeData(globalThis.document.getElementsByTagName('title'), '0.innerText')\n  ) {\n    globalThis.document.getElementsByTagName('title')[0].innerText =\n      String(argTitle)\n  }\n  if (getInfo().isAppleMobile) {\n    var i = document.createElement('iframe')\n    i.onload = function () {\n      setTimeout(function () {\n        console.debug('apple setting title')\n        i.remove()\n      }, 10)\n    }\n    globalThis.document.body.appendChild(i)\n  }\n}\n/**\n * @function\n * @description 使用postcss-px2rem时使用\n * @param {number} argBaseSize 基础大小 16px（要跟配置一致）\n * @param {number} argWidth 基准宽度\n */\nexport const remInit = (argBaseSize: number = 16, argWidth: number = 375) => {\n  // 设置 rem 函数\n  const setRem = () => {\n    // 当前页面宽度相对于 argWidth 宽的缩放比例，可根据自己需要修改。\n    const scale =\n      safeData(globalThis, 'document.documentElement.clientWidth', argWidth) /\n      argWidth\n    // 设置页面根节点字体大小\n    safeData(\n      globalThis,\n      'document.documentElement.style.fontSize',\n      argBaseSize * scale + 'px',\n      true\n    )\n  }\n  // 初始化\n  setRem()\n  // 改变窗口大小时重新设置 rem\n  globalThis.onresize = () => {\n    setRem()\n  }\n}\n/**\n * @function\n * @description 获取cookie\n * @param  {string} argName 要获取的值\n * @returns {string}\n */\nexport const getCookie = (argName: string): string => {\n  let cookie = globalThis.document.cookie.split('; ')\n  for (let i = 0; i < cookie.length; i += 1) {\n    let name = ('' + cookie[i]).split('=')\n    if (argName === name[0]) {\n      return decodeURIComponent(name[1] || '')\n    }\n  }\n  return ''\n}\n/**\n * @function\n * @description 设置cookie\n * @param  {string} argName 要设置的key\n * @param  {string} argValue 要设置的value\n * @param  {number} argTime 过期时间/时 默认24小时\n */\nexport const setCookie = (\n  argName: string,\n  argValue: string | number | boolean = '',\n  argTime: number = 24\n) => {\n  let now = new Date()\n  let offset = 8\n  let utc = now.getTime() + now.getTimezoneOffset() * 60000\n  let nd = utc + 3600000 * offset\n  let exp = new Date(nd)\n  let domain = globalThis.document.domain\n  exp.setTime(exp.getTime() + argTime * 60 * 60 * 1000)\n  globalThis.document.cookie =\n    argName +\n    '=' +\n    encodeURIComponent(argValue) +\n    ';path=/;expires=' +\n    exp.toUTCString() +\n    ';domain=' +\n    domain +\n    ';'\n}\n/**\n * @function\n * @description 清除cookie\n * @param  {string} argName 要清除的值\n */\nexport const delCookie = (argName: string = '') => {\n  setCookie(argName, '', -1)\n}\n\n/**\n * @function\n * @description 检测浏览器状态，系统状态 *\n * @returns {Info} {\n * ua: ua,\n * platform: 平台,\n * isMobile: 移动端,\n * isWin: winPC端,\n * isIphone: iphone,\n * isIpad: ipad,\n * isMac: mac,\n * isAppleMobile: 苹果移动端webview\n * isSafari: Safari浏览器,\n * isIos: Ios平台,\n * isAndroid: android平台,\n * isIE: 显示8 9 10, true为11以上\n * ...\n * }\n */\nexport const getInfo = (): Info => {\n  let ua = safeData(globalThis, 'navigator.userAgent', '').toLowerCase()\n  let platform: string = safeData(\n    globalThis,\n    'navigator.userAgentData.platform',\n    ''\n  ).toLowerCase()\n  let info: Info = {\n    ua: ua,\n    platform: platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match('win'),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match('mac'),\n    isIos: !!platform.match('ios'),\n    isAndroid: !!platform.match('android'),\n    isSafari: ua.indexOf('safari') > -1 && ua.indexOf('chrome') < 1,\n    isIE: 'ActiveXObject' in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i),\n  }\n  if (info.ua.match('msie')) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/)\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1]\n    }\n  }\n  info.isAppleMobile = !!(\n    info.isMobile &&\n    ua.toLowerCase().indexOf('applewebkit') &&\n    ua.indexOf('chrome') < 1\n  )\n  return info\n}\n/**\n * @function\n * @description 获取随机颜色\n * @return string\n */\nexport const getRandomColor = function () {\n  return (\n    '#' +\n    ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substring(-6)\n  )\n}\n/**\n * @function\n * @description 获取storage的值，默认将json转为obj\n * @param {string} argKey 要获取的key\n * @param {string} argNoJson true时不自动转换JSON字符串\n * @returns {any} key对应的数据\n */\nexport const getStorage = (argKey: string, argNoJson?: string): any => {\n  let res = globalThis.localStorage.getItem(argKey)\n  // 默认转义JSON字符串\n  if (!argNoJson && isJson(res) && res) {\n    res = JSON.parse(res)\n  }\n  return res || ''\n}\n\n/**\n * @function\n * @description 设置storage的值，默认将obj转为json\n * @param {string} argKey 要获取的key\n * @param {unknown} argData 要保存的数据\n * @returns {string} 保存的数据String\n */\nexport const setStorage = (argKey: string, argData: unknown): string => {\n  if (typeof argData === 'object') {\n    argData = JSON.stringify(argData)\n  }\n  globalThis.localStorage.setItem(argKey, String(argData))\n  return String(argData)\n}\n\n/**\n * @function\n * @description setTimeout promise版\n * @param  {number} ms 时间，毫秒\n */\nexport const sleep = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2823","url":"/home/runner/work/utils/utils/src/base.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6113,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":6110,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":12}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":12}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"delCookie","ranges":[{"startOffset":930,"endOffset":945,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":960,"endOffset":975,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":988,"endOffset":1001,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1023,"endOffset":1045,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":1065,"endOffset":1085,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1100,"endOffset":1115,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":1131,"endOffset":1147,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":1160,"endOffset":1173,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":1188,"endOffset":1203,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":1219,"endOffset":1235,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":1249,"endOffset":1263,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":1274,"endOffset":1285,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1517,"endOffset":1585,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1628,"endOffset":1694,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1724,"endOffset":1752,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1772,"endOffset":2674,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":2693,"endOffset":3175,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":3193,"endOffset":3595,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":3615,"endOffset":3879,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":3899,"endOffset":4348,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":4368,"endOffset":4419,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":4437,"endOffset":5474,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":5499,"endOffset":5600,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":5621,"endOffset":5808,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":5829,"endOffset":6019,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":6035,"endOffset":6106,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  decodeHtml: () => decodeHtml,\n  encodeHtml: () => encodeHtml,\n  getEnv: () => getEnv,\n  getObj: () => getObj,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  hideInfo: () => hideInfo,\n  randomInt: () => randomInt,\n  replaceUrlParam: () => replaceUrlParam,\n  safeData: () => safeData,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setUrlParams: () => setUrlParams,\n  string10to62: () => string10to62,\n  string62to10: () => string62to10,\n  toFixed: () => toFixed,\n  toHump: () => toHump,\n  toLine: () => toLine,\n  toList: () => toList\n});\nmodule.exports = __toCommonJS(stdin_exports);\nlet ENV = {};\nlet DATA_OBJECT = {};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst toFixed = (argData, argNum = 2, argType = \"string\") => {\n  let data = Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum);\n  data = (+data || 0).toFixed(argNum);\n  return argType === \"string\" ? data : +data;\n};\nconst toLine = (argData, argUnit = \"_\") => {\n  return argData.replace(/([A-Z])/g, argUnit + \"$1\").toLowerCase();\n};\nconst toHump = (argData, argUnit = \"_\") => {\n  return argData.replace(\n    new RegExp(\"\\\\\" + argUnit + \"(\\\\w)\", \"g\"),\n    (_, letter) => {\n      return letter.toUpperCase();\n    }\n  );\n};\nconst string10to62 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\".split(\"\");\n  let radix = chars.length;\n  let data = +argData;\n  let arr = [];\n  do {\n    let mod = data % radix;\n    data = (data - mod) / radix;\n    arr.unshift(chars[mod]);\n  } while (data);\n  return arr.join(\"\");\n};\nconst string62to10 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\";\n  let radix = chars.length;\n  let len = argData.length;\n  let i = 0;\n  let resNum = 0;\n  while (i < len) {\n    resNum += Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || \"0\");\n  }\n  return resNum;\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData = decodeURIComponent(argData);\n    let temArr = argData.split(\"?\");\n    argData = temArr.pop() || \"\";\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key, value) => {\n      res[key] = value;\n      return \"\";\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  let reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  let r = url.match(reg);\n  let search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function() {\n        if (!arguments[4] || !arguments[4].length) {\n          return \"\";\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1];\n        }\n        return arguments[1] + arguments[4];\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    let sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    let sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst encodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&/g, \"&amp;\");\n  argHtml = argHtml.replace(/</g, \"&lt;\");\n  argHtml = argHtml.replace(/>/g, \"&gt;\");\n  argHtml = argHtml.replace(/'/g, \"&#39;\");\n  argHtml = argHtml.replace(/\"/g, \"&quot;\");\n  argHtml = argHtml.replace(/ /g, \"&nbsp;\");\n  argHtml = argHtml.replace(/\\n/g, \"<br>\");\n  return argHtml;\n};\nconst decodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&amp;/g, \"&\");\n  argHtml = argHtml.replace(/&lt;/g, \"<\");\n  argHtml = argHtml.replace(/&gt;/g, \">\");\n  argHtml = argHtml.replace(/&#39;/g, \"'\");\n  argHtml = argHtml.replace(/&quot;/g, '\"');\n  argHtml = argHtml.replace(/&nbsp;/g, \" \");\n  argHtml = argHtml.replace(/<br>/g, \"\\n\");\n  return argHtml;\n};\nconst hideInfo = (argData = \"\", argStart = 3, argEnd = 4) => {\n  argData = String(argData);\n  let temLen = argData.length;\n  let temSL = argData.length - argEnd - argStart;\n  let start = \"\";\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += \"*\";\n    }\n    argData = argData.substring(0, argStart) + start + argData.substring(temLen - argEnd, temLen);\n  }\n  return argData;\n};\nconst getUuid = () => {\n  function S4() {\n    return ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  }\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nfunction toList(map, getItem) {\n  const list = [];\n  Object.keys(map).forEach((key) => {\n    const item = getItem(key, map[key]);\n    list.push(item);\n  });\n  return list;\n}\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 类字符串/参数处理\n */\n\nimport { AnyObject, Bool } from './types'\n\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * 描述\n * @function\n * @description toFixed处理\n * @date 2020-03-01\n * @param {string|number} argData 要处理的数据\n * @param {number} argNum 要保留位数,默认返回2位小数\n * @param {string} argType 返回类型，默认返回字符串\n * @returns {string|number} 返回处理好的数据\n */\nexport const toFixed = (\n  argData: string | number,\n  argNum: number = 2,\n  argType: string = 'string'\n): string | number => {\n  let data: number | string =\n    Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum)\n  data = (+data || 0).toFixed(argNum)\n  return argType === 'string' ? data : +data\n}\n/**\n * @function\n * @description 驼峰转下划线\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toLine = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(/([A-Z])/g, argUnit + '$1').toLowerCase()\n}\n\n/**\n * @function\n * @description 下划线转驼峰\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toHump = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(\n    new RegExp('\\\\' + argUnit + '(\\\\w)', 'g'),\n    (_, letter) => {\n      return letter.toUpperCase()\n    }\n  )\n}\n/**\n * 描述\n * @function\n * @description 10进制转62进制,用于短网址转换\n * @date 2020-03-01\n * @param {number|string} argData 要处理的数据\n * @returns {string} 返回处理好的数据\n */\nexport const string10to62 = (argData: number | string): string => {\n  let chars =\n    '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'.split('')\n  let radix = chars.length\n  let data = +argData\n  let arr = []\n  do {\n    let mod = data % radix\n    data = (data - mod) / radix\n    arr.unshift(chars[mod])\n  } while (data)\n  return arr.join('')\n}\n/**\n * 描述\n * @function\n * @description 62进制转10进制,用于短网址转换\n * @date 2020-03-01\n * @param {string} argData 要处理的数据\n * @returns {number} 返回处理好的数据\n */\nexport const string62to10 = (argData: string): number => {\n  let chars = '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'\n  let radix = chars.length\n  let len = argData.length\n  let i = 0\n  let resNum = 0\n  while (i < len) {\n    resNum +=\n      Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || '0')\n  }\n  return resNum\n}\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): any => {\n  const res: any = {}\n  try {\n    argData = decodeURIComponent(argData)\n    let temArr = argData.split('?')\n    argData = temArr.pop() || ''\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key: string, value) => {\n      res[key] = value\n      return ''\n    })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  let reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  let r = url.match(reg)\n  let search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function () {\n        if (!arguments[4] || !arguments[4].length) {\n          return ''\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1]\n        }\n        return arguments[1] + arguments[4]\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    let sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    let sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 转义html标签\n * @param  {string} argHtml 需要转义的文本\n * @returns {string}\n */\nexport const encodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&/g, '&amp;')\n  argHtml = argHtml.replace(/</g, '&lt;')\n  argHtml = argHtml.replace(/>/g, '&gt;')\n  argHtml = argHtml.replace(/'/g, '&#39;')\n  argHtml = argHtml.replace(/\"/g, '&quot;')\n  argHtml = argHtml.replace(/ /g, '&nbsp;')\n  argHtml = argHtml.replace(/\\n/g, '<br>')\n  return argHtml\n}\n\n/**\n * @function\n * @description 反转义html标签\n * @param  {string} argHtml 需要反转义的文本\n * @returns {string}\n */\nexport const decodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&amp;/g, '&')\n  argHtml = argHtml.replace(/&lt;/g, '<')\n  argHtml = argHtml.replace(/&gt;/g, '>')\n  argHtml = argHtml.replace(/&#39;/g, \"'\")\n  argHtml = argHtml.replace(/&quot;/g, '\"')\n  argHtml = argHtml.replace(/&nbsp;/g, ' ')\n  argHtml = argHtml.replace(/<br>/g, '\\n')\n  return argHtml\n}\n\n/**\n * 描述\n * @function\n * @description 数据中间加星号\n * @param {string|number} argData 要处理的数据\n * @param {number} argStart=3 前端显示多少位\n * @param {number} argEnd=4 后面显示多少位\n * @returns {string} 返回处理好的数据\n */\nexport const hideInfo = (\n  argData: string | number = '',\n  argStart: number = 3,\n  argEnd: number = 4\n): string => {\n  argData = String(argData)\n  let temLen = argData.length\n  let temSL = argData.length - argEnd - argStart\n  let start = ''\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += '*'\n    }\n    argData =\n      argData.substring(0, argStart) +\n      start +\n      argData.substring(temLen - argEnd, temLen)\n  }\n  return argData\n}\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  function S4() {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  }\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * map 转为 list，list item 具体是什么取决于传入的 getItem 函数\n * @param map\n * @param getItem\n * @return getItem()[]\n */\nexport function toList<V, K extends string, Item>(\n  map: Record<K, V>,\n  getItem: (key: K, value: V) => Item\n) {\n  const list = [] as Item[]\n  Object.keys(map).forEach((key: any) => {\n    // @ts-ignore, trust me.\n    const item = getItem(key, map[key])\n    list.push(item)\n  })\n  return list\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2824","url":"/home/runner/work/utils/utils/src/data.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":9154,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":9151,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":21}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":21}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":1}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"decodeHtml","ranges":[{"startOffset":931,"endOffset":947,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":963,"endOffset":979,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":991,"endOffset":1003,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1015,"endOffset":1027,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1044,"endOffset":1061,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1081,"endOffset":1101,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":1114,"endOffset":1127,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":1141,"endOffset":1155,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":1170,"endOffset":1185,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1206,"endOffset":1227,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1241,"endOffset":1255,"count":1}],"isBlockCoverage":true},{"functionName":"setEnv","ranges":[{"startOffset":1267,"endOffset":1279,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":1291,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1315,"endOffset":1327,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":1345,"endOffset":1363,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":1381,"endOffset":1399,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":1417,"endOffset":1435,"count":0}],"isBlockCoverage":false},{"functionName":"toFixed","ranges":[{"startOffset":1448,"endOffset":1461,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":1473,"endOffset":1485,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":1497,"endOffset":1509,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":1521,"endOffset":1533,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1637,"endOffset":2529,"count":1},{"startOffset":1725,"endOffset":1756,"count":0},{"startOffset":1758,"endOffset":1862,"count":0},{"startOffset":1960,"endOffset":1986,"count":0},{"startOffset":2005,"endOffset":2305,"count":0},{"startOffset":2330,"endOffset":2379,"count":0},{"startOffset":2419,"endOffset":2464,"count":0},{"startOffset":2511,"endOffset":2522,"count":0}],"isBlockCoverage":true},{"functionName":"toFixed","ranges":[{"startOffset":2547,"endOffset":2761,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":2778,"endOffset":2877,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":2894,"endOffset":3065,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":3088,"endOffset":3399,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":3422,"endOffset":3730,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":3753,"endOffset":4082,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":4104,"endOffset":4316,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":4341,"endOffset":4772,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":4798,"endOffset":6051,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":6072,"endOffset":6475,"count":0}],"isBlockCoverage":false},{"functionName":"decodeHtml","ranges":[{"startOffset":6496,"endOffset":6899,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":6918,"endOffset":7297,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":7315,"endOffset":7498,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":7518,"endOffset":7654,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":7671,"endOffset":7696,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":7713,"endOffset":7758,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":7775,"endOffset":7897,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":7914,"endOffset":8147,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":8164,"endOffset":8973,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":8975,"endOffset":9148,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  blobToBase64: () => blobToBase64,\n  blobToFile: () => blobToFile,\n  blobUrlToFile: () => blobUrlToFile,\n  dataURLtoBlob: () => dataURLtoBlob,\n  dlFile: () => dlFile,\n  getDuration: () => getDuration,\n  loadFile: () => loadFile\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_data = require(\"./data\");\nconst blobToBase64 = async (argBlob) => {\n  const fileReader = new FileReader();\n  fileReader.readAsDataURL(argBlob);\n  fileReader.onload = (e) => {\n    return Promise.resolve(e && e.target && e.target.result);\n  };\n  fileReader.onerror = () => {\n    return Promise.reject(new Error(\"\\u6587\\u4EF6\\u6D41\\u5F02\\u5E38\"));\n  };\n};\nconst blobUrlToFile = async (argData) => {\n  return new Promise(function(resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", argData, true);\n    xhr.responseType = \"blob\";\n    xhr.onload = function(e) {\n      if (this.status === 200) {\n        return resolve(this.response);\n      }\n    };\n    xhr.onerror = (err) => {\n      return reject(err);\n    };\n    xhr.send();\n  });\n};\nconst dataURLtoBlob = (argData) => {\n  if (!argData.match(/;base64,/)) {\n    return new Blob();\n  }\n  let arr = argData.split(\",\");\n  let mime = (0, import_data.safeData)(arr[0].match(/:(.*?);/), \"1\", \"\");\n  if (!mime) {\n    return new Blob();\n  }\n  let bstr = globalThis.atob(arr[1]);\n  let n = bstr.length;\n  let u8arr = new Uint8Array(n);\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n  return new Blob([u8arr], { type: mime });\n};\nconst blobToFile = (argBlob, argName = Date.now().toString()) => {\n  let file = new File([argBlob], argName, {\n    type: argBlob.type\n  });\n  return file;\n};\nconst dlFile = (argData, argName = Date.now().toString(), argDelTime = 1e4) => {\n  let downNode = globalThis.document.createElement(\"a\");\n  downNode.download = argName;\n  let href = \"\";\n  if (typeof argData === \"string\") {\n    if (argData.startsWith(\"blob:\")) {\n      href = argData;\n    } else if (argData.startsWith(\"data:image\")) {\n      href = argData;\n    }\n    argData = new Blob([argData]);\n  }\n  href = href || URL.createObjectURL(argData);\n  downNode.href = href;\n  setTimeout(() => {\n    URL.revokeObjectURL(href);\n  }, argDelTime);\n  globalThis.document.body.appendChild(downNode);\n  downNode.click();\n  globalThis.document.body.removeChild(downNode);\n};\nconst getDuration = async (argFile) => {\n  let filePath;\n  if (typeof argFile === \"string\") {\n    filePath = argFile;\n  } else {\n    filePath = URL.createObjectURL(argFile);\n  }\n  return new Promise((resolve, reject) => {\n    const audio = new Audio(filePath);\n    audio.addEventListener(\"loadedmetadata\", function(e) {\n      if (filePath.startsWith(\"blob:\")) {\n        URL.revokeObjectURL(filePath);\n      }\n      const duration = audio.duration;\n      audio.src = \"\";\n      return resolve(duration);\n    });\n    setTimeout(() => {\n      return reject(new Error(\"\\u8BFB\\u53D6\\u65F6\\u957F\\u8D85\\u65F6\"));\n    }, 5e3);\n  });\n};\nconst loadFile = (argUrl, argType = \"js\", argOptions = {}) => {\n  let temId = argType + \"-\" + argUrl.split(\"/\").pop();\n  let head = globalThis.document.getElementsByTagName(\"head\")[0];\n  let nodeTag;\n  if (!argOptions.disCheck) {\n    let checkTag = globalThis.document.getElementById(temId);\n    if (checkTag) {\n      if (argOptions.force) {\n        head.removeChild(checkTag);\n      } else {\n        return Promise.resolve({ msg: \"\\u5DF2\\u5B58\\u5728\\uFF0C\\u4E2D\\u65AD\\u52A0\\u8F7D\\uFF01\" });\n      }\n    }\n  }\n  switch (argType) {\n    case \"css\":\n      nodeTag = globalThis.document.createElement(\"link\");\n      nodeTag.type = \"text/css\";\n      nodeTag.rel = \"stylesheet\";\n      nodeTag.href = argUrl;\n      break;\n    case \"js\":\n      nodeTag = globalThis.document.createElement(\"script\");\n      nodeTag.src = argUrl;\n      nodeTag.type = \"text/javascript\";\n      break;\n    default:\n      console.error(\"\\u6682\\u4E0D\\u652F\\u6301\\uFF1A\" + argType);\n      return Promise.reject({ msg: \"\\u6682\\u4E0D\\u652F\\u6301\\uFF1A\" + argType });\n  }\n  nodeTag.id = temId;\n  head.appendChild(nodeTag);\n  return new Promise((resolve) => {\n    if (nodeTag.readyState) {\n      ;\n      nodeTag.onreadystatechange = function() {\n        if (nodeTag.readyState === \"complete\") {\n          ;\n          nodeTag.onreadystatechange = null;\n          return resolve(argUrl);\n        }\n      };\n    } else {\n      nodeTag.onload = function() {\n        return resolve(argUrl);\n      };\n    }\n  });\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 文件相关处理\n */\n\nimport { safeData } from './data'\n\n/**\n * 描述\n * @function\n * @description blob转base64\n * @date 2020-03-01\n * @param {Blob} argBlob 要处理的数据\n * @returns {Promise} 返回base64\n */\nexport const blobToBase64 = async (argBlob: Blob): Promise<any> => {\n  // eslint-disable-next-line no-undef\n  const fileReader = new FileReader()\n  fileReader.readAsDataURL(argBlob)\n  fileReader.onload = (e) => {\n    return Promise.resolve(e && e.target && e.target.result)\n  }\n  fileReader.onerror = () => {\n    return Promise.reject(new Error('文件流异常'))\n  }\n}\n/**\n * 描述\n * @function\n * @description blobUrl 转 file文件\n * @date 2020-03-01\n * @param {string} argData blobUrl\n * @returns {Promise} 返回文件流\n */\nexport const blobUrlToFile = async (argData: string): Promise<any> => {\n  return new Promise(function (resolve, reject) {\n    // eslint-disable-next-line no-undef\n    var xhr = new XMLHttpRequest()\n    xhr.open('GET', argData, true)\n    xhr.responseType = 'blob'\n    xhr.onload = function (e) {\n      if (this.status === 200) {\n        return resolve(this.response)\n      }\n    }\n    xhr.onerror = (err) => {\n      return reject(err)\n    }\n    xhr.send()\n  })\n}\n\n/**\n * @function\n * @description 图片dataUrl base64转blob对象\n * @param {string} argData dataUrl\n * @returns {Blob}\n */\nexport const dataURLtoBlob = (argData: string): Blob => {\n  if (!argData.match(/;base64,/)) {\n    return new Blob()\n  }\n  let arr = argData.split(',')\n  let mime: string = safeData(arr[0].match(/:(.*?);/), '1', '')\n  if (!mime) {\n    return new Blob()\n  }\n  let bstr = globalThis.atob(arr[1])\n  let n = bstr.length\n  let u8arr = new Uint8Array(n)\n  while (n--) {\n    u8arr[n] = bstr.charCodeAt(n)\n  }\n  return new Blob([u8arr], { type: mime })\n}\n\n/**\n * @function\n * @description blob转file对象\n * @param {Blob} argBlob blob对像\n * @param {string} argName filename\n * @returns {File}\n */\nexport const blobToFile = (\n  argBlob: Blob,\n  argName: string = Date.now().toString()\n): File => {\n  let file = new File([argBlob], argName, {\n    type: argBlob.type,\n  })\n  return file\n}\n/**\n * @function\n * @description 下载文件\n * @param {string|Blob|File} argData blob对像/file对象/dataUrl/base64\n * @param {string} argName filename\n * @param {number} argDelTime 移除dateUrl时间\n */\nexport const dlFile = (\n  argData: string | Blob | File,\n  argName: string = Date.now().toString(),\n  argDelTime: number = 10000\n) => {\n  let downNode = globalThis.document.createElement('a')\n  downNode.download = argName\n  // 字符内容转换为blob地址\n  let href = ''\n  if (typeof argData === 'string') {\n    if (argData.startsWith('blob:')) {\n      href = argData\n    } else if (argData.startsWith('data:image')) {\n      href = argData\n    }\n    argData = new Blob([argData])\n  }\n  href = href || URL.createObjectURL(argData)\n  downNode.href = href\n  setTimeout(() => {\n    URL.revokeObjectURL(href)\n  }, argDelTime)\n  globalThis.document.body.appendChild(downNode)\n  downNode.click()\n  globalThis.document.body.removeChild(downNode)\n}\n/**\n * @function\n * @description 获取音视频时长\n * @param {Blob|File|string} argFile 音视频数据，string时为链接\n * @returns {Promise} 时长单位秒\n */\nexport const getDuration = async (\n  argFile: Blob | File | string\n): Promise<any> => {\n  let filePath: string\n  if (typeof argFile === 'string') {\n    filePath = argFile\n  } else {\n    filePath = URL.createObjectURL(argFile)\n  }\n  return new Promise((resolve, reject) => {\n    const audio = new Audio(filePath)\n    audio.addEventListener('loadedmetadata', function (e) {\n      if (filePath.startsWith('blob:')) {\n        URL.revokeObjectURL(filePath)\n      }\n      const duration = audio.duration\n      audio.src = ''\n      return resolve(duration)\n    })\n    setTimeout(() => {\n      return reject(new Error('读取时长超时'))\n    }, 5000)\n  })\n}\n/**\n * @function\n * @description 动态加载html文件标签\n * @param {string} argUrl 要加载的url\n * @param {string} argType 加载类型 js/css\n * @param {object} argOptions{\n * disCheck:'不检查是否有相同标签'\n * force:'如果有相同标签，先删除再添加'\n * } 是否强制添加\n * @return {Promise}\n */\nexport const loadFile = (\n  argUrl: string,\n  argType: 'js' | 'css' = 'js',\n  argOptions: { [key: string]: any } = {}\n): Promise<any> => {\n  let temId = argType + '-' + argUrl.split('/').pop()\n  let head = globalThis.document.getElementsByTagName('head')[0]\n  let nodeTag: HTMLLinkElement | HTMLScriptElement\n  if (!argOptions.disCheck) {\n    let checkTag = globalThis.document.getElementById(temId)\n    // 已经存在对应tag\n    if (checkTag) {\n      if (argOptions.force) {\n        head.removeChild(checkTag)\n      } else {\n        return Promise.resolve({ msg: '已存在，中断加载！' })\n      }\n    }\n  }\n  switch (argType) {\n    case 'css':\n      nodeTag = globalThis.document.createElement('link')\n      nodeTag.type = 'text/css'\n      nodeTag.rel = 'stylesheet'\n      nodeTag.href = argUrl\n      break\n    case 'js':\n      nodeTag = globalThis.document.createElement('script')\n      nodeTag.src = argUrl\n      nodeTag.type = 'text/javascript'\n      break\n    default:\n      console.error('暂不支持：' + argType)\n      return Promise.reject({ msg: '暂不支持：' + argType })\n  }\n  nodeTag.id = temId\n  head.appendChild(nodeTag)\n  return new Promise((resolve) => {\n    if ((nodeTag as unknown as Document).readyState) {\n      // ljTodo 2022-04-12 11:53:50\n      // nodeTag.onreadystatechange = function () {\n      //   if (\n      //     nodeTag.readyState === 'loaded' ||\n      //     nodeTag.readyState === 'complete'\n      //   ) {\n      //     nodeTag.onreadystatechange = null\n      //     return resolve(argUrl)\n      //   }\n      // }\n      ;(nodeTag as unknown as Document).onreadystatechange = function () {\n        if ((nodeTag as unknown as Document).readyState === 'complete') {\n          ;(nodeTag as unknown as Document).onreadystatechange = null\n          return resolve(argUrl)\n        }\n      }\n    } else {\n      // Others\n      nodeTag.onload = function () {\n        return resolve(argUrl)\n      }\n    }\n  })\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"8","url":"/home/runner/work/utils/utils/src/file.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":5333,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":5330,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":7}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":7}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":7}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"blobToBase64","ranges":[{"startOffset":933,"endOffset":951,"count":1}],"isBlockCoverage":true},{"functionName":"blobToFile","ranges":[{"startOffset":967,"endOffset":983,"count":1}],"isBlockCoverage":true},{"functionName":"blobUrlToFile","ranges":[{"startOffset":1002,"endOffset":1021,"count":1}],"isBlockCoverage":true},{"functionName":"dataURLtoBlob","ranges":[{"startOffset":1040,"endOffset":1059,"count":1}],"isBlockCoverage":true},{"functionName":"dlFile","ranges":[{"startOffset":1071,"endOffset":1083,"count":1}],"isBlockCoverage":true},{"functionName":"getDuration","ranges":[{"startOffset":1100,"endOffset":1117,"count":1}],"isBlockCoverage":true},{"functionName":"loadFile","ranges":[{"startOffset":1131,"endOffset":1145,"count":1}],"isBlockCoverage":true},{"functionName":"blobToBase64","ranges":[{"startOffset":1254,"endOffset":1558,"count":1}],"isBlockCoverage":true},{"functionName":"fileReader.onload","ranges":[{"startOffset":1373,"endOffset":1447,"count":0}],"isBlockCoverage":false},{"functionName":"fileReader.onerror","ranges":[{"startOffset":1472,"endOffset":1555,"count":0}],"isBlockCoverage":false},{"functionName":"blobUrlToFile","ranges":[{"startOffset":1582,"endOffset":1958,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1624,"endOffset":1954,"count":1}],"isBlockCoverage":true},{"functionName":"xhr.onload","ranges":[{"startOffset":1772,"endOffset":1871,"count":0}],"isBlockCoverage":false},{"functionName":"xhr.onerror","ranges":[{"startOffset":1891,"endOffset":1933,"count":0}],"isBlockCoverage":false},{"functionName":"dataURLtoBlob","ranges":[{"startOffset":1982,"endOffset":2402,"count":2},{"startOffset":2031,"endOffset":2179,"count":1},{"startOffset":2179,"endOffset":2207,"count":0},{"startOffset":2207,"endOffset":2316,"count":1},{"startOffset":2316,"endOffset":2356,"count":9},{"startOffset":2356,"endOffset":2401,"count":1}],"isBlockCoverage":true},{"functionName":"blobToFile","ranges":[{"startOffset":2423,"endOffset":2560,"count":1}],"isBlockCoverage":true},{"functionName":"dlFile","ranges":[{"startOffset":2577,"endOffset":3226,"count":2},{"startOffset":2783,"endOffset":2963,"count":1},{"startOffset":2822,"endOffset":2851,"count":0},{"startOffset":2895,"endOffset":2924,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3048,"endOffset":3090,"count":0}],"isBlockCoverage":false},{"functionName":"getDuration","ranges":[{"startOffset":3248,"endOffset":3853,"count":2},{"startOffset":3320,"endOffset":3405,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3427,"endOffset":3849,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3534,"endOffset":3735,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":3753,"endOffset":3838,"count":0}],"isBlockCoverage":false},{"functionName":"loadFile","ranges":[{"startOffset":3872,"endOffset":5326,"count":1},{"startOffset":4165,"endOffset":4360,"count":0},{"startOffset":4390,"endOffset":4569,"count":0},{"startOffset":4731,"endOffset":4886,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4963,"endOffset":5322,"count":1},{"startOffset":5006,"endOffset":5228,"count":0}],"isBlockCoverage":true},{"functionName":"nodeTag.onreadystatechange","ranges":[{"startOffset":5051,"endOffset":5221,"count":0}],"isBlockCoverage":false},{"functionName":"nodeTag.onload","ranges":[{"startOffset":5259,"endOffset":5311,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  formatNumber: () => formatNumber,\n  formatSize: () => formatSize,\n  formatTime: () => formatTime,\n  friendlyTime: () => friendlyTime,\n  px2vw: () => px2vw,\n  rmbPrice: () => rmbPrice,\n  secondToTime: () => secondToTime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_data = require(\"./data\");\nvar import_data2 = require(\"./data\");\nconst rmbPrice = (argData, argRate = -1, argUnit = \"\\uFFE5\", argDef = \"--\") => {\n  if (typeof argData === \"string\" || typeof argData === \"number\") {\n    if (!argData && argData !== 0) {\n      return argDef;\n    }\n  } else {\n    return argDef;\n  }\n  argData = Number(argData);\n  if (argRate > -1) {\n    argData = +(0, import_data.toFixed)(argData, argRate);\n  }\n  return argUnit + argData;\n};\nconst formatTime = (date = +new Date(), fmt = \"YYYY-MM-DD HH:mm:ss\", emptyTip = \"\") => {\n  if (!date && date !== 0) {\n    return emptyTip;\n  }\n  if (isNaN(+date)) {\n    return emptyTip;\n  }\n  if (typeof date === \"number\") {\n    if (date.toString().length === 10) {\n      date = date * 1e3;\n    }\n  }\n  date = new Date(+date);\n  const fmtMap = {\n    \"M+\": date.getMonth() + 1,\n    \"D+\": date.getDate(),\n    \"h+\": date.getHours() % 12 === 0 ? 12 : date.getHours() % 12,\n    \"H+\": date.getHours(),\n    \"m+\": date.getMinutes(),\n    \"s+\": date.getSeconds(),\n    \"q+\": Math.floor((date.getMonth() + 3) / 3),\n    S: date.getMilliseconds()\n  };\n  const week = {\n    0: \"\\u65E5\",\n    1: \"\\u4E00\",\n    2: \"\\u4E8C\",\n    3: \"\\u4E09\",\n    4: \"\\u56DB\",\n    5: \"\\u4E94\",\n    6: \"\\u516D\"\n  };\n  const temY = fmt.match(/(Y+)/);\n  if (temY) {\n    fmt = fmt.replace(\n      temY[0],\n      (date.getFullYear() + \"\").substring(4 - temY[0].length)\n    );\n  }\n  const temWeek = fmt.match(/(E+)/);\n  if (temWeek) {\n    const temWeekName = [\"\", \"\\u5468\"];\n    fmt = fmt.replace(\n      temWeek[0],\n      (temWeekName[temWeek[0].length] || \"\\u661F\\u671F\") + (0, import_data2.safeData)(week, date.getDay().toString(), \"\")\n    );\n  }\n  for (let k in fmtMap) {\n    let temMatch = fmt.match(new RegExp(\"(\" + k + \")\"));\n    if (temMatch) {\n      fmt = fmt.replace(\n        temMatch[0],\n        temMatch[0].length === 1 ? fmtMap[k].toString() : (\"00\" + fmtMap[k].toString()).substring((\"\" + fmtMap[k]).length)\n      );\n    }\n  }\n  return fmt;\n};\nconst friendlyTime = (date = +new Date(), fmt = \"YYYY-MM-DD HH:mm:ss\", emptyTip = \"\") => {\n  if (!date && date !== 0) {\n    return emptyTip;\n  }\n  if (isNaN(+date)) {\n    return emptyTip;\n  }\n  if (typeof date === \"number\" || typeof date === \"string\") {\n    if (date.toString().length === 10) {\n      date = date.toString() + \"000\";\n    }\n  }\n  date = new Date(+date);\n  let diff = (new Date().getTime() - date.getTime()) / 1e3;\n  let dayDiff = Math.floor(diff / 86400);\n  let isValidDate = Object.prototype.toString.call(date) === \"[object Date]\" && !isNaN(date.getTime());\n  if (!isValidDate) {\n    console.warn(\"friendlyTime:\", \"not a valid date\");\n    return emptyTip || \"--\";\n  }\n  if (isNaN(dayDiff) || dayDiff < 0 || dayDiff >= 365) {\n    return formatTime(date, fmt);\n  }\n  return (dayDiff === 0 && (diff < 60 && \"\\u521A\\u521A\" || diff < 120 && \"1\\u5206\\u949F\\u524D\" || diff < 3600 && Math.floor(diff / 60) + \"\\u5206\\u949F\\u524D\" || diff < 7200 && \"1\\u5C0F\\u65F6\\u524D\" || diff < 86400 && Math.floor(diff / 3600) + \"\\u5C0F\\u65F6\\u524D\") || dayDiff === 1 && \"\\u6628\\u5929\" || dayDiff < 7 && dayDiff + \"\\u5929\\u524D\" || dayDiff < 31 && Math.ceil(dayDiff / 7) + \"\\u5468\\u524D\" || dayDiff < 365 && Math.ceil(dayDiff / 31) + \"\\u6708\\u524D\").toString();\n};\nconst px2vw = (argPx, argWith = 375, argNum = 6, argUnit = \"vw\") => {\n  return +(0, import_data.toFixed)(100 / argWith * argPx, argNum) + argUnit;\n};\nconst secondToTime = (argData, argType = \"y\", argOption = {}) => {\n  let res = [];\n  let list = [\n    {\n      size: 1,\n      type: \"s\",\n      unit: \"\",\n      index: 0\n    },\n    {\n      size: 60,\n      unit: \":\",\n      type: \"m\",\n      index: 1\n    },\n    {\n      size: 60,\n      unit: \":\",\n      type: \"h\",\n      index: 2\n    },\n    {\n      size: 24,\n      unit: \":\",\n      type: \"d\",\n      index: 3\n    },\n    {\n      size: 30,\n      unit: \":\",\n      type: \"M\",\n      index: 4\n    },\n    {\n      size: 12,\n      unit: \":\",\n      type: \"y\",\n      index: 5\n    }\n  ];\n  let temLen = list.length;\n  let second = argData;\n  let size = 1;\n  let unitList = (argOption == null ? void 0 : argOption.unit) || [\"\\u5E74\", \"\\u6708\", \"\\u5929\", \"\\u65F6\", \"\\u5206\", \"\\u79D2\"];\n  let index = 0;\n  for (let i = 0; i < temLen; i++) {\n    let lastSize = size;\n    if (argType === list[i].type) {\n      let temTime = Math.floor(second / lastSize);\n      if (temTime < 10) {\n        temTime = \"0\" + temTime;\n      }\n      res.unshift(temTime);\n      index = temLen - i - 1;\n      break;\n    }\n    size = size * list[i + 1].size;\n    let time = Math.floor(second % size / lastSize);\n    if (time < 10) {\n      time = \"0\" + time;\n    }\n    res.unshift(time);\n  }\n  let timeText = \"\";\n  let isZero = true;\n  res.map((v, k) => {\n    if (!+v && isZero) {\n    } else {\n      isZero = false;\n      timeText += v + unitList[index + k];\n    }\n  });\n  return timeText;\n};\nconst formatSize = (argData, argNum = 2, argIndex = 0, argRate = 1024, unit = [\"B\", \"K\", \"M\", \"G\", \"T\", \"P\"]) => {\n  let list = unit;\n  if (!argData) {\n    return \"0\" + list[argIndex];\n  }\n  let len = list.length;\n  let nowIndex = len - 1;\n  let temData = 0;\n  for (let i = 0; i < len; i++) {\n    temData = argData / Math.pow(argRate, i);\n    if (temData < argRate) {\n      nowIndex = argIndex + i;\n      break;\n    }\n  }\n  return (0, import_data.toFixed)(temData, argNum, \"number\") + list[nowIndex];\n};\nconst formatNumber = (argData, argNum = 2) => {\n  if (argData < 1e3) {\n    return argData.toString();\n  } else if (argData < 1e4) {\n    return (0, import_data.toFixed)(argData / 1e3, argNum, \"number\") + \"k\";\n  } else {\n    return (0, import_data.toFixed)(argData / 1e4, argNum, \"number\") + \"w\";\n  }\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 类型转换相关处理\n */\n\nimport { toFixed } from './data'\nimport { safeData } from './data'\n\n/**\n * @function\n * @description 显示人民币价格\n * @param  {unknown} argData 价格\n * @param  {number} argRate -1 保留多少位小数\n * @param  {string} argUnit ￥ 单位\n * @param  {string} argDef 空数据默认值\n * @returns {string} eg: ￥100\n */\nexport const rmbPrice = (\n  argData: unknown,\n  argRate: number = -1,\n  argUnit: string = '￥',\n  argDef: string = '--'\n): string => {\n  if (typeof argData === 'string' || typeof argData === 'number') {\n    if (!argData && argData !== 0) {\n      return argDef\n    }\n  } else {\n    return argDef\n  }\n  argData = Number(argData)\n  if (argRate > -1) {\n    argData = +toFixed(argData as number, argRate)\n  }\n  return argUnit + argData\n}\n\n/**\n * @description 日期格式化显示\n * @function\n * @param  {string|number} date 时间对象\\时间戳，默认当前时间\n * @param  {string} fmt 格式化符串，默认'YYYY-MM-DD HH:mm:ss' E为星期数，EEE:星期一 q为季度，S为毫秒数\n * @param  {string} emptyTip date为false时，默认''\n * @returns {string}\n */\nexport const formatTime = (\n  date: string | number | Date = +new Date(),\n  fmt: string = 'YYYY-MM-DD HH:mm:ss',\n  emptyTip: string = ''\n): string => {\n  if (!date && date !== 0) {\n    return emptyTip\n  }\n  if (isNaN(+date)) {\n    return emptyTip\n  }\n  if (typeof date === 'number') {\n    if (date.toString().length === 10) {\n      date = date * 1000\n    }\n  }\n  date = new Date(+date)\n  const fmtMap: { [key: string]: number } = {\n    'M+': date.getMonth() + 1,\n    'D+': date.getDate(),\n    'h+': date.getHours() % 12 === 0 ? 12 : date.getHours() % 12,\n    'H+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds(),\n    'q+': Math.floor((date.getMonth() + 3) / 3),\n    S: date.getMilliseconds(),\n  }\n  const week = {\n    0: '\\u65e5',\n    1: '\\u4e00',\n    2: '\\u4e8c',\n    3: '\\u4e09',\n    4: '\\u56db',\n    5: '\\u4e94',\n    6: '\\u516d',\n  }\n  const temY = fmt.match(/(Y+)/)\n  if (temY) {\n    fmt = fmt.replace(\n      temY[0],\n      (date.getFullYear() + '').substring(4 - temY[0].length)\n    )\n  }\n  const temWeek = fmt.match(/(E+)/)\n  if (temWeek) {\n    const temWeekName = ['', '\\u5468']\n    fmt = fmt.replace(\n      temWeek[0],\n      (temWeekName[temWeek[0].length] || '\\u661f\\u671f') +\n        safeData(week, date.getDay().toString(), '')\n    )\n  }\n  for (let k in fmtMap) {\n    let temMatch = fmt.match(new RegExp('(' + k + ')'))\n    if (temMatch) {\n      fmt = fmt.replace(\n        temMatch[0],\n        temMatch[0].length === 1\n          ? fmtMap[k].toString()\n          : ('00' + fmtMap[k].toString()).substring(('' + fmtMap[k]).length)\n      )\n    }\n  }\n  return fmt\n}\n\n/**\n * @description 日期格式化友好显示 刚刚 x分钟前 ...，超过一年的按 fmt来格式化\n * @function\n * @param  {string|number|Date} date 时间对象\\时间戳，默认当前时间\n * @param  {string} fmt 格式化符串，默认'YYYY-MM-DD HH:mm:ss'\n * @param  {string} emptyTip date为false时，默认''\n * @returns {string}\n */\nexport const friendlyTime = (\n  date: string | number | Date = +new Date(),\n  fmt: string = 'YYYY-MM-DD HH:mm:ss',\n  emptyTip: string = ''\n): string => {\n  if (!date && date !== 0) {\n    return emptyTip\n  }\n  if (isNaN(+date)) {\n    return emptyTip\n  }\n  if (typeof date === 'number' || typeof date === 'string') {\n    if (date.toString().length === 10) {\n      date = date.toString() + '000'\n    }\n  }\n  date = new Date(+date)\n  let diff = (new Date().getTime() - date.getTime()) / 1000\n  let dayDiff = Math.floor(diff / 86400)\n  let isValidDate =\n    Object.prototype.toString.call(date) === '[object Date]' &&\n    !isNaN(date.getTime())\n  if (!isValidDate) {\n    console.warn('friendlyTime:', 'not a valid date')\n    return emptyTip || '--'\n  }\n  if (isNaN(dayDiff) || dayDiff < 0 || dayDiff >= 365) {\n    return formatTime(date, fmt)\n  }\n  return (\n    (dayDiff === 0 &&\n      ((diff < 60 && '刚刚') ||\n        (diff < 120 && '1分钟前') ||\n        (diff < 3600 && Math.floor(diff / 60) + '分钟前') ||\n        (diff < 7200 && '1小时前') ||\n        (diff < 86400 && Math.floor(diff / 3600) + '小时前'))) ||\n    (dayDiff === 1 && '昨天') ||\n    (dayDiff < 7 && dayDiff + '天前') ||\n    (dayDiff < 31 && Math.ceil(dayDiff / 7) + '周前') ||\n    (dayDiff < 365 && Math.ceil(dayDiff / 31) + '月前')\n  ).toString()\n}\n/**\n * @function\n * @description px转vw\n * @param {number} argPx px\n * @param {number} argWith px对应最大宽度\n * @param {number} argNum 保留小数\n * @param {string} argUnit 单位 'vw'||'%'\n * @return {string}\n */\nexport const px2vw = (\n  argPx: number,\n  argWith: number = 375,\n  argNum: number = 6,\n  argUnit: string = 'vw'\n): string => {\n  return +toFixed((100 / argWith) * argPx, argNum) + argUnit\n}\n/**\n * @function\n * @description 秒转倒计时\n * @param {number} argData 秒数\n * @param {string} argType 's,m,h,d,M,y 对应 秒 分 时 天 月 年'\n * @param {object} argOption 额外的处理argOption.unit 单位['年', '月', '天', '时', '分', '秒']\n * @returns {string}\n */\nexport const secondToTime = (\n  argData: number,\n  argType: string = 'y',\n  argOption: { unit?: string[] } = {}\n): string => {\n  let res = []\n  let list = [\n    {\n      size: 1,\n      type: 's',\n      unit: '',\n      index: 0,\n    },\n    {\n      size: 60,\n      unit: ':',\n      type: 'm',\n      index: 1,\n    },\n    {\n      size: 60,\n      unit: ':',\n      type: 'h',\n      index: 2,\n    },\n    {\n      size: 24,\n      unit: ':',\n      type: 'd',\n      index: 3,\n    },\n    {\n      size: 30,\n      unit: ':',\n      type: 'M',\n      index: 4,\n    },\n    {\n      size: 12,\n      unit: ':',\n      type: 'y',\n      index: 5,\n    },\n  ]\n  let temLen = list.length\n  let second = argData\n  let size = 1\n  let unitList = argOption?.unit || ['年', '月', '天', '时', '分', '秒']\n  let index = 0\n  for (let i = 0; i < temLen; i++) {\n    let lastSize = size\n    if (argType === list[i].type) {\n      let temTime: number | string = Math.floor(second / lastSize)\n      if (temTime < 10) {\n        temTime = '0' + temTime\n      }\n      res.unshift(temTime)\n      index = temLen - i - 1\n      break\n    }\n    size = size * list[i + 1].size\n    let time: number | string = Math.floor((second % size) / lastSize)\n    if (time < 10) {\n      time = '0' + time\n    }\n    res.unshift(time)\n  }\n  let timeText = ''\n  let isZero = true\n  res.map((v, k) => {\n    if (!+v && isZero) {\n    } else {\n      isZero = false\n      timeText += v + unitList[index + k]\n    }\n  })\n  return timeText\n}\n/**\n * @function\n * @description 容量单位转换\n * @param {number} argData byte数据\n * @param {number} argNum 保留小数位\n * @param {number} argIndex 起始单位偏移eg: 0:b 1:k 2:m\n * @param {number} argRate 进制\n * @param {string[]} unit 进制\n * @returns {string} 计算结果\n */\nexport const formatSize = (\n  argData: number,\n  argNum: number = 2,\n  argIndex: number = 0,\n  argRate: number = 1024,\n  unit: string[] = ['B', 'K', 'M', 'G', 'T', 'P']\n): string => {\n  let list = unit\n  if (!argData) {\n    return '0' + list[argIndex]\n  }\n  let len = list.length\n  let nowIndex = len - 1\n  let temData: number = 0\n  for (let i = 0; i < len; i++) {\n    temData = argData / Math.pow(argRate, i)\n    if (temData < argRate) {\n      nowIndex = argIndex + i\n      break\n    }\n  }\n  return toFixed(temData, argNum, 'number') + list[nowIndex]\n}\n/**\n * @function\n * @description 数量单位转换k/w\n * @param {number} argData 数据\n * @param {number} argNum 保留小数位\n * @returns {string} 计算结果\n */\nexport const formatNumber = (argData: number, argNum: number = 2): string => {\n  if (argData < 1000) {\n    return argData.toString()\n  } else if (argData < 10000) {\n    return toFixed(argData / 1000, argNum, 'number') + 'k'\n  } else {\n    return toFixed(argData / 10000, argNum, 'number') + 'w'\n  }\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2826","url":"/home/runner/work/utils/utils/src/transform.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6830,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":6827,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":7}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":7}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"formatNumber","ranges":[{"startOffset":933,"endOffset":951,"count":0}],"isBlockCoverage":false},{"functionName":"formatSize","ranges":[{"startOffset":967,"endOffset":983,"count":0}],"isBlockCoverage":false},{"functionName":"formatTime","ranges":[{"startOffset":999,"endOffset":1015,"count":0}],"isBlockCoverage":false},{"functionName":"friendlyTime","ranges":[{"startOffset":1033,"endOffset":1051,"count":0}],"isBlockCoverage":false},{"functionName":"px2vw","ranges":[{"startOffset":1062,"endOffset":1073,"count":0}],"isBlockCoverage":false},{"functionName":"rmbPrice","ranges":[{"startOffset":1087,"endOffset":1101,"count":0}],"isBlockCoverage":false},{"functionName":"secondToTime","ranges":[{"startOffset":1119,"endOffset":1137,"count":0}],"isBlockCoverage":false},{"functionName":"rmbPrice","ranges":[{"startOffset":1280,"endOffset":1653,"count":0}],"isBlockCoverage":false},{"functionName":"formatTime","ranges":[{"startOffset":1674,"endOffset":3165,"count":0}],"isBlockCoverage":false},{"functionName":"friendlyTime","ranges":[{"startOffset":3188,"endOffset":4424,"count":0}],"isBlockCoverage":false},{"functionName":"px2vw","ranges":[{"startOffset":4440,"endOffset":4574,"count":0}],"isBlockCoverage":false},{"functionName":"secondToTime","ranges":[{"startOffset":4597,"endOffset":6017,"count":0}],"isBlockCoverage":false},{"functionName":"formatSize","ranges":[{"startOffset":6038,"endOffset":6521,"count":0}],"isBlockCoverage":false},{"functionName":"formatNumber","ranges":[{"startOffset":6544,"endOffset":6823,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":11,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1673578747960,"runtime":214,"slow":false,"start":1673578747746},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/base.spec.ts","testResults":[{"ancestorTitles":["base"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"base getRegexp","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getRegexp"},{"ancestorTitles":["base"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"base setTitle","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"setTitle"},{"ancestorTitles":["base"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"base remInit","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"remInit"},{"ancestorTitles":["base"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"base setCookie","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"setCookie"},{"ancestorTitles":["base"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"base getCookie","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getCookie"},{"ancestorTitles":["base"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"base delCookie","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"delCookie"},{"ancestorTitles":["base"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"base getInfoMock","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getInfoMock"},{"ancestorTitles":["base"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"base getRandomColor","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getRandomColor"},{"ancestorTitles":["base"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"base setStorage","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"setStorage"},{"ancestorTitles":["base"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"base getStorage","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"getStorage"},{"ancestorTitles":["base"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"base sleep","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"sleep"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  delCookie: () => delCookie,\n  getCookie: () => getCookie,\n  getInfo: () => getInfo,\n  getNetworkStatus: () => getNetworkStatus,\n  getRandomColor: () => getRandomColor,\n  getRegexp: () => getRegexp,\n  getStorage: () => getStorage,\n  remInit: () => remInit,\n  setCookie: () => setCookie,\n  setStorage: () => setStorage,\n  setTitle: () => setTitle,\n  sleep: () => sleep\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_data = require(\"./data\");\nvar import_is = require(\"./is\");\nlet isOnline = true;\nif (globalThis && globalThis.addEventListener) {\n  globalThis.addEventListener(\"offline\", function() {\n    console.debug(\"offLine\");\n    isOnline = false;\n  });\n  globalThis.addEventListener(\"online\", function() {\n    console.debug(\"onLine\");\n    isOnline = true;\n  });\n}\nconst getNetworkStatus = () => {\n  return isOnline;\n};\nconst getRegexp = () => {\n  return {\n    html: /<[^>]+>/gim,\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    phone: /^1\\d{10}$/,\n    email: /^(w)+(.w+)*@(w)+((.w+)+)$/,\n    http: /http:\\/\\/|https:\\/\\//,\n    score: /^[1-9]\\d*|0$/,\n    int: /^[1-9]\\d*$/,\n    number: /^\\d*$/,\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    letter: /^[a-zA-Z]*$/,\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    realName: /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    ascii: /^[\\x20-\\x7E]+$/\n  };\n};\nconst setTitle = (argTitle) => {\n  if ((0, import_data.safeData)(globalThis.document.getElementsByTagName(\"title\"), \"0.innerText\")) {\n    globalThis.document.getElementsByTagName(\"title\")[0].innerText = String(argTitle);\n  }\n  if (getInfo().isAppleMobile) {\n    var i = document.createElement(\"iframe\");\n    i.onload = function() {\n      setTimeout(function() {\n        console.debug(\"apple setting title\");\n        i.remove();\n      }, 10);\n    };\n    globalThis.document.body.appendChild(i);\n  }\n};\nconst remInit = (argBaseSize = 16, argWidth = 375) => {\n  const setRem = () => {\n    const scale = (0, import_data.safeData)(globalThis, \"document.documentElement.clientWidth\", argWidth) / argWidth;\n    (0, import_data.safeData)(\n      globalThis,\n      \"document.documentElement.style.fontSize\",\n      argBaseSize * scale + \"px\",\n      true\n    );\n  };\n  setRem();\n  globalThis.onresize = () => {\n    setRem();\n  };\n};\nconst getCookie = (argName) => {\n  let cookie = globalThis.document.cookie.split(\"; \");\n  for (let i = 0; i < cookie.length; i += 1) {\n    let name = (\"\" + cookie[i]).split(\"=\");\n    if (argName === name[0]) {\n      return decodeURIComponent(name[1] || \"\");\n    }\n  }\n  return \"\";\n};\nconst setCookie = (argName, argValue = \"\", argTime = 24) => {\n  let now = new Date();\n  let offset = 8;\n  let utc = now.getTime() + now.getTimezoneOffset() * 6e4;\n  let nd = utc + 36e5 * offset;\n  let exp = new Date(nd);\n  let domain = globalThis.document.domain;\n  exp.setTime(exp.getTime() + argTime * 60 * 60 * 1e3);\n  globalThis.document.cookie = argName + \"=\" + encodeURIComponent(argValue) + \";path=/;expires=\" + exp.toUTCString() + \";domain=\" + domain + \";\";\n};\nconst delCookie = (argName = \"\") => {\n  setCookie(argName, \"\", -1);\n};\nconst getInfo = () => {\n  let ua = (0, import_data.safeData)(globalThis, \"navigator.userAgent\", \"\").toLowerCase();\n  let platform = (0, import_data.safeData)(\n    globalThis,\n    \"navigator.userAgentData.platform\",\n    \"\"\n  ).toLowerCase();\n  let info = {\n    ua,\n    platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match(\"win\"),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match(\"mac\"),\n    isIos: !!platform.match(\"ios\"),\n    isAndroid: !!platform.match(\"android\"),\n    isSafari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"chrome\") < 1,\n    isIE: \"ActiveXObject\" in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i)\n  };\n  if (info.ua.match(\"msie\")) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/);\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1];\n    }\n  }\n  info.isAppleMobile = !!(info.isMobile && ua.toLowerCase().indexOf(\"applewebkit\") && ua.indexOf(\"chrome\") < 1);\n  return info;\n};\nconst getRandomColor = function() {\n  return \"#\" + (\"00000\" + (Math.random() * 16777216 << 0).toString(16)).substring(-6);\n};\nconst getStorage = (argKey, argNoJson) => {\n  let res = globalThis.localStorage.getItem(argKey);\n  if (!argNoJson && (0, import_is.isJson)(res) && res) {\n    res = JSON.parse(res);\n  }\n  return res || \"\";\n};\nconst setStorage = (argKey, argData) => {\n  if (typeof argData === \"object\") {\n    argData = JSON.stringify(argData);\n  }\n  globalThis.localStorage.setItem(argKey, String(argData));\n  return String(argData);\n};\nconst sleep = (ms) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description no\n */\n\nimport { safeData } from './data'\nimport { isJson } from './is'\nimport { Info, AnyObject } from './types'\n\n/**\n * @module index\n * @author linj\n * @description 公共函数，使用'lj-utils'引入\n */\nlet isOnline: boolean = true\n// 断网监听\nif (globalThis && globalThis.addEventListener) {\n  // #ifdef H5\n  globalThis.addEventListener('offline', function () {\n    console.debug('offLine')\n    isOnline = false\n  })\n  globalThis.addEventListener('online', function () {\n    console.debug('onLine')\n    isOnline = true\n  })\n  // #endif\n}\n\n/**\n * @function\n * @description 获取当前网络状态（H5）\n * @return boolean\n */\nexport const getNetworkStatus = () => {\n  return isOnline\n}\n/**\n * @function\n * @description 正则收集\n * @returns {object}\n */\nexport const getRegexp = (): AnyObject => {\n  return {\n    // 匹配html标签，提取html文字： htmlCode.replace(reg.html,'')\n    html: /<[^>]+>/gim,\n    // 至少1数字1字母1字符，8-16位\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    // 普通身份证号正则，isIdCard更为严格\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    // 简易身份证号 数字+x\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    // 手机号\n    phone: /^1\\d{10}$/,\n    // 邮箱\n    email: /^(w)+(.w+)*@(w)+((.w+)+)$/,\n    // 网址\n    http: /http:\\/\\/|https:\\/\\//,\n    // 含0整数（得分）\n    score: /^[1-9]\\d*|0$/,\n    // 整数\n    int: /^[1-9]\\d*$/,\n    // 匹配数字\n    number: /^\\d*$/,\n    // >=0||1位小数\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    // >=0||2位小数\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    // >=0||3位小数\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    // 字母+数字组合\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    // 字母\n    letter: /^[a-zA-Z]*$/,\n    // 帐号50个字内：大小写+数字+中文+'_'+'-'\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    // 中英文姓名 50个字内/中文 中文/英文-. 英文-./\n    realName:\n      /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    // 匹配中文\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    // 匹配ASCII,非中文之外的字符\n    ascii: /^[\\x20-\\x7E]+$/,\n  }\n}\n\n/**\n * @function\n * @description 设置标题\n * @param  {string} argTitle 标题\n */\nexport const setTitle = (argTitle: string | number) => {\n  if (\n    safeData(globalThis.document.getElementsByTagName('title'), '0.innerText')\n  ) {\n    globalThis.document.getElementsByTagName('title')[0].innerText =\n      String(argTitle)\n  }\n  if (getInfo().isAppleMobile) {\n    var i = document.createElement('iframe')\n    i.onload = function () {\n      setTimeout(function () {\n        console.debug('apple setting title')\n        i.remove()\n      }, 10)\n    }\n    globalThis.document.body.appendChild(i)\n  }\n}\n/**\n * @function\n * @description 使用postcss-px2rem时使用\n * @param {number} argBaseSize 基础大小 16px（要跟配置一致）\n * @param {number} argWidth 基准宽度\n */\nexport const remInit = (argBaseSize: number = 16, argWidth: number = 375) => {\n  // 设置 rem 函数\n  const setRem = () => {\n    // 当前页面宽度相对于 argWidth 宽的缩放比例，可根据自己需要修改。\n    const scale =\n      safeData(globalThis, 'document.documentElement.clientWidth', argWidth) /\n      argWidth\n    // 设置页面根节点字体大小\n    safeData(\n      globalThis,\n      'document.documentElement.style.fontSize',\n      argBaseSize * scale + 'px',\n      true\n    )\n  }\n  // 初始化\n  setRem()\n  // 改变窗口大小时重新设置 rem\n  globalThis.onresize = () => {\n    setRem()\n  }\n}\n/**\n * @function\n * @description 获取cookie\n * @param  {string} argName 要获取的值\n * @returns {string}\n */\nexport const getCookie = (argName: string): string => {\n  let cookie = globalThis.document.cookie.split('; ')\n  for (let i = 0; i < cookie.length; i += 1) {\n    let name = ('' + cookie[i]).split('=')\n    if (argName === name[0]) {\n      return decodeURIComponent(name[1] || '')\n    }\n  }\n  return ''\n}\n/**\n * @function\n * @description 设置cookie\n * @param  {string} argName 要设置的key\n * @param  {string} argValue 要设置的value\n * @param  {number} argTime 过期时间/时 默认24小时\n */\nexport const setCookie = (\n  argName: string,\n  argValue: string | number | boolean = '',\n  argTime: number = 24\n) => {\n  let now = new Date()\n  let offset = 8\n  let utc = now.getTime() + now.getTimezoneOffset() * 60000\n  let nd = utc + 3600000 * offset\n  let exp = new Date(nd)\n  let domain = globalThis.document.domain\n  exp.setTime(exp.getTime() + argTime * 60 * 60 * 1000)\n  globalThis.document.cookie =\n    argName +\n    '=' +\n    encodeURIComponent(argValue) +\n    ';path=/;expires=' +\n    exp.toUTCString() +\n    ';domain=' +\n    domain +\n    ';'\n}\n/**\n * @function\n * @description 清除cookie\n * @param  {string} argName 要清除的值\n */\nexport const delCookie = (argName: string = '') => {\n  setCookie(argName, '', -1)\n}\n\n/**\n * @function\n * @description 检测浏览器状态，系统状态 *\n * @returns {Info} {\n * ua: ua,\n * platform: 平台,\n * isMobile: 移动端,\n * isWin: winPC端,\n * isIphone: iphone,\n * isIpad: ipad,\n * isMac: mac,\n * isAppleMobile: 苹果移动端webview\n * isSafari: Safari浏览器,\n * isIos: Ios平台,\n * isAndroid: android平台,\n * isIE: 显示8 9 10, true为11以上\n * ...\n * }\n */\nexport const getInfo = (): Info => {\n  let ua = safeData(globalThis, 'navigator.userAgent', '').toLowerCase()\n  let platform: string = safeData(\n    globalThis,\n    'navigator.userAgentData.platform',\n    ''\n  ).toLowerCase()\n  let info: Info = {\n    ua: ua,\n    platform: platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match('win'),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match('mac'),\n    isIos: !!platform.match('ios'),\n    isAndroid: !!platform.match('android'),\n    isSafari: ua.indexOf('safari') > -1 && ua.indexOf('chrome') < 1,\n    isIE: 'ActiveXObject' in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i),\n  }\n  if (info.ua.match('msie')) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/)\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1]\n    }\n  }\n  info.isAppleMobile = !!(\n    info.isMobile &&\n    ua.toLowerCase().indexOf('applewebkit') &&\n    ua.indexOf('chrome') < 1\n  )\n  return info\n}\n/**\n * @function\n * @description 获取随机颜色\n * @return string\n */\nexport const getRandomColor = function () {\n  return (\n    '#' +\n    ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substring(-6)\n  )\n}\n/**\n * @function\n * @description 获取storage的值，默认将json转为obj\n * @param {string} argKey 要获取的key\n * @param {string} argNoJson true时不自动转换JSON字符串\n * @returns {any} key对应的数据\n */\nexport const getStorage = (argKey: string, argNoJson?: string): any => {\n  let res = globalThis.localStorage.getItem(argKey)\n  // 默认转义JSON字符串\n  if (!argNoJson && isJson(res) && res) {\n    res = JSON.parse(res)\n  }\n  return res || ''\n}\n\n/**\n * @function\n * @description 设置storage的值，默认将obj转为json\n * @param {string} argKey 要获取的key\n * @param {unknown} argData 要保存的数据\n * @returns {string} 保存的数据String\n */\nexport const setStorage = (argKey: string, argData: unknown): string => {\n  if (typeof argData === 'object') {\n    argData = JSON.stringify(argData)\n  }\n  globalThis.localStorage.setItem(argKey, String(argData))\n  return String(argData)\n}\n\n/**\n * @function\n * @description setTimeout promise版\n * @param  {number} ms 时间，毫秒\n */\nexport const sleep = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3088","url":"/home/runner/work/utils/utils/src/base.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6113,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":6110,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":12}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":12}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":11}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"delCookie","ranges":[{"startOffset":930,"endOffset":945,"count":1}],"isBlockCoverage":true},{"functionName":"getCookie","ranges":[{"startOffset":960,"endOffset":975,"count":1}],"isBlockCoverage":true},{"functionName":"getInfo","ranges":[{"startOffset":988,"endOffset":1001,"count":1}],"isBlockCoverage":true},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1023,"endOffset":1045,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":1065,"endOffset":1085,"count":1}],"isBlockCoverage":true},{"functionName":"getRegexp","ranges":[{"startOffset":1100,"endOffset":1115,"count":1}],"isBlockCoverage":true},{"functionName":"getStorage","ranges":[{"startOffset":1131,"endOffset":1147,"count":1}],"isBlockCoverage":true},{"functionName":"remInit","ranges":[{"startOffset":1160,"endOffset":1173,"count":1}],"isBlockCoverage":true},{"functionName":"setCookie","ranges":[{"startOffset":1188,"endOffset":1203,"count":1}],"isBlockCoverage":true},{"functionName":"setStorage","ranges":[{"startOffset":1219,"endOffset":1235,"count":1}],"isBlockCoverage":true},{"functionName":"setTitle","ranges":[{"startOffset":1249,"endOffset":1263,"count":1}],"isBlockCoverage":true},{"functionName":"sleep","ranges":[{"startOffset":1274,"endOffset":1285,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1517,"endOffset":1585,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1628,"endOffset":1694,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1724,"endOffset":1752,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1772,"endOffset":2674,"count":1}],"isBlockCoverage":true},{"functionName":"setTitle","ranges":[{"startOffset":2693,"endOffset":3175,"count":1},{"startOffset":2808,"endOffset":2900,"count":0},{"startOffset":2932,"endOffset":3173,"count":0}],"isBlockCoverage":true},{"functionName":"i.onload","ranges":[{"startOffset":2995,"endOffset":3123,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":3193,"endOffset":3595,"count":1}],"isBlockCoverage":true},{"functionName":"setRem","ranges":[{"startOffset":3250,"endOffset":3529,"count":1}],"isBlockCoverage":true},{"functionName":"globalThis.onresize","ranges":[{"startOffset":3567,"endOffset":3592,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":3615,"endOffset":3879,"count":3},{"startOffset":3805,"endOffset":3860,"count":0}],"isBlockCoverage":true},{"functionName":"setCookie","ranges":[{"startOffset":3899,"endOffset":4348,"count":5}],"isBlockCoverage":true},{"functionName":"delCookie","ranges":[{"startOffset":4368,"endOffset":4419,"count":2}],"isBlockCoverage":true},{"functionName":"getInfo","ranges":[{"startOffset":4437,"endOffset":5474,"count":2},{"startOffset":4995,"endOffset":5022,"count":0},{"startOffset":5224,"endOffset":5344,"count":0},{"startOffset":5385,"endOffset":5427,"count":0},{"startOffset":5428,"endOffset":5455,"count":0}],"isBlockCoverage":true},{"functionName":"getRandomColor","ranges":[{"startOffset":5499,"endOffset":5600,"count":1}],"isBlockCoverage":true},{"functionName":"getStorage","ranges":[{"startOffset":5621,"endOffset":5808,"count":3},{"startOffset":5746,"endOffset":5752,"count":0},{"startOffset":5754,"endOffset":5786,"count":0},{"startOffset":5800,"endOffset":5805,"count":2}],"isBlockCoverage":true},{"functionName":"setStorage","ranges":[{"startOffset":5829,"endOffset":6019,"count":3},{"startOffset":5887,"endOffset":5931,"count":1}],"isBlockCoverage":true},{"functionName":"sleep","ranges":[{"startOffset":6035,"endOffset":6106,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6066,"endOffset":6102,"count":1}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  decodeHtml: () => decodeHtml,\n  encodeHtml: () => encodeHtml,\n  getEnv: () => getEnv,\n  getObj: () => getObj,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  hideInfo: () => hideInfo,\n  randomInt: () => randomInt,\n  replaceUrlParam: () => replaceUrlParam,\n  safeData: () => safeData,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setUrlParams: () => setUrlParams,\n  string10to62: () => string10to62,\n  string62to10: () => string62to10,\n  toFixed: () => toFixed,\n  toHump: () => toHump,\n  toLine: () => toLine,\n  toList: () => toList\n});\nmodule.exports = __toCommonJS(stdin_exports);\nlet ENV = {};\nlet DATA_OBJECT = {};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst toFixed = (argData, argNum = 2, argType = \"string\") => {\n  let data = Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum);\n  data = (+data || 0).toFixed(argNum);\n  return argType === \"string\" ? data : +data;\n};\nconst toLine = (argData, argUnit = \"_\") => {\n  return argData.replace(/([A-Z])/g, argUnit + \"$1\").toLowerCase();\n};\nconst toHump = (argData, argUnit = \"_\") => {\n  return argData.replace(\n    new RegExp(\"\\\\\" + argUnit + \"(\\\\w)\", \"g\"),\n    (_, letter) => {\n      return letter.toUpperCase();\n    }\n  );\n};\nconst string10to62 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\".split(\"\");\n  let radix = chars.length;\n  let data = +argData;\n  let arr = [];\n  do {\n    let mod = data % radix;\n    data = (data - mod) / radix;\n    arr.unshift(chars[mod]);\n  } while (data);\n  return arr.join(\"\");\n};\nconst string62to10 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\";\n  let radix = chars.length;\n  let len = argData.length;\n  let i = 0;\n  let resNum = 0;\n  while (i < len) {\n    resNum += Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || \"0\");\n  }\n  return resNum;\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData = decodeURIComponent(argData);\n    let temArr = argData.split(\"?\");\n    argData = temArr.pop() || \"\";\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key, value) => {\n      res[key] = value;\n      return \"\";\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  let reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  let r = url.match(reg);\n  let search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function() {\n        if (!arguments[4] || !arguments[4].length) {\n          return \"\";\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1];\n        }\n        return arguments[1] + arguments[4];\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    let sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    let sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst encodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&/g, \"&amp;\");\n  argHtml = argHtml.replace(/</g, \"&lt;\");\n  argHtml = argHtml.replace(/>/g, \"&gt;\");\n  argHtml = argHtml.replace(/'/g, \"&#39;\");\n  argHtml = argHtml.replace(/\"/g, \"&quot;\");\n  argHtml = argHtml.replace(/ /g, \"&nbsp;\");\n  argHtml = argHtml.replace(/\\n/g, \"<br>\");\n  return argHtml;\n};\nconst decodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&amp;/g, \"&\");\n  argHtml = argHtml.replace(/&lt;/g, \"<\");\n  argHtml = argHtml.replace(/&gt;/g, \">\");\n  argHtml = argHtml.replace(/&#39;/g, \"'\");\n  argHtml = argHtml.replace(/&quot;/g, '\"');\n  argHtml = argHtml.replace(/&nbsp;/g, \" \");\n  argHtml = argHtml.replace(/<br>/g, \"\\n\");\n  return argHtml;\n};\nconst hideInfo = (argData = \"\", argStart = 3, argEnd = 4) => {\n  argData = String(argData);\n  let temLen = argData.length;\n  let temSL = argData.length - argEnd - argStart;\n  let start = \"\";\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += \"*\";\n    }\n    argData = argData.substring(0, argStart) + start + argData.substring(temLen - argEnd, temLen);\n  }\n  return argData;\n};\nconst getUuid = () => {\n  function S4() {\n    return ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  }\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nfunction toList(map, getItem) {\n  const list = [];\n  Object.keys(map).forEach((key) => {\n    const item = getItem(key, map[key]);\n    list.push(item);\n  });\n  return list;\n}\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 类字符串/参数处理\n */\n\nimport { AnyObject, Bool } from './types'\n\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * 描述\n * @function\n * @description toFixed处理\n * @date 2020-03-01\n * @param {string|number} argData 要处理的数据\n * @param {number} argNum 要保留位数,默认返回2位小数\n * @param {string} argType 返回类型，默认返回字符串\n * @returns {string|number} 返回处理好的数据\n */\nexport const toFixed = (\n  argData: string | number,\n  argNum: number = 2,\n  argType: string = 'string'\n): string | number => {\n  let data: number | string =\n    Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum)\n  data = (+data || 0).toFixed(argNum)\n  return argType === 'string' ? data : +data\n}\n/**\n * @function\n * @description 驼峰转下划线\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toLine = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(/([A-Z])/g, argUnit + '$1').toLowerCase()\n}\n\n/**\n * @function\n * @description 下划线转驼峰\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toHump = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(\n    new RegExp('\\\\' + argUnit + '(\\\\w)', 'g'),\n    (_, letter) => {\n      return letter.toUpperCase()\n    }\n  )\n}\n/**\n * 描述\n * @function\n * @description 10进制转62进制,用于短网址转换\n * @date 2020-03-01\n * @param {number|string} argData 要处理的数据\n * @returns {string} 返回处理好的数据\n */\nexport const string10to62 = (argData: number | string): string => {\n  let chars =\n    '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'.split('')\n  let radix = chars.length\n  let data = +argData\n  let arr = []\n  do {\n    let mod = data % radix\n    data = (data - mod) / radix\n    arr.unshift(chars[mod])\n  } while (data)\n  return arr.join('')\n}\n/**\n * 描述\n * @function\n * @description 62进制转10进制,用于短网址转换\n * @date 2020-03-01\n * @param {string} argData 要处理的数据\n * @returns {number} 返回处理好的数据\n */\nexport const string62to10 = (argData: string): number => {\n  let chars = '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'\n  let radix = chars.length\n  let len = argData.length\n  let i = 0\n  let resNum = 0\n  while (i < len) {\n    resNum +=\n      Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || '0')\n  }\n  return resNum\n}\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): any => {\n  const res: any = {}\n  try {\n    argData = decodeURIComponent(argData)\n    let temArr = argData.split('?')\n    argData = temArr.pop() || ''\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key: string, value) => {\n      res[key] = value\n      return ''\n    })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  let reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  let r = url.match(reg)\n  let search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function () {\n        if (!arguments[4] || !arguments[4].length) {\n          return ''\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1]\n        }\n        return arguments[1] + arguments[4]\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    let sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    let sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 转义html标签\n * @param  {string} argHtml 需要转义的文本\n * @returns {string}\n */\nexport const encodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&/g, '&amp;')\n  argHtml = argHtml.replace(/</g, '&lt;')\n  argHtml = argHtml.replace(/>/g, '&gt;')\n  argHtml = argHtml.replace(/'/g, '&#39;')\n  argHtml = argHtml.replace(/\"/g, '&quot;')\n  argHtml = argHtml.replace(/ /g, '&nbsp;')\n  argHtml = argHtml.replace(/\\n/g, '<br>')\n  return argHtml\n}\n\n/**\n * @function\n * @description 反转义html标签\n * @param  {string} argHtml 需要反转义的文本\n * @returns {string}\n */\nexport const decodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&amp;/g, '&')\n  argHtml = argHtml.replace(/&lt;/g, '<')\n  argHtml = argHtml.replace(/&gt;/g, '>')\n  argHtml = argHtml.replace(/&#39;/g, \"'\")\n  argHtml = argHtml.replace(/&quot;/g, '\"')\n  argHtml = argHtml.replace(/&nbsp;/g, ' ')\n  argHtml = argHtml.replace(/<br>/g, '\\n')\n  return argHtml\n}\n\n/**\n * 描述\n * @function\n * @description 数据中间加星号\n * @param {string|number} argData 要处理的数据\n * @param {number} argStart=3 前端显示多少位\n * @param {number} argEnd=4 后面显示多少位\n * @returns {string} 返回处理好的数据\n */\nexport const hideInfo = (\n  argData: string | number = '',\n  argStart: number = 3,\n  argEnd: number = 4\n): string => {\n  argData = String(argData)\n  let temLen = argData.length\n  let temSL = argData.length - argEnd - argStart\n  let start = ''\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += '*'\n    }\n    argData =\n      argData.substring(0, argStart) +\n      start +\n      argData.substring(temLen - argEnd, temLen)\n  }\n  return argData\n}\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  function S4() {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  }\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * map 转为 list，list item 具体是什么取决于传入的 getItem 函数\n * @param map\n * @param getItem\n * @return getItem()[]\n */\nexport function toList<V, K extends string, Item>(\n  map: Record<K, V>,\n  getItem: (key: K, value: V) => Item\n) {\n  const list = [] as Item[]\n  Object.keys(map).forEach((key: any) => {\n    // @ts-ignore, trust me.\n    const item = getItem(key, map[key])\n    list.push(item)\n  })\n  return list\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3089","url":"/home/runner/work/utils/utils/src/data.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":9154,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":9151,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":21}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":21}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":7}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"decodeHtml","ranges":[{"startOffset":931,"endOffset":947,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":963,"endOffset":979,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":991,"endOffset":1003,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1015,"endOffset":1027,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1044,"endOffset":1061,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1081,"endOffset":1101,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":1114,"endOffset":1127,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":1141,"endOffset":1155,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":1170,"endOffset":1185,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1206,"endOffset":1227,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1241,"endOffset":1255,"count":7}],"isBlockCoverage":true},{"functionName":"setEnv","ranges":[{"startOffset":1267,"endOffset":1279,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":1291,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1315,"endOffset":1327,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":1345,"endOffset":1363,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":1381,"endOffset":1399,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":1417,"endOffset":1435,"count":0}],"isBlockCoverage":false},{"functionName":"toFixed","ranges":[{"startOffset":1448,"endOffset":1461,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":1473,"endOffset":1485,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":1497,"endOffset":1509,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":1521,"endOffset":1533,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1637,"endOffset":2529,"count":7},{"startOffset":1725,"endOffset":1756,"count":0},{"startOffset":1758,"endOffset":1862,"count":0},{"startOffset":1960,"endOffset":1986,"count":0},{"startOffset":2048,"endOffset":2301,"count":12},{"startOffset":2100,"endOffset":2253,"count":3},{"startOffset":2132,"endOffset":2220,"count":0},{"startOffset":2253,"endOffset":2289,"count":9},{"startOffset":2289,"endOffset":2294,"count":0},{"startOffset":2301,"endOffset":2330,"count":4},{"startOffset":2330,"endOffset":2379,"count":1},{"startOffset":2379,"endOffset":2419,"count":4},{"startOffset":2419,"endOffset":2464,"count":0},{"startOffset":2464,"endOffset":2527,"count":4},{"startOffset":2511,"endOffset":2522,"count":1}],"isBlockCoverage":true},{"functionName":"toFixed","ranges":[{"startOffset":2547,"endOffset":2761,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":2778,"endOffset":2877,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":2894,"endOffset":3065,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":3088,"endOffset":3399,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":3422,"endOffset":3730,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":3753,"endOffset":4082,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":4104,"endOffset":4316,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":4341,"endOffset":4772,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":4798,"endOffset":6051,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":6072,"endOffset":6475,"count":0}],"isBlockCoverage":false},{"functionName":"decodeHtml","ranges":[{"startOffset":6496,"endOffset":6899,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":6918,"endOffset":7297,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":7315,"endOffset":7498,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":7518,"endOffset":7654,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":7671,"endOffset":7696,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":7713,"endOffset":7758,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":7775,"endOffset":7897,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":7914,"endOffset":8147,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":8164,"endOffset":8973,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":8975,"endOffset":9148,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 判断函数\n */\n/**\n * @function\n * @description 判断质数\n * @param {number} argValue 要判断的数据\n * @returns {boolean} 结果\n */\nexport const isPrime = (argValue: number): boolean =>\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\n\n/**\n * @function\n * @description 判断是否是JSON\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isJson = (argData: any): boolean => {\n  try {\n    return typeof JSON.parse(argData || '') === 'object'\n  } catch (e) {}\n  return false\n}\n/**\n * @function\n * @description 判断是否是Blob\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isBlob = (argData: any): boolean => {\n  return argData instanceof Blob\n}\n\n/**\n * @function\n * @description 判断是否是File\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isFile = (argData: any): boolean => {\n  return argData instanceof File\n}\n\n/**\n * @function\n * @description 是否为正确的身份证号码\n * @param  {string} code 身份证号码\n * @returns {boolean}\n */\nexport const isIdCard = (code: string): boolean => {\n  let tip = ''\n  let city: { [key: number]: string } = {\n    11: '北京',\n    12: '天津',\n    13: '河北',\n    14: '山西',\n    15: '内蒙古',\n    21: '辽宁',\n    22: '吉林',\n    23: '黑龙江 ',\n    31: '上海',\n    32: '江苏',\n    33: '浙江',\n    34: '安徽',\n    35: '福建',\n    36: '江西',\n    37: '山东',\n    41: '河南',\n    42: '湖北 ',\n    43: '湖南',\n    44: '广东',\n    45: '广西',\n    46: '海南',\n    50: '重庆',\n    51: '四川',\n    52: '贵州',\n    53: '云南',\n    54: '西藏 ',\n    61: '陕西',\n    62: '甘肃',\n    63: '青海',\n    64: '宁夏',\n    65: '新疆',\n    71: '台湾',\n    81: '香港',\n    82: '澳门',\n    91: '国外 ',\n  }\n  let pass = true\n  if (\n    !code ||\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n      code\n    )\n  ) {\n    tip = '身份证号格式错误'\n    pass = false\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = '地址编码错误'\n    pass = false\n  } else {\n    // 18位身份证需要验证最后一位校验位\n    if (code.length === 18) {\n      const codeArr = code.split('')\n      // ∑(ai×Wi)(mod 11)\n      // 加权因子\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\n      // 校验位\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\n      let sum = 0\n      let ai = 0\n      let wi = 0\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i])\n        wi = factor[i]\n        sum += ai * wi\n      }\n      let last = parity[sum % 11] + ''\n      if (last !== code[17]) {\n        tip = '校验位错误'\n        pass = false\n      }\n    }\n  }\n  console.assert(!tip, tip)\n  return pass\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3090","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":3}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":3}],"isBlockCoverage":true},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":3},{"startOffset":1245,"endOffset":1250,"count":2}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":7,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1673578748275,"runtime":297,"slow":false,"start":1673578747978},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/encrypt.spec.ts","testResults":[{"ancestorTitles":["encrypt"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"encrypt md5","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"md5"},{"ancestorTitles":["encrypt"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"encrypt enBase64","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"enBase64"},{"ancestorTitles":["encrypt"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"encrypt deBase64","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"deBase64"},{"ancestorTitles":["encrypt"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"encrypt encode","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"encode"},{"ancestorTitles":["encrypt"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"encrypt decode","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"decode"},{"ancestorTitles":["encrypt"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"encrypt key by","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"key by"},{"ancestorTitles":["encrypt"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"encrypt aesInit","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"aesInit"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key2 of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key2) && key2 !== except)\n        __defProp(to, key2, { get: () => from[key2], enumerable: !(desc = __getOwnPropDesc(from, key2)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  aesInit: () => aesInit,\n  deAes: () => deAes,\n  deBase64: () => deBase64,\n  decode: () => decode,\n  enAes: () => enAes,\n  enBase64: () => enBase64,\n  encode: () => encode,\n  md5: () => md5\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_crypto_js = __toESM(require(\"crypto-js\"));\nlet key = \"by\";\nlet iv = import_crypto_js.default.enc.Utf8.parse(\"linj\");\nfunction aesInit(argKey, argIv) {\n  key = argKey;\n  iv = import_crypto_js.default.enc.Utf8.parse(argIv);\n}\nconst enAes = (word) => import_crypto_js.default.AES.encrypt(word.toString(), key, {\n  iv,\n  mode: import_crypto_js.default.mode.CBC,\n  padding: import_crypto_js.default.pad.Pkcs7\n}).toString();\nconst deAes = (word) => import_crypto_js.default.AES.decrypt(word, key, {\n  iv,\n  mode: import_crypto_js.default.mode.CBC,\n  padding: import_crypto_js.default.pad.Pkcs7\n}).toString(import_crypto_js.default.enc.Utf8);\nconst md5 = (argData) => import_crypto_js.default.MD5(argData).toString();\nconst enBase64 = (argData) => {\n  argData = argData.toString() || \"\";\n  let wordArray = import_crypto_js.default.enc.Utf8.parse(argData);\n  let base64 = import_crypto_js.default.enc.Base64.stringify(wordArray);\n  return base64;\n};\nconst deBase64 = (argData) => {\n  argData = argData || \"\";\n  let wordArray = import_crypto_js.default.enc.Base64.parse(argData);\n  let base64 = wordArray.toString(import_crypto_js.default.enc.Utf8);\n  return base64;\n};\nconst encode = (argData, argType = \"base64\") => {\n  switch (argType) {\n    case \"base64\":\n      return enBase64(argData);\n    case \"aes\":\n      return enAes(argData);\n    default:\n      return argData.toString();\n  }\n};\nconst decode = (argData, argType = \"base64\") => {\n  switch (argType) {\n    case \"base64\":\n      return deBase64(argData);\n    case \"aes\":\n      return deAes(argData);\n    default:\n      return argData;\n  }\n};\n","originalCode":"/**\n * @module\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 需安装crypto-js依赖，小程序引用crypto-js比较大，如果只是base64的转换，引用base64.js即可\n */\nimport CryptoJS from 'crypto-js'\n\nlet key = 'by'\nlet iv = CryptoJS.enc.Utf8.parse('linj')\n/**\n * @function\n * @description aes初始化,选定aes加密码方式后，先执行初始化\n * @param {string} argKey 密钥\n * @param {string} argIv 密钥偏移量\n */\nexport function aesInit(argKey: string, argIv: string) {\n  key = argKey //密钥\n  iv = CryptoJS.enc.Utf8.parse(argIv) // 十六进制数作为密钥偏移量\n}\n\n/**\n * @function\n * @description aes加密\n * @param {string | number} word 待加密内容\n * @returns {string} 已加密内容\n */\nexport const enAes = (word: string | number): string =>\n  CryptoJS.AES.encrypt(word.toString(), key, {\n    iv: iv,\n    mode: CryptoJS.mode.CBC,\n    padding: CryptoJS.pad.Pkcs7,\n  }).toString()\n/**\n * @function\n * @description aes解密\n * @param {string} word 待解密内容\n * @returns {string} 已解密内容\n */\nexport const deAes = (word: string): string =>\n  CryptoJS.AES.decrypt(word, key, {\n    iv: iv,\n    mode: CryptoJS.mode.CBC,\n    padding: CryptoJS.pad.Pkcs7,\n  }).toString(CryptoJS.enc.Utf8)\n/**\n * @function\n * @description md5 加密\n * @param {string | CryptoJS.lib.WordArray} argData 待加密内容\n * @returns {string} 已加密内容\n */\nexport const md5 = (argData: string | CryptoJS.lib.WordArray): string =>\n  CryptoJS.MD5(argData).toString()\n/**\n * @function\n * @description base64 加密\n * @param {string | number} argData 待加密内容\n * @returns {string} 已加密内容\n */\nexport const enBase64 = (argData: string | number): string => {\n  argData = argData.toString() || ''\n  let wordArray = CryptoJS.enc.Utf8.parse(argData)\n  let base64 = CryptoJS.enc.Base64.stringify(wordArray)\n  return base64\n}\n/**\n * @function\n * @description base64 解密\n * @param {string} argData 待解密内容\n * @returns {string} 已解密内容\n */\nexport const deBase64 = (argData: string): string => {\n  argData = argData || ''\n  let wordArray = CryptoJS.enc.Base64.parse(argData)\n  let base64 = wordArray.toString(CryptoJS.enc.Utf8)\n  return base64\n}\n\n/**\n * @function\n * @description 加密\n * @param {string | number} argData 待加密内容\n * @param {string} argType 加密类型，默认base64\n * @returns {string} 已加密内容\n */\nexport const encode = (\n  argData: string | number,\n  argType: string = 'base64'\n): string => {\n  switch (argType) {\n    case 'base64':\n      return enBase64(argData)\n    case 'aes':\n      return enAes(argData)\n    default:\n      return argData.toString()\n  }\n}\n\n/**\n * @function\n * @description 解密\n * @param {string} argData 待解密内容\n * @param {string} argType 解密类型，默认base64\n * @returns {string} 已解密内容\n */\nexport const decode = (argData: string, argType: string = 'base64'): string => {\n  switch (argType) {\n    case 'base64':\n      return deBase64(argData)\n    case 'aes':\n      return deAes(argData)\n    default:\n      return argData\n  }\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"7","url":"/home/runner/work/utils/utils/src/encrypt/crypto.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3081,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3078,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":368,"endOffset":479,"count":1},{"startOffset":415,"endOffset":477,"count":8}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":499,"endOffset":851,"count":2},{"startOffset":568,"endOffset":597,"count":0},{"startOffset":653,"endOffset":832,"count":41}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":741,"endOffset":757,"count":16}],"isBlockCoverage":true},{"functionName":"__toESM","ranges":[{"startOffset":867,"endOffset":1090,"count":1},{"startOffset":948,"endOffset":952,"count":0},{"startOffset":1072,"endOffset":1080,"count":0}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":1111,"endOffset":1182,"count":1}],"isBlockCoverage":true},{"functionName":"aesInit","ranges":[{"startOffset":1245,"endOffset":1258,"count":1}],"isBlockCoverage":true},{"functionName":"deAes","ranges":[{"startOffset":1269,"endOffset":1280,"count":3}],"isBlockCoverage":true},{"functionName":"deBase64","ranges":[{"startOffset":1294,"endOffset":1308,"count":1}],"isBlockCoverage":true},{"functionName":"decode","ranges":[{"startOffset":1320,"endOffset":1332,"count":3}],"isBlockCoverage":true},{"functionName":"enAes","ranges":[{"startOffset":1343,"endOffset":1354,"count":3}],"isBlockCoverage":true},{"functionName":"enBase64","ranges":[{"startOffset":1368,"endOffset":1382,"count":1}],"isBlockCoverage":true},{"functionName":"encode","ranges":[{"startOffset":1394,"endOffset":1406,"count":3}],"isBlockCoverage":true},{"functionName":"md5","ranges":[{"startOffset":1415,"endOffset":1424,"count":1}],"isBlockCoverage":true},{"functionName":"aesInit","ranges":[{"startOffset":1603,"endOffset":1709,"count":1}],"isBlockCoverage":true},{"functionName":"enAes","ranges":[{"startOffset":1724,"endOffset":1903,"count":5}],"isBlockCoverage":true},{"functionName":"deAes","ranges":[{"startOffset":1919,"endOffset":2120,"count":5}],"isBlockCoverage":true},{"functionName":"md5","ranges":[{"startOffset":2134,"endOffset":2195,"count":1}],"isBlockCoverage":true},{"functionName":"enBase64","ranges":[{"startOffset":2214,"endOffset":2426,"count":2},{"startOffset":2260,"endOffset":2265,"count":0}],"isBlockCoverage":true},{"functionName":"deBase64","ranges":[{"startOffset":2445,"endOffset":2645,"count":2},{"startOffset":2480,"endOffset":2485,"count":0}],"isBlockCoverage":true},{"functionName":"encode","ranges":[{"startOffset":2662,"endOffset":2865,"count":3},{"startOffset":2722,"endOffset":2768,"count":1},{"startOffset":2773,"endOffset":2813,"count":2},{"startOffset":2818,"endOffset":2859,"count":0}],"isBlockCoverage":true},{"functionName":"decode","ranges":[{"startOffset":2882,"endOffset":3074,"count":3},{"startOffset":2942,"endOffset":2988,"count":1},{"startOffset":2993,"endOffset":3033,"count":2},{"startOffset":3038,"endOffset":3068,"count":0}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  deBase64: () => deBase64,\n  decode: () => decode,\n  enBase64: () => enBase64,\n  encode: () => encode\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_js_base64 = require(\"js-base64\");\nconst enBase64 = (argData) => {\n  argData = argData || \"\";\n  var base64 = (0, import_js_base64.encode)(argData.toString());\n  return base64;\n};\nconst deBase64 = (argData) => {\n  try {\n    argData = argData || \"\";\n    var base64 = (0, import_js_base64.decode)(argData);\n    return base64;\n  } catch (e) {\n    return \"\";\n  }\n};\nconst encode = (argData, argType = \"base64\") => {\n  switch (argType) {\n    case \"base64\":\n      return enBase64(argData);\n    default:\n      return argData.toString();\n  }\n};\nconst decode = (argData, argType = \"base64\") => {\n  switch (argType) {\n    case \"base64\":\n      return deBase64(argData);\n    default:\n      return argData;\n  }\n};\n","originalCode":"/**\n * @module\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description base64加解密\n */\n\nimport { encode as en, decode as de } from 'js-base64'\n/**\n * @function\n * @description base64 加密\n * @param {string | number} argData 待加密内容\n * @returns {string} 已加密内容\n */\nexport const enBase64 = (argData: string | number): string => {\n  argData = argData || ''\n  var base64 = en(argData.toString())\n  return base64\n}\n/**\n * @function\n * @description base64 解密\n * @param {string} argData 待解密内容\n * @returns {string} 已解密内容\n */\nexport const deBase64 = (argData: string): string => {\n  try {\n    argData = argData || ''\n    var base64 = de(argData)\n    return base64\n  } catch {\n    return ''\n  }\n}\n/**\n * @function\n * @description 加密\n * @param {string | number} argData 待加密内容\n * @param {string} argType 加密类型，默认base64\n * @returns {string} 已加密内容\n */\nexport const encode = (\n  argData: string | number,\n  argType: string = 'base64'\n): string => {\n  switch (argType) {\n    case 'base64':\n      return enBase64(argData)\n    default:\n      return argData.toString()\n  }\n}\n\n/**\n * @function\n * @description 解密\n * @param {string} argData 待解密内容\n * @param {string} argType 解密类型，默认base64\n * @returns {string} 已解密内容\n */\nexport const decode = (argData: string, argType: string = 'base64'): string => {\n  switch (argType) {\n    case 'base64':\n      return deBase64(argData)\n    default:\n      return argData\n  }\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"6","url":"/home/runner/work/utils/utils/src/encrypt/base64.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":1785,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":1782,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":4}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":4}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":2}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"deBase64","ranges":[{"startOffset":929,"endOffset":943,"count":1}],"isBlockCoverage":true},{"functionName":"decode","ranges":[{"startOffset":955,"endOffset":967,"count":0}],"isBlockCoverage":false},{"functionName":"enBase64","ranges":[{"startOffset":981,"endOffset":995,"count":1}],"isBlockCoverage":true},{"functionName":"encode","ranges":[{"startOffset":1007,"endOffset":1019,"count":0}],"isBlockCoverage":false},{"functionName":"enBase64","ranges":[{"startOffset":1132,"endOffset":1257,"count":1},{"startOffset":1167,"endOffset":1172,"count":0}],"isBlockCoverage":true},{"functionName":"deBase64","ranges":[{"startOffset":1276,"endOffset":1439,"count":1},{"startOffset":1321,"endOffset":1326,"count":0},{"startOffset":1407,"endOffset":1437,"count":0}],"isBlockCoverage":true},{"functionName":"encode","ranges":[{"startOffset":1456,"endOffset":1614,"count":0}],"isBlockCoverage":false},{"functionName":"decode","ranges":[{"startOffset":1631,"endOffset":1778,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1673578750063,"runtime":1756,"slow":false,"start":1673578748307},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/class/Loading.spec.ts","testResults":[{"ancestorTitles":["Loading"],"duration":1514,"failureDetails":[],"failureMessages":[],"fullName":"Loading Loading","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"Loading"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar stdin_exports = {};\n__export(stdin_exports, {\n  Loading: () => Loading,\n  default: () => stdin_default\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar _delay, _timer, _showTime;\nclass Loading {\n  constructor(argShow, argHide, argDelay = 300) {\n    this.loadNum = 0;\n    __privateAdd(this, _delay, 300);\n    __privateAdd(this, _timer, void 0);\n    __privateAdd(this, _showTime, 0);\n    this.showCb = () => {\n    };\n    this.hideCb = () => {\n    };\n    if (typeof argShow === \"function\") {\n      this.showCb = argShow;\n    }\n    if (typeof argHide === \"function\") {\n      this.hideCb = argHide;\n    }\n    __privateSet(this, _delay, argDelay || 300);\n  }\n  loading(isAdd = false) {\n    if (isAdd) {\n      if (!this.loadNum) {\n        __privateSet(this, _timer, setTimeout(() => {\n          __privateSet(this, _showTime, +new Date());\n          this.showCb();\n        }, __privateGet(this, _delay)));\n      }\n      this.loadNum++;\n    } else {\n      this.loadNum--;\n      if (this.loadNum < 0) {\n        this.loadNum = 0;\n      }\n    }\n    if (!this.loadNum) {\n      clearTimeout(__privateGet(this, _timer));\n      setTimeout(() => {\n        if (__privateGet(this, _showTime)) {\n          console.debug(\n            \"\\u663E\\u793Aloading\\u65F6\\u957F:\",\n            (+new Date() - __privateGet(this, _showTime)) / 1e3\n          );\n        }\n        this.hideCb();\n      }, 0);\n    }\n  }\n  show() {\n    this.loading(true);\n  }\n  hide() {\n    this.loading(false);\n  }\n}\n_delay = new WeakMap();\n_timer = new WeakMap();\n_showTime = new WeakMap();\nvar stdin_default = Loading;\n","originalCode":"import { AnyFn, Bool } from '../types'\n/**\n * @class\n * @classdesc 通用延时loading\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @example  const L = new.Loading(argShow,argHide,300) L.loading(1)/L.loading(0) = L.show()/L.hide() *\n */\n\nexport class Loading {\n  // 请求数\n  loadNum = 0\n  #delay = 300\n  // 计时\n  #timer: any\n  // 临时开始时间\n  #showTime = 0\n  showCb: AnyFn = () => {}\n  hideCb: AnyFn = () => {}\n  /**\n   * @function\n   * @param {function} argShow 显示loading 回调\n   * @param {function} argHide 隐藏loading 回调\n   * @param {number} [argDelay]=300 argDelay 延时 ms,不宜过长,默认300\n   */\n  constructor(argShow?: unknown, argHide?: unknown, argDelay: number = 300) {\n    if (typeof argShow === 'function') {\n      this.showCb = argShow as AnyFn\n    }\n    if (typeof argHide === 'function') {\n      this.hideCb = argHide as AnyFn\n    }\n    this.#delay = argDelay || 300\n  }\n  /**\n   * @function\n   * @param {boolean} isAdd 是否增加一个请求loading\n   * @description 是否增加一个请求loading，true +1,false -1\n   */\n  loading(isAdd: Bool = false) {\n    if (isAdd) {\n      if (!this.loadNum) {\n        this.#timer = setTimeout(() => {\n          this.#showTime = +new Date()\n          this.showCb()\n        }, this.#delay)\n      }\n      this.loadNum++\n    } else {\n      this.loadNum--\n      if (this.loadNum < 0) {\n        this.loadNum = 0\n      }\n    }\n    if (!this.loadNum) {\n      clearTimeout(this.#timer)\n      setTimeout(() => {\n        if (this.#showTime) {\n          console.debug(\n            '显示loading时长:',\n            (+new Date() - this.#showTime) / 1000\n          )\n        }\n        this.hideCb()\n      }, 0)\n    }\n  }\n  show() {\n    this.loading(true)\n  }\n  hide() {\n    this.loading(false)\n  }\n}\nexport default Loading\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3","url":"/home/runner/work/utils/utils/src/class/Loading.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3123,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3120,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":2}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":2}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":1}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"__accessCheck","ranges":[{"startOffset":887,"endOffset":974,"count":19},{"startOffset":939,"endOffset":972,"count":0}],"isBlockCoverage":true},{"functionName":"__privateGet","ranges":[{"startOffset":995,"endOffset":1134,"count":12},{"startOffset":1095,"endOffset":1113,"count":0}],"isBlockCoverage":true},{"functionName":"__privateAdd","ranges":[{"startOffset":1155,"endOffset":1351,"count":3},{"startOffset":1208,"endOffset":1277,"count":0},{"startOffset":1306,"endOffset":1323,"count":0}],"isBlockCoverage":true},{"functionName":"__privateSet","ranges":[{"startOffset":1372,"endOffset":1540,"count":7},{"startOffset":1471,"endOffset":1496,"count":0}],"isBlockCoverage":true},{"functionName":"Loading","ranges":[{"startOffset":1603,"endOffset":1616,"count":0}],"isBlockCoverage":false},{"functionName":"default","ranges":[{"startOffset":1629,"endOffset":1648,"count":1}],"isBlockCoverage":true},{"functionName":"Loading","ranges":[{"startOffset":1748,"endOffset":2203,"count":1},{"startOffset":2191,"endOffset":2197,"count":0}],"isBlockCoverage":true},{"functionName":"Loading.showCb","ranges":[{"startOffset":1951,"endOffset":1964,"count":0}],"isBlockCoverage":false},{"functionName":"Loading.hideCb","ranges":[{"startOffset":1984,"endOffset":1997,"count":0}],"isBlockCoverage":false},{"functionName":"loading","ranges":[{"startOffset":2206,"endOffset":2932,"count":10},{"startOffset":2246,"endOffset":2583,"count":5},{"startOffset":2273,"endOffset":2456,"count":3},{"startOffset":2542,"endOffset":2577,"count":0},{"startOffset":2607,"endOffset":2928,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2321,"endOffset":2417,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2674,"endOffset":2917,"count":3}],"isBlockCoverage":true},{"functionName":"show","ranges":[{"startOffset":2935,"endOffset":2971,"count":0}],"isBlockCoverage":false},{"functionName":"hide","ranges":[{"startOffset":2974,"endOffset":3011,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  delCookie: () => delCookie,\n  getCookie: () => getCookie,\n  getInfo: () => getInfo,\n  getNetworkStatus: () => getNetworkStatus,\n  getRandomColor: () => getRandomColor,\n  getRegexp: () => getRegexp,\n  getStorage: () => getStorage,\n  remInit: () => remInit,\n  setCookie: () => setCookie,\n  setStorage: () => setStorage,\n  setTitle: () => setTitle,\n  sleep: () => sleep\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_data = require(\"./data\");\nvar import_is = require(\"./is\");\nlet isOnline = true;\nif (globalThis && globalThis.addEventListener) {\n  globalThis.addEventListener(\"offline\", function() {\n    console.debug(\"offLine\");\n    isOnline = false;\n  });\n  globalThis.addEventListener(\"online\", function() {\n    console.debug(\"onLine\");\n    isOnline = true;\n  });\n}\nconst getNetworkStatus = () => {\n  return isOnline;\n};\nconst getRegexp = () => {\n  return {\n    html: /<[^>]+>/gim,\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    phone: /^1\\d{10}$/,\n    email: /^(w)+(.w+)*@(w)+((.w+)+)$/,\n    http: /http:\\/\\/|https:\\/\\//,\n    score: /^[1-9]\\d*|0$/,\n    int: /^[1-9]\\d*$/,\n    number: /^\\d*$/,\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    letter: /^[a-zA-Z]*$/,\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    realName: /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    ascii: /^[\\x20-\\x7E]+$/\n  };\n};\nconst setTitle = (argTitle) => {\n  if ((0, import_data.safeData)(globalThis.document.getElementsByTagName(\"title\"), \"0.innerText\")) {\n    globalThis.document.getElementsByTagName(\"title\")[0].innerText = String(argTitle);\n  }\n  if (getInfo().isAppleMobile) {\n    var i = document.createElement(\"iframe\");\n    i.onload = function() {\n      setTimeout(function() {\n        console.debug(\"apple setting title\");\n        i.remove();\n      }, 10);\n    };\n    globalThis.document.body.appendChild(i);\n  }\n};\nconst remInit = (argBaseSize = 16, argWidth = 375) => {\n  const setRem = () => {\n    const scale = (0, import_data.safeData)(globalThis, \"document.documentElement.clientWidth\", argWidth) / argWidth;\n    (0, import_data.safeData)(\n      globalThis,\n      \"document.documentElement.style.fontSize\",\n      argBaseSize * scale + \"px\",\n      true\n    );\n  };\n  setRem();\n  globalThis.onresize = () => {\n    setRem();\n  };\n};\nconst getCookie = (argName) => {\n  let cookie = globalThis.document.cookie.split(\"; \");\n  for (let i = 0; i < cookie.length; i += 1) {\n    let name = (\"\" + cookie[i]).split(\"=\");\n    if (argName === name[0]) {\n      return decodeURIComponent(name[1] || \"\");\n    }\n  }\n  return \"\";\n};\nconst setCookie = (argName, argValue = \"\", argTime = 24) => {\n  let now = new Date();\n  let offset = 8;\n  let utc = now.getTime() + now.getTimezoneOffset() * 6e4;\n  let nd = utc + 36e5 * offset;\n  let exp = new Date(nd);\n  let domain = globalThis.document.domain;\n  exp.setTime(exp.getTime() + argTime * 60 * 60 * 1e3);\n  globalThis.document.cookie = argName + \"=\" + encodeURIComponent(argValue) + \";path=/;expires=\" + exp.toUTCString() + \";domain=\" + domain + \";\";\n};\nconst delCookie = (argName = \"\") => {\n  setCookie(argName, \"\", -1);\n};\nconst getInfo = () => {\n  let ua = (0, import_data.safeData)(globalThis, \"navigator.userAgent\", \"\").toLowerCase();\n  let platform = (0, import_data.safeData)(\n    globalThis,\n    \"navigator.userAgentData.platform\",\n    \"\"\n  ).toLowerCase();\n  let info = {\n    ua,\n    platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match(\"win\"),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match(\"mac\"),\n    isIos: !!platform.match(\"ios\"),\n    isAndroid: !!platform.match(\"android\"),\n    isSafari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"chrome\") < 1,\n    isIE: \"ActiveXObject\" in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i)\n  };\n  if (info.ua.match(\"msie\")) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/);\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1];\n    }\n  }\n  info.isAppleMobile = !!(info.isMobile && ua.toLowerCase().indexOf(\"applewebkit\") && ua.indexOf(\"chrome\") < 1);\n  return info;\n};\nconst getRandomColor = function() {\n  return \"#\" + (\"00000\" + (Math.random() * 16777216 << 0).toString(16)).substring(-6);\n};\nconst getStorage = (argKey, argNoJson) => {\n  let res = globalThis.localStorage.getItem(argKey);\n  if (!argNoJson && (0, import_is.isJson)(res) && res) {\n    res = JSON.parse(res);\n  }\n  return res || \"\";\n};\nconst setStorage = (argKey, argData) => {\n  if (typeof argData === \"object\") {\n    argData = JSON.stringify(argData);\n  }\n  globalThis.localStorage.setItem(argKey, String(argData));\n  return String(argData);\n};\nconst sleep = (ms) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description no\n */\n\nimport { safeData } from './data'\nimport { isJson } from './is'\nimport { Info, AnyObject } from './types'\n\n/**\n * @module index\n * @author linj\n * @description 公共函数，使用'lj-utils'引入\n */\nlet isOnline: boolean = true\n// 断网监听\nif (globalThis && globalThis.addEventListener) {\n  // #ifdef H5\n  globalThis.addEventListener('offline', function () {\n    console.debug('offLine')\n    isOnline = false\n  })\n  globalThis.addEventListener('online', function () {\n    console.debug('onLine')\n    isOnline = true\n  })\n  // #endif\n}\n\n/**\n * @function\n * @description 获取当前网络状态（H5）\n * @return boolean\n */\nexport const getNetworkStatus = () => {\n  return isOnline\n}\n/**\n * @function\n * @description 正则收集\n * @returns {object}\n */\nexport const getRegexp = (): AnyObject => {\n  return {\n    // 匹配html标签，提取html文字： htmlCode.replace(reg.html,'')\n    html: /<[^>]+>/gim,\n    // 至少1数字1字母1字符，8-16位\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    // 普通身份证号正则，isIdCard更为严格\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    // 简易身份证号 数字+x\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    // 手机号\n    phone: /^1\\d{10}$/,\n    // 邮箱\n    email: /^(w)+(.w+)*@(w)+((.w+)+)$/,\n    // 网址\n    http: /http:\\/\\/|https:\\/\\//,\n    // 含0整数（得分）\n    score: /^[1-9]\\d*|0$/,\n    // 整数\n    int: /^[1-9]\\d*$/,\n    // 匹配数字\n    number: /^\\d*$/,\n    // >=0||1位小数\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    // >=0||2位小数\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    // >=0||3位小数\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    // 字母+数字组合\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    // 字母\n    letter: /^[a-zA-Z]*$/,\n    // 帐号50个字内：大小写+数字+中文+'_'+'-'\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    // 中英文姓名 50个字内/中文 中文/英文-. 英文-./\n    realName:\n      /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    // 匹配中文\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    // 匹配ASCII,非中文之外的字符\n    ascii: /^[\\x20-\\x7E]+$/,\n  }\n}\n\n/**\n * @function\n * @description 设置标题\n * @param  {string} argTitle 标题\n */\nexport const setTitle = (argTitle: string | number) => {\n  if (\n    safeData(globalThis.document.getElementsByTagName('title'), '0.innerText')\n  ) {\n    globalThis.document.getElementsByTagName('title')[0].innerText =\n      String(argTitle)\n  }\n  if (getInfo().isAppleMobile) {\n    var i = document.createElement('iframe')\n    i.onload = function () {\n      setTimeout(function () {\n        console.debug('apple setting title')\n        i.remove()\n      }, 10)\n    }\n    globalThis.document.body.appendChild(i)\n  }\n}\n/**\n * @function\n * @description 使用postcss-px2rem时使用\n * @param {number} argBaseSize 基础大小 16px（要跟配置一致）\n * @param {number} argWidth 基准宽度\n */\nexport const remInit = (argBaseSize: number = 16, argWidth: number = 375) => {\n  // 设置 rem 函数\n  const setRem = () => {\n    // 当前页面宽度相对于 argWidth 宽的缩放比例，可根据自己需要修改。\n    const scale =\n      safeData(globalThis, 'document.documentElement.clientWidth', argWidth) /\n      argWidth\n    // 设置页面根节点字体大小\n    safeData(\n      globalThis,\n      'document.documentElement.style.fontSize',\n      argBaseSize * scale + 'px',\n      true\n    )\n  }\n  // 初始化\n  setRem()\n  // 改变窗口大小时重新设置 rem\n  globalThis.onresize = () => {\n    setRem()\n  }\n}\n/**\n * @function\n * @description 获取cookie\n * @param  {string} argName 要获取的值\n * @returns {string}\n */\nexport const getCookie = (argName: string): string => {\n  let cookie = globalThis.document.cookie.split('; ')\n  for (let i = 0; i < cookie.length; i += 1) {\n    let name = ('' + cookie[i]).split('=')\n    if (argName === name[0]) {\n      return decodeURIComponent(name[1] || '')\n    }\n  }\n  return ''\n}\n/**\n * @function\n * @description 设置cookie\n * @param  {string} argName 要设置的key\n * @param  {string} argValue 要设置的value\n * @param  {number} argTime 过期时间/时 默认24小时\n */\nexport const setCookie = (\n  argName: string,\n  argValue: string | number | boolean = '',\n  argTime: number = 24\n) => {\n  let now = new Date()\n  let offset = 8\n  let utc = now.getTime() + now.getTimezoneOffset() * 60000\n  let nd = utc + 3600000 * offset\n  let exp = new Date(nd)\n  let domain = globalThis.document.domain\n  exp.setTime(exp.getTime() + argTime * 60 * 60 * 1000)\n  globalThis.document.cookie =\n    argName +\n    '=' +\n    encodeURIComponent(argValue) +\n    ';path=/;expires=' +\n    exp.toUTCString() +\n    ';domain=' +\n    domain +\n    ';'\n}\n/**\n * @function\n * @description 清除cookie\n * @param  {string} argName 要清除的值\n */\nexport const delCookie = (argName: string = '') => {\n  setCookie(argName, '', -1)\n}\n\n/**\n * @function\n * @description 检测浏览器状态，系统状态 *\n * @returns {Info} {\n * ua: ua,\n * platform: 平台,\n * isMobile: 移动端,\n * isWin: winPC端,\n * isIphone: iphone,\n * isIpad: ipad,\n * isMac: mac,\n * isAppleMobile: 苹果移动端webview\n * isSafari: Safari浏览器,\n * isIos: Ios平台,\n * isAndroid: android平台,\n * isIE: 显示8 9 10, true为11以上\n * ...\n * }\n */\nexport const getInfo = (): Info => {\n  let ua = safeData(globalThis, 'navigator.userAgent', '').toLowerCase()\n  let platform: string = safeData(\n    globalThis,\n    'navigator.userAgentData.platform',\n    ''\n  ).toLowerCase()\n  let info: Info = {\n    ua: ua,\n    platform: platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match('win'),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match('mac'),\n    isIos: !!platform.match('ios'),\n    isAndroid: !!platform.match('android'),\n    isSafari: ua.indexOf('safari') > -1 && ua.indexOf('chrome') < 1,\n    isIE: 'ActiveXObject' in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i),\n  }\n  if (info.ua.match('msie')) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/)\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1]\n    }\n  }\n  info.isAppleMobile = !!(\n    info.isMobile &&\n    ua.toLowerCase().indexOf('applewebkit') &&\n    ua.indexOf('chrome') < 1\n  )\n  return info\n}\n/**\n * @function\n * @description 获取随机颜色\n * @return string\n */\nexport const getRandomColor = function () {\n  return (\n    '#' +\n    ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substring(-6)\n  )\n}\n/**\n * @function\n * @description 获取storage的值，默认将json转为obj\n * @param {string} argKey 要获取的key\n * @param {string} argNoJson true时不自动转换JSON字符串\n * @returns {any} key对应的数据\n */\nexport const getStorage = (argKey: string, argNoJson?: string): any => {\n  let res = globalThis.localStorage.getItem(argKey)\n  // 默认转义JSON字符串\n  if (!argNoJson && isJson(res) && res) {\n    res = JSON.parse(res)\n  }\n  return res || ''\n}\n\n/**\n * @function\n * @description 设置storage的值，默认将obj转为json\n * @param {string} argKey 要获取的key\n * @param {unknown} argData 要保存的数据\n * @returns {string} 保存的数据String\n */\nexport const setStorage = (argKey: string, argData: unknown): string => {\n  if (typeof argData === 'object') {\n    argData = JSON.stringify(argData)\n  }\n  globalThis.localStorage.setItem(argKey, String(argData))\n  return String(argData)\n}\n\n/**\n * @function\n * @description setTimeout promise版\n * @param  {number} ms 时间，毫秒\n */\nexport const sleep = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3647","url":"/home/runner/work/utils/utils/src/base.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6113,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":6110,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":12}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":12}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":7}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"delCookie","ranges":[{"startOffset":930,"endOffset":945,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":960,"endOffset":975,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":988,"endOffset":1001,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1023,"endOffset":1045,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":1065,"endOffset":1085,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1100,"endOffset":1115,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":1131,"endOffset":1147,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":1160,"endOffset":1173,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":1188,"endOffset":1203,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":1219,"endOffset":1235,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":1249,"endOffset":1263,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":1274,"endOffset":1285,"count":7}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1517,"endOffset":1585,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1628,"endOffset":1694,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1724,"endOffset":1752,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1772,"endOffset":2674,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":2693,"endOffset":3175,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":3193,"endOffset":3595,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":3615,"endOffset":3879,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":3899,"endOffset":4348,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":4368,"endOffset":4419,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":4437,"endOffset":5474,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":5499,"endOffset":5600,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":5621,"endOffset":5808,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":5829,"endOffset":6019,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":6035,"endOffset":6106,"count":7}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6066,"endOffset":6102,"count":7}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  decodeHtml: () => decodeHtml,\n  encodeHtml: () => encodeHtml,\n  getEnv: () => getEnv,\n  getObj: () => getObj,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  hideInfo: () => hideInfo,\n  randomInt: () => randomInt,\n  replaceUrlParam: () => replaceUrlParam,\n  safeData: () => safeData,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setUrlParams: () => setUrlParams,\n  string10to62: () => string10to62,\n  string62to10: () => string62to10,\n  toFixed: () => toFixed,\n  toHump: () => toHump,\n  toLine: () => toLine,\n  toList: () => toList\n});\nmodule.exports = __toCommonJS(stdin_exports);\nlet ENV = {};\nlet DATA_OBJECT = {};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst toFixed = (argData, argNum = 2, argType = \"string\") => {\n  let data = Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum);\n  data = (+data || 0).toFixed(argNum);\n  return argType === \"string\" ? data : +data;\n};\nconst toLine = (argData, argUnit = \"_\") => {\n  return argData.replace(/([A-Z])/g, argUnit + \"$1\").toLowerCase();\n};\nconst toHump = (argData, argUnit = \"_\") => {\n  return argData.replace(\n    new RegExp(\"\\\\\" + argUnit + \"(\\\\w)\", \"g\"),\n    (_, letter) => {\n      return letter.toUpperCase();\n    }\n  );\n};\nconst string10to62 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\".split(\"\");\n  let radix = chars.length;\n  let data = +argData;\n  let arr = [];\n  do {\n    let mod = data % radix;\n    data = (data - mod) / radix;\n    arr.unshift(chars[mod]);\n  } while (data);\n  return arr.join(\"\");\n};\nconst string62to10 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\";\n  let radix = chars.length;\n  let len = argData.length;\n  let i = 0;\n  let resNum = 0;\n  while (i < len) {\n    resNum += Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || \"0\");\n  }\n  return resNum;\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData = decodeURIComponent(argData);\n    let temArr = argData.split(\"?\");\n    argData = temArr.pop() || \"\";\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key, value) => {\n      res[key] = value;\n      return \"\";\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  let reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  let r = url.match(reg);\n  let search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function() {\n        if (!arguments[4] || !arguments[4].length) {\n          return \"\";\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1];\n        }\n        return arguments[1] + arguments[4];\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    let sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    let sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst encodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&/g, \"&amp;\");\n  argHtml = argHtml.replace(/</g, \"&lt;\");\n  argHtml = argHtml.replace(/>/g, \"&gt;\");\n  argHtml = argHtml.replace(/'/g, \"&#39;\");\n  argHtml = argHtml.replace(/\"/g, \"&quot;\");\n  argHtml = argHtml.replace(/ /g, \"&nbsp;\");\n  argHtml = argHtml.replace(/\\n/g, \"<br>\");\n  return argHtml;\n};\nconst decodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&amp;/g, \"&\");\n  argHtml = argHtml.replace(/&lt;/g, \"<\");\n  argHtml = argHtml.replace(/&gt;/g, \">\");\n  argHtml = argHtml.replace(/&#39;/g, \"'\");\n  argHtml = argHtml.replace(/&quot;/g, '\"');\n  argHtml = argHtml.replace(/&nbsp;/g, \" \");\n  argHtml = argHtml.replace(/<br>/g, \"\\n\");\n  return argHtml;\n};\nconst hideInfo = (argData = \"\", argStart = 3, argEnd = 4) => {\n  argData = String(argData);\n  let temLen = argData.length;\n  let temSL = argData.length - argEnd - argStart;\n  let start = \"\";\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += \"*\";\n    }\n    argData = argData.substring(0, argStart) + start + argData.substring(temLen - argEnd, temLen);\n  }\n  return argData;\n};\nconst getUuid = () => {\n  function S4() {\n    return ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  }\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nfunction toList(map, getItem) {\n  const list = [];\n  Object.keys(map).forEach((key) => {\n    const item = getItem(key, map[key]);\n    list.push(item);\n  });\n  return list;\n}\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 类字符串/参数处理\n */\n\nimport { AnyObject, Bool } from './types'\n\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * 描述\n * @function\n * @description toFixed处理\n * @date 2020-03-01\n * @param {string|number} argData 要处理的数据\n * @param {number} argNum 要保留位数,默认返回2位小数\n * @param {string} argType 返回类型，默认返回字符串\n * @returns {string|number} 返回处理好的数据\n */\nexport const toFixed = (\n  argData: string | number,\n  argNum: number = 2,\n  argType: string = 'string'\n): string | number => {\n  let data: number | string =\n    Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum)\n  data = (+data || 0).toFixed(argNum)\n  return argType === 'string' ? data : +data\n}\n/**\n * @function\n * @description 驼峰转下划线\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toLine = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(/([A-Z])/g, argUnit + '$1').toLowerCase()\n}\n\n/**\n * @function\n * @description 下划线转驼峰\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toHump = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(\n    new RegExp('\\\\' + argUnit + '(\\\\w)', 'g'),\n    (_, letter) => {\n      return letter.toUpperCase()\n    }\n  )\n}\n/**\n * 描述\n * @function\n * @description 10进制转62进制,用于短网址转换\n * @date 2020-03-01\n * @param {number|string} argData 要处理的数据\n * @returns {string} 返回处理好的数据\n */\nexport const string10to62 = (argData: number | string): string => {\n  let chars =\n    '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'.split('')\n  let radix = chars.length\n  let data = +argData\n  let arr = []\n  do {\n    let mod = data % radix\n    data = (data - mod) / radix\n    arr.unshift(chars[mod])\n  } while (data)\n  return arr.join('')\n}\n/**\n * 描述\n * @function\n * @description 62进制转10进制,用于短网址转换\n * @date 2020-03-01\n * @param {string} argData 要处理的数据\n * @returns {number} 返回处理好的数据\n */\nexport const string62to10 = (argData: string): number => {\n  let chars = '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'\n  let radix = chars.length\n  let len = argData.length\n  let i = 0\n  let resNum = 0\n  while (i < len) {\n    resNum +=\n      Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || '0')\n  }\n  return resNum\n}\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): any => {\n  const res: any = {}\n  try {\n    argData = decodeURIComponent(argData)\n    let temArr = argData.split('?')\n    argData = temArr.pop() || ''\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key: string, value) => {\n      res[key] = value\n      return ''\n    })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  let reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  let r = url.match(reg)\n  let search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function () {\n        if (!arguments[4] || !arguments[4].length) {\n          return ''\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1]\n        }\n        return arguments[1] + arguments[4]\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    let sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    let sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 转义html标签\n * @param  {string} argHtml 需要转义的文本\n * @returns {string}\n */\nexport const encodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&/g, '&amp;')\n  argHtml = argHtml.replace(/</g, '&lt;')\n  argHtml = argHtml.replace(/>/g, '&gt;')\n  argHtml = argHtml.replace(/'/g, '&#39;')\n  argHtml = argHtml.replace(/\"/g, '&quot;')\n  argHtml = argHtml.replace(/ /g, '&nbsp;')\n  argHtml = argHtml.replace(/\\n/g, '<br>')\n  return argHtml\n}\n\n/**\n * @function\n * @description 反转义html标签\n * @param  {string} argHtml 需要反转义的文本\n * @returns {string}\n */\nexport const decodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&amp;/g, '&')\n  argHtml = argHtml.replace(/&lt;/g, '<')\n  argHtml = argHtml.replace(/&gt;/g, '>')\n  argHtml = argHtml.replace(/&#39;/g, \"'\")\n  argHtml = argHtml.replace(/&quot;/g, '\"')\n  argHtml = argHtml.replace(/&nbsp;/g, ' ')\n  argHtml = argHtml.replace(/<br>/g, '\\n')\n  return argHtml\n}\n\n/**\n * 描述\n * @function\n * @description 数据中间加星号\n * @param {string|number} argData 要处理的数据\n * @param {number} argStart=3 前端显示多少位\n * @param {number} argEnd=4 后面显示多少位\n * @returns {string} 返回处理好的数据\n */\nexport const hideInfo = (\n  argData: string | number = '',\n  argStart: number = 3,\n  argEnd: number = 4\n): string => {\n  argData = String(argData)\n  let temLen = argData.length\n  let temSL = argData.length - argEnd - argStart\n  let start = ''\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += '*'\n    }\n    argData =\n      argData.substring(0, argStart) +\n      start +\n      argData.substring(temLen - argEnd, temLen)\n  }\n  return argData\n}\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  function S4() {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  }\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * map 转为 list，list item 具体是什么取决于传入的 getItem 函数\n * @param map\n * @param getItem\n * @return getItem()[]\n */\nexport function toList<V, K extends string, Item>(\n  map: Record<K, V>,\n  getItem: (key: K, value: V) => Item\n) {\n  const list = [] as Item[]\n  Object.keys(map).forEach((key: any) => {\n    // @ts-ignore, trust me.\n    const item = getItem(key, map[key])\n    list.push(item)\n  })\n  return list\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3648","url":"/home/runner/work/utils/utils/src/data.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":9154,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":9151,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":21}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":21}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"decodeHtml","ranges":[{"startOffset":931,"endOffset":947,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":963,"endOffset":979,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":991,"endOffset":1003,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1015,"endOffset":1027,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1044,"endOffset":1061,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1081,"endOffset":1101,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":1114,"endOffset":1127,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":1141,"endOffset":1155,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":1170,"endOffset":1185,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1206,"endOffset":1227,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1241,"endOffset":1255,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":1267,"endOffset":1279,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":1291,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1315,"endOffset":1327,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":1345,"endOffset":1363,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":1381,"endOffset":1399,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":1417,"endOffset":1435,"count":0}],"isBlockCoverage":false},{"functionName":"toFixed","ranges":[{"startOffset":1448,"endOffset":1461,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":1473,"endOffset":1485,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":1497,"endOffset":1509,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":1521,"endOffset":1533,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1637,"endOffset":2529,"count":0}],"isBlockCoverage":false},{"functionName":"toFixed","ranges":[{"startOffset":2547,"endOffset":2761,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":2778,"endOffset":2877,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":2894,"endOffset":3065,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":3088,"endOffset":3399,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":3422,"endOffset":3730,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":3753,"endOffset":4082,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":4104,"endOffset":4316,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":4341,"endOffset":4772,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":4798,"endOffset":6051,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":6072,"endOffset":6475,"count":0}],"isBlockCoverage":false},{"functionName":"decodeHtml","ranges":[{"startOffset":6496,"endOffset":6899,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":6918,"endOffset":7297,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":7315,"endOffset":7498,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":7518,"endOffset":7654,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":7671,"endOffset":7696,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":7713,"endOffset":7758,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":7775,"endOffset":7897,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":7914,"endOffset":8147,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":8164,"endOffset":8973,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":8975,"endOffset":9148,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 判断函数\n */\n/**\n * @function\n * @description 判断质数\n * @param {number} argValue 要判断的数据\n * @returns {boolean} 结果\n */\nexport const isPrime = (argValue: number): boolean =>\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\n\n/**\n * @function\n * @description 判断是否是JSON\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isJson = (argData: any): boolean => {\n  try {\n    return typeof JSON.parse(argData || '') === 'object'\n  } catch (e) {}\n  return false\n}\n/**\n * @function\n * @description 判断是否是Blob\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isBlob = (argData: any): boolean => {\n  return argData instanceof Blob\n}\n\n/**\n * @function\n * @description 判断是否是File\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isFile = (argData: any): boolean => {\n  return argData instanceof File\n}\n\n/**\n * @function\n * @description 是否为正确的身份证号码\n * @param  {string} code 身份证号码\n * @returns {boolean}\n */\nexport const isIdCard = (code: string): boolean => {\n  let tip = ''\n  let city: { [key: number]: string } = {\n    11: '北京',\n    12: '天津',\n    13: '河北',\n    14: '山西',\n    15: '内蒙古',\n    21: '辽宁',\n    22: '吉林',\n    23: '黑龙江 ',\n    31: '上海',\n    32: '江苏',\n    33: '浙江',\n    34: '安徽',\n    35: '福建',\n    36: '江西',\n    37: '山东',\n    41: '河南',\n    42: '湖北 ',\n    43: '湖南',\n    44: '广东',\n    45: '广西',\n    46: '海南',\n    50: '重庆',\n    51: '四川',\n    52: '贵州',\n    53: '云南',\n    54: '西藏 ',\n    61: '陕西',\n    62: '甘肃',\n    63: '青海',\n    64: '宁夏',\n    65: '新疆',\n    71: '台湾',\n    81: '香港',\n    82: '澳门',\n    91: '国外 ',\n  }\n  let pass = true\n  if (\n    !code ||\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n      code\n    )\n  ) {\n    tip = '身份证号格式错误'\n    pass = false\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = '地址编码错误'\n    pass = false\n  } else {\n    // 18位身份证需要验证最后一位校验位\n    if (code.length === 18) {\n      const codeArr = code.split('')\n      // ∑(ai×Wi)(mod 11)\n      // 加权因子\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\n      // 校验位\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\n      let sum = 0\n      let ai = 0\n      let wi = 0\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i])\n        wi = factor[i]\n        sum += ai * wi\n      }\n      let last = parity[sum % 11] + ''\n      if (last !== code[17]) {\n        tip = '校验位错误'\n        pass = false\n      }\n    }\n  }\n  console.assert(!tip, tip)\n  return pass\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3649","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1673578752128,"runtime":2048,"slow":false,"start":1673578750080},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/class/Debounce.spec.ts","testResults":[{"ancestorTitles":["Debounce"],"duration":1821,"failureDetails":[],"failureMessages":[],"fullName":"Debounce Debounce","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"Debounce"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar stdin_exports = {};\n__export(stdin_exports, {\n  Debounce: () => Debounce,\n  default: () => stdin_default\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar _timer;\nclass Debounce {\n  constructor() {\n    __privateAdd(this, _timer, void 0);\n  }\n  debounce(argFn, argWait = 500, ...args) {\n    if (__privateGet(this, _timer)) {\n      clearTimeout(__privateGet(this, _timer));\n    }\n    __privateSet(this, _timer, setTimeout(() => {\n      return argFn(...args);\n    }, argWait));\n  }\n}\n_timer = new WeakMap();\nvar stdin_default = Debounce;\n","originalCode":"import { AnyFn } from '../types'\n/**\n * @class\n * @classdesc 处理函数抖动\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @example  const db = new.Debounce(回调函数,等待时间,...回调函数的参数)\n */\nexport class Debounce {\n  #timer: any\n  /**\n   * @function\n   * @description 函数抖动，在等待n毫秒无点击后触发\n   * @param  {function} argFn 回调函数\n   * @param  {number} argWait 等待时间,默认0.5秒\n   * @param  {any} ...arg 回调函数的参数\n   * @returns {function}\n   */\n  debounce(argFn: AnyFn, argWait: number = 500, ...args: any): any {\n    if (this.#timer) {\n      clearTimeout(this.#timer)\n    }\n    this.#timer = setTimeout(() => {\n      return argFn(...args)\n    }, argWait)\n  }\n}\nexport default Debounce\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"2","url":"/home/runner/work/utils/utils/src/class/Debounce.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2090,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":2087,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":2}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":2}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":1}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"__accessCheck","ranges":[{"startOffset":887,"endOffset":974,"count":26},{"startOffset":939,"endOffset":972,"count":0}],"isBlockCoverage":true},{"functionName":"__privateGet","ranges":[{"startOffset":995,"endOffset":1134,"count":17},{"startOffset":1095,"endOffset":1113,"count":0}],"isBlockCoverage":true},{"functionName":"__privateAdd","ranges":[{"startOffset":1155,"endOffset":1351,"count":1},{"startOffset":1208,"endOffset":1277,"count":0},{"startOffset":1306,"endOffset":1323,"count":0}],"isBlockCoverage":true},{"functionName":"__privateSet","ranges":[{"startOffset":1372,"endOffset":1540,"count":9},{"startOffset":1471,"endOffset":1496,"count":0}],"isBlockCoverage":true},{"functionName":"Debounce","ranges":[{"startOffset":1604,"endOffset":1618,"count":0}],"isBlockCoverage":false},{"functionName":"default","ranges":[{"startOffset":1631,"endOffset":1650,"count":1}],"isBlockCoverage":true},{"functionName":"Debounce","ranges":[{"startOffset":1732,"endOffset":1791,"count":1}],"isBlockCoverage":true},{"functionName":"debounce","ranges":[{"startOffset":1794,"endOffset":2028,"count":9},{"startOffset":1872,"endOffset":1927,"count":8}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1970,"endOffset":2012,"count":3}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  delCookie: () => delCookie,\n  getCookie: () => getCookie,\n  getInfo: () => getInfo,\n  getNetworkStatus: () => getNetworkStatus,\n  getRandomColor: () => getRandomColor,\n  getRegexp: () => getRegexp,\n  getStorage: () => getStorage,\n  remInit: () => remInit,\n  setCookie: () => setCookie,\n  setStorage: () => setStorage,\n  setTitle: () => setTitle,\n  sleep: () => sleep\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_data = require(\"./data\");\nvar import_is = require(\"./is\");\nlet isOnline = true;\nif (globalThis && globalThis.addEventListener) {\n  globalThis.addEventListener(\"offline\", function() {\n    console.debug(\"offLine\");\n    isOnline = false;\n  });\n  globalThis.addEventListener(\"online\", function() {\n    console.debug(\"onLine\");\n    isOnline = true;\n  });\n}\nconst getNetworkStatus = () => {\n  return isOnline;\n};\nconst getRegexp = () => {\n  return {\n    html: /<[^>]+>/gim,\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    phone: /^1\\d{10}$/,\n    email: /^(w)+(.w+)*@(w)+((.w+)+)$/,\n    http: /http:\\/\\/|https:\\/\\//,\n    score: /^[1-9]\\d*|0$/,\n    int: /^[1-9]\\d*$/,\n    number: /^\\d*$/,\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    letter: /^[a-zA-Z]*$/,\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    realName: /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    ascii: /^[\\x20-\\x7E]+$/\n  };\n};\nconst setTitle = (argTitle) => {\n  if ((0, import_data.safeData)(globalThis.document.getElementsByTagName(\"title\"), \"0.innerText\")) {\n    globalThis.document.getElementsByTagName(\"title\")[0].innerText = String(argTitle);\n  }\n  if (getInfo().isAppleMobile) {\n    var i = document.createElement(\"iframe\");\n    i.onload = function() {\n      setTimeout(function() {\n        console.debug(\"apple setting title\");\n        i.remove();\n      }, 10);\n    };\n    globalThis.document.body.appendChild(i);\n  }\n};\nconst remInit = (argBaseSize = 16, argWidth = 375) => {\n  const setRem = () => {\n    const scale = (0, import_data.safeData)(globalThis, \"document.documentElement.clientWidth\", argWidth) / argWidth;\n    (0, import_data.safeData)(\n      globalThis,\n      \"document.documentElement.style.fontSize\",\n      argBaseSize * scale + \"px\",\n      true\n    );\n  };\n  setRem();\n  globalThis.onresize = () => {\n    setRem();\n  };\n};\nconst getCookie = (argName) => {\n  let cookie = globalThis.document.cookie.split(\"; \");\n  for (let i = 0; i < cookie.length; i += 1) {\n    let name = (\"\" + cookie[i]).split(\"=\");\n    if (argName === name[0]) {\n      return decodeURIComponent(name[1] || \"\");\n    }\n  }\n  return \"\";\n};\nconst setCookie = (argName, argValue = \"\", argTime = 24) => {\n  let now = new Date();\n  let offset = 8;\n  let utc = now.getTime() + now.getTimezoneOffset() * 6e4;\n  let nd = utc + 36e5 * offset;\n  let exp = new Date(nd);\n  let domain = globalThis.document.domain;\n  exp.setTime(exp.getTime() + argTime * 60 * 60 * 1e3);\n  globalThis.document.cookie = argName + \"=\" + encodeURIComponent(argValue) + \";path=/;expires=\" + exp.toUTCString() + \";domain=\" + domain + \";\";\n};\nconst delCookie = (argName = \"\") => {\n  setCookie(argName, \"\", -1);\n};\nconst getInfo = () => {\n  let ua = (0, import_data.safeData)(globalThis, \"navigator.userAgent\", \"\").toLowerCase();\n  let platform = (0, import_data.safeData)(\n    globalThis,\n    \"navigator.userAgentData.platform\",\n    \"\"\n  ).toLowerCase();\n  let info = {\n    ua,\n    platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match(\"win\"),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match(\"mac\"),\n    isIos: !!platform.match(\"ios\"),\n    isAndroid: !!platform.match(\"android\"),\n    isSafari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"chrome\") < 1,\n    isIE: \"ActiveXObject\" in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i)\n  };\n  if (info.ua.match(\"msie\")) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/);\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1];\n    }\n  }\n  info.isAppleMobile = !!(info.isMobile && ua.toLowerCase().indexOf(\"applewebkit\") && ua.indexOf(\"chrome\") < 1);\n  return info;\n};\nconst getRandomColor = function() {\n  return \"#\" + (\"00000\" + (Math.random() * 16777216 << 0).toString(16)).substring(-6);\n};\nconst getStorage = (argKey, argNoJson) => {\n  let res = globalThis.localStorage.getItem(argKey);\n  if (!argNoJson && (0, import_is.isJson)(res) && res) {\n    res = JSON.parse(res);\n  }\n  return res || \"\";\n};\nconst setStorage = (argKey, argData) => {\n  if (typeof argData === \"object\") {\n    argData = JSON.stringify(argData);\n  }\n  globalThis.localStorage.setItem(argKey, String(argData));\n  return String(argData);\n};\nconst sleep = (ms) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description no\n */\n\nimport { safeData } from './data'\nimport { isJson } from './is'\nimport { Info, AnyObject } from './types'\n\n/**\n * @module index\n * @author linj\n * @description 公共函数，使用'lj-utils'引入\n */\nlet isOnline: boolean = true\n// 断网监听\nif (globalThis && globalThis.addEventListener) {\n  // #ifdef H5\n  globalThis.addEventListener('offline', function () {\n    console.debug('offLine')\n    isOnline = false\n  })\n  globalThis.addEventListener('online', function () {\n    console.debug('onLine')\n    isOnline = true\n  })\n  // #endif\n}\n\n/**\n * @function\n * @description 获取当前网络状态（H5）\n * @return boolean\n */\nexport const getNetworkStatus = () => {\n  return isOnline\n}\n/**\n * @function\n * @description 正则收集\n * @returns {object}\n */\nexport const getRegexp = (): AnyObject => {\n  return {\n    // 匹配html标签，提取html文字： htmlCode.replace(reg.html,'')\n    html: /<[^>]+>/gim,\n    // 至少1数字1字母1字符，8-16位\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    // 普通身份证号正则，isIdCard更为严格\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    // 简易身份证号 数字+x\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    // 手机号\n    phone: /^1\\d{10}$/,\n    // 邮箱\n    email: /^(w)+(.w+)*@(w)+((.w+)+)$/,\n    // 网址\n    http: /http:\\/\\/|https:\\/\\//,\n    // 含0整数（得分）\n    score: /^[1-9]\\d*|0$/,\n    // 整数\n    int: /^[1-9]\\d*$/,\n    // 匹配数字\n    number: /^\\d*$/,\n    // >=0||1位小数\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    // >=0||2位小数\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    // >=0||3位小数\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    // 字母+数字组合\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    // 字母\n    letter: /^[a-zA-Z]*$/,\n    // 帐号50个字内：大小写+数字+中文+'_'+'-'\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    // 中英文姓名 50个字内/中文 中文/英文-. 英文-./\n    realName:\n      /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    // 匹配中文\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    // 匹配ASCII,非中文之外的字符\n    ascii: /^[\\x20-\\x7E]+$/,\n  }\n}\n\n/**\n * @function\n * @description 设置标题\n * @param  {string} argTitle 标题\n */\nexport const setTitle = (argTitle: string | number) => {\n  if (\n    safeData(globalThis.document.getElementsByTagName('title'), '0.innerText')\n  ) {\n    globalThis.document.getElementsByTagName('title')[0].innerText =\n      String(argTitle)\n  }\n  if (getInfo().isAppleMobile) {\n    var i = document.createElement('iframe')\n    i.onload = function () {\n      setTimeout(function () {\n        console.debug('apple setting title')\n        i.remove()\n      }, 10)\n    }\n    globalThis.document.body.appendChild(i)\n  }\n}\n/**\n * @function\n * @description 使用postcss-px2rem时使用\n * @param {number} argBaseSize 基础大小 16px（要跟配置一致）\n * @param {number} argWidth 基准宽度\n */\nexport const remInit = (argBaseSize: number = 16, argWidth: number = 375) => {\n  // 设置 rem 函数\n  const setRem = () => {\n    // 当前页面宽度相对于 argWidth 宽的缩放比例，可根据自己需要修改。\n    const scale =\n      safeData(globalThis, 'document.documentElement.clientWidth', argWidth) /\n      argWidth\n    // 设置页面根节点字体大小\n    safeData(\n      globalThis,\n      'document.documentElement.style.fontSize',\n      argBaseSize * scale + 'px',\n      true\n    )\n  }\n  // 初始化\n  setRem()\n  // 改变窗口大小时重新设置 rem\n  globalThis.onresize = () => {\n    setRem()\n  }\n}\n/**\n * @function\n * @description 获取cookie\n * @param  {string} argName 要获取的值\n * @returns {string}\n */\nexport const getCookie = (argName: string): string => {\n  let cookie = globalThis.document.cookie.split('; ')\n  for (let i = 0; i < cookie.length; i += 1) {\n    let name = ('' + cookie[i]).split('=')\n    if (argName === name[0]) {\n      return decodeURIComponent(name[1] || '')\n    }\n  }\n  return ''\n}\n/**\n * @function\n * @description 设置cookie\n * @param  {string} argName 要设置的key\n * @param  {string} argValue 要设置的value\n * @param  {number} argTime 过期时间/时 默认24小时\n */\nexport const setCookie = (\n  argName: string,\n  argValue: string | number | boolean = '',\n  argTime: number = 24\n) => {\n  let now = new Date()\n  let offset = 8\n  let utc = now.getTime() + now.getTimezoneOffset() * 60000\n  let nd = utc + 3600000 * offset\n  let exp = new Date(nd)\n  let domain = globalThis.document.domain\n  exp.setTime(exp.getTime() + argTime * 60 * 60 * 1000)\n  globalThis.document.cookie =\n    argName +\n    '=' +\n    encodeURIComponent(argValue) +\n    ';path=/;expires=' +\n    exp.toUTCString() +\n    ';domain=' +\n    domain +\n    ';'\n}\n/**\n * @function\n * @description 清除cookie\n * @param  {string} argName 要清除的值\n */\nexport const delCookie = (argName: string = '') => {\n  setCookie(argName, '', -1)\n}\n\n/**\n * @function\n * @description 检测浏览器状态，系统状态 *\n * @returns {Info} {\n * ua: ua,\n * platform: 平台,\n * isMobile: 移动端,\n * isWin: winPC端,\n * isIphone: iphone,\n * isIpad: ipad,\n * isMac: mac,\n * isAppleMobile: 苹果移动端webview\n * isSafari: Safari浏览器,\n * isIos: Ios平台,\n * isAndroid: android平台,\n * isIE: 显示8 9 10, true为11以上\n * ...\n * }\n */\nexport const getInfo = (): Info => {\n  let ua = safeData(globalThis, 'navigator.userAgent', '').toLowerCase()\n  let platform: string = safeData(\n    globalThis,\n    'navigator.userAgentData.platform',\n    ''\n  ).toLowerCase()\n  let info: Info = {\n    ua: ua,\n    platform: platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match('win'),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match('mac'),\n    isIos: !!platform.match('ios'),\n    isAndroid: !!platform.match('android'),\n    isSafari: ua.indexOf('safari') > -1 && ua.indexOf('chrome') < 1,\n    isIE: 'ActiveXObject' in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i),\n  }\n  if (info.ua.match('msie')) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/)\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1]\n    }\n  }\n  info.isAppleMobile = !!(\n    info.isMobile &&\n    ua.toLowerCase().indexOf('applewebkit') &&\n    ua.indexOf('chrome') < 1\n  )\n  return info\n}\n/**\n * @function\n * @description 获取随机颜色\n * @return string\n */\nexport const getRandomColor = function () {\n  return (\n    '#' +\n    ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substring(-6)\n  )\n}\n/**\n * @function\n * @description 获取storage的值，默认将json转为obj\n * @param {string} argKey 要获取的key\n * @param {string} argNoJson true时不自动转换JSON字符串\n * @returns {any} key对应的数据\n */\nexport const getStorage = (argKey: string, argNoJson?: string): any => {\n  let res = globalThis.localStorage.getItem(argKey)\n  // 默认转义JSON字符串\n  if (!argNoJson && isJson(res) && res) {\n    res = JSON.parse(res)\n  }\n  return res || ''\n}\n\n/**\n * @function\n * @description 设置storage的值，默认将obj转为json\n * @param {string} argKey 要获取的key\n * @param {unknown} argData 要保存的数据\n * @returns {string} 保存的数据String\n */\nexport const setStorage = (argKey: string, argData: unknown): string => {\n  if (typeof argData === 'object') {\n    argData = JSON.stringify(argData)\n  }\n  globalThis.localStorage.setItem(argKey, String(argData))\n  return String(argData)\n}\n\n/**\n * @function\n * @description setTimeout promise版\n * @param  {number} ms 时间，毫秒\n */\nexport const sleep = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3908","url":"/home/runner/work/utils/utils/src/base.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6113,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":6110,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":12}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":12}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":6}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"delCookie","ranges":[{"startOffset":930,"endOffset":945,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":960,"endOffset":975,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":988,"endOffset":1001,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1023,"endOffset":1045,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":1065,"endOffset":1085,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1100,"endOffset":1115,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":1131,"endOffset":1147,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":1160,"endOffset":1173,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":1188,"endOffset":1203,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":1219,"endOffset":1235,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":1249,"endOffset":1263,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":1274,"endOffset":1285,"count":6}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1517,"endOffset":1585,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1628,"endOffset":1694,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1724,"endOffset":1752,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1772,"endOffset":2674,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":2693,"endOffset":3175,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":3193,"endOffset":3595,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":3615,"endOffset":3879,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":3899,"endOffset":4348,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":4368,"endOffset":4419,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":4437,"endOffset":5474,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":5499,"endOffset":5600,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":5621,"endOffset":5808,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":5829,"endOffset":6019,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":6035,"endOffset":6106,"count":6}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6066,"endOffset":6102,"count":6}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  decodeHtml: () => decodeHtml,\n  encodeHtml: () => encodeHtml,\n  getEnv: () => getEnv,\n  getObj: () => getObj,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  hideInfo: () => hideInfo,\n  randomInt: () => randomInt,\n  replaceUrlParam: () => replaceUrlParam,\n  safeData: () => safeData,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setUrlParams: () => setUrlParams,\n  string10to62: () => string10to62,\n  string62to10: () => string62to10,\n  toFixed: () => toFixed,\n  toHump: () => toHump,\n  toLine: () => toLine,\n  toList: () => toList\n});\nmodule.exports = __toCommonJS(stdin_exports);\nlet ENV = {};\nlet DATA_OBJECT = {};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst toFixed = (argData, argNum = 2, argType = \"string\") => {\n  let data = Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum);\n  data = (+data || 0).toFixed(argNum);\n  return argType === \"string\" ? data : +data;\n};\nconst toLine = (argData, argUnit = \"_\") => {\n  return argData.replace(/([A-Z])/g, argUnit + \"$1\").toLowerCase();\n};\nconst toHump = (argData, argUnit = \"_\") => {\n  return argData.replace(\n    new RegExp(\"\\\\\" + argUnit + \"(\\\\w)\", \"g\"),\n    (_, letter) => {\n      return letter.toUpperCase();\n    }\n  );\n};\nconst string10to62 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\".split(\"\");\n  let radix = chars.length;\n  let data = +argData;\n  let arr = [];\n  do {\n    let mod = data % radix;\n    data = (data - mod) / radix;\n    arr.unshift(chars[mod]);\n  } while (data);\n  return arr.join(\"\");\n};\nconst string62to10 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\";\n  let radix = chars.length;\n  let len = argData.length;\n  let i = 0;\n  let resNum = 0;\n  while (i < len) {\n    resNum += Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || \"0\");\n  }\n  return resNum;\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData = decodeURIComponent(argData);\n    let temArr = argData.split(\"?\");\n    argData = temArr.pop() || \"\";\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key, value) => {\n      res[key] = value;\n      return \"\";\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  let reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  let r = url.match(reg);\n  let search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function() {\n        if (!arguments[4] || !arguments[4].length) {\n          return \"\";\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1];\n        }\n        return arguments[1] + arguments[4];\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    let sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    let sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst encodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&/g, \"&amp;\");\n  argHtml = argHtml.replace(/</g, \"&lt;\");\n  argHtml = argHtml.replace(/>/g, \"&gt;\");\n  argHtml = argHtml.replace(/'/g, \"&#39;\");\n  argHtml = argHtml.replace(/\"/g, \"&quot;\");\n  argHtml = argHtml.replace(/ /g, \"&nbsp;\");\n  argHtml = argHtml.replace(/\\n/g, \"<br>\");\n  return argHtml;\n};\nconst decodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&amp;/g, \"&\");\n  argHtml = argHtml.replace(/&lt;/g, \"<\");\n  argHtml = argHtml.replace(/&gt;/g, \">\");\n  argHtml = argHtml.replace(/&#39;/g, \"'\");\n  argHtml = argHtml.replace(/&quot;/g, '\"');\n  argHtml = argHtml.replace(/&nbsp;/g, \" \");\n  argHtml = argHtml.replace(/<br>/g, \"\\n\");\n  return argHtml;\n};\nconst hideInfo = (argData = \"\", argStart = 3, argEnd = 4) => {\n  argData = String(argData);\n  let temLen = argData.length;\n  let temSL = argData.length - argEnd - argStart;\n  let start = \"\";\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += \"*\";\n    }\n    argData = argData.substring(0, argStart) + start + argData.substring(temLen - argEnd, temLen);\n  }\n  return argData;\n};\nconst getUuid = () => {\n  function S4() {\n    return ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  }\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nfunction toList(map, getItem) {\n  const list = [];\n  Object.keys(map).forEach((key) => {\n    const item = getItem(key, map[key]);\n    list.push(item);\n  });\n  return list;\n}\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 类字符串/参数处理\n */\n\nimport { AnyObject, Bool } from './types'\n\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * 描述\n * @function\n * @description toFixed处理\n * @date 2020-03-01\n * @param {string|number} argData 要处理的数据\n * @param {number} argNum 要保留位数,默认返回2位小数\n * @param {string} argType 返回类型，默认返回字符串\n * @returns {string|number} 返回处理好的数据\n */\nexport const toFixed = (\n  argData: string | number,\n  argNum: number = 2,\n  argType: string = 'string'\n): string | number => {\n  let data: number | string =\n    Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum)\n  data = (+data || 0).toFixed(argNum)\n  return argType === 'string' ? data : +data\n}\n/**\n * @function\n * @description 驼峰转下划线\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toLine = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(/([A-Z])/g, argUnit + '$1').toLowerCase()\n}\n\n/**\n * @function\n * @description 下划线转驼峰\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toHump = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(\n    new RegExp('\\\\' + argUnit + '(\\\\w)', 'g'),\n    (_, letter) => {\n      return letter.toUpperCase()\n    }\n  )\n}\n/**\n * 描述\n * @function\n * @description 10进制转62进制,用于短网址转换\n * @date 2020-03-01\n * @param {number|string} argData 要处理的数据\n * @returns {string} 返回处理好的数据\n */\nexport const string10to62 = (argData: number | string): string => {\n  let chars =\n    '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'.split('')\n  let radix = chars.length\n  let data = +argData\n  let arr = []\n  do {\n    let mod = data % radix\n    data = (data - mod) / radix\n    arr.unshift(chars[mod])\n  } while (data)\n  return arr.join('')\n}\n/**\n * 描述\n * @function\n * @description 62进制转10进制,用于短网址转换\n * @date 2020-03-01\n * @param {string} argData 要处理的数据\n * @returns {number} 返回处理好的数据\n */\nexport const string62to10 = (argData: string): number => {\n  let chars = '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'\n  let radix = chars.length\n  let len = argData.length\n  let i = 0\n  let resNum = 0\n  while (i < len) {\n    resNum +=\n      Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || '0')\n  }\n  return resNum\n}\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): any => {\n  const res: any = {}\n  try {\n    argData = decodeURIComponent(argData)\n    let temArr = argData.split('?')\n    argData = temArr.pop() || ''\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key: string, value) => {\n      res[key] = value\n      return ''\n    })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  let reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  let r = url.match(reg)\n  let search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function () {\n        if (!arguments[4] || !arguments[4].length) {\n          return ''\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1]\n        }\n        return arguments[1] + arguments[4]\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    let sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    let sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 转义html标签\n * @param  {string} argHtml 需要转义的文本\n * @returns {string}\n */\nexport const encodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&/g, '&amp;')\n  argHtml = argHtml.replace(/</g, '&lt;')\n  argHtml = argHtml.replace(/>/g, '&gt;')\n  argHtml = argHtml.replace(/'/g, '&#39;')\n  argHtml = argHtml.replace(/\"/g, '&quot;')\n  argHtml = argHtml.replace(/ /g, '&nbsp;')\n  argHtml = argHtml.replace(/\\n/g, '<br>')\n  return argHtml\n}\n\n/**\n * @function\n * @description 反转义html标签\n * @param  {string} argHtml 需要反转义的文本\n * @returns {string}\n */\nexport const decodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&amp;/g, '&')\n  argHtml = argHtml.replace(/&lt;/g, '<')\n  argHtml = argHtml.replace(/&gt;/g, '>')\n  argHtml = argHtml.replace(/&#39;/g, \"'\")\n  argHtml = argHtml.replace(/&quot;/g, '\"')\n  argHtml = argHtml.replace(/&nbsp;/g, ' ')\n  argHtml = argHtml.replace(/<br>/g, '\\n')\n  return argHtml\n}\n\n/**\n * 描述\n * @function\n * @description 数据中间加星号\n * @param {string|number} argData 要处理的数据\n * @param {number} argStart=3 前端显示多少位\n * @param {number} argEnd=4 后面显示多少位\n * @returns {string} 返回处理好的数据\n */\nexport const hideInfo = (\n  argData: string | number = '',\n  argStart: number = 3,\n  argEnd: number = 4\n): string => {\n  argData = String(argData)\n  let temLen = argData.length\n  let temSL = argData.length - argEnd - argStart\n  let start = ''\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += '*'\n    }\n    argData =\n      argData.substring(0, argStart) +\n      start +\n      argData.substring(temLen - argEnd, temLen)\n  }\n  return argData\n}\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  function S4() {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  }\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * map 转为 list，list item 具体是什么取决于传入的 getItem 函数\n * @param map\n * @param getItem\n * @return getItem()[]\n */\nexport function toList<V, K extends string, Item>(\n  map: Record<K, V>,\n  getItem: (key: K, value: V) => Item\n) {\n  const list = [] as Item[]\n  Object.keys(map).forEach((key: any) => {\n    // @ts-ignore, trust me.\n    const item = getItem(key, map[key])\n    list.push(item)\n  })\n  return list\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3909","url":"/home/runner/work/utils/utils/src/data.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":9154,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":9151,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":21}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":21}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"decodeHtml","ranges":[{"startOffset":931,"endOffset":947,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":963,"endOffset":979,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":991,"endOffset":1003,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1015,"endOffset":1027,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1044,"endOffset":1061,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1081,"endOffset":1101,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":1114,"endOffset":1127,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":1141,"endOffset":1155,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":1170,"endOffset":1185,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1206,"endOffset":1227,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1241,"endOffset":1255,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":1267,"endOffset":1279,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":1291,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1315,"endOffset":1327,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":1345,"endOffset":1363,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":1381,"endOffset":1399,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":1417,"endOffset":1435,"count":0}],"isBlockCoverage":false},{"functionName":"toFixed","ranges":[{"startOffset":1448,"endOffset":1461,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":1473,"endOffset":1485,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":1497,"endOffset":1509,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":1521,"endOffset":1533,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1637,"endOffset":2529,"count":0}],"isBlockCoverage":false},{"functionName":"toFixed","ranges":[{"startOffset":2547,"endOffset":2761,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":2778,"endOffset":2877,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":2894,"endOffset":3065,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":3088,"endOffset":3399,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":3422,"endOffset":3730,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":3753,"endOffset":4082,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":4104,"endOffset":4316,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":4341,"endOffset":4772,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":4798,"endOffset":6051,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":6072,"endOffset":6475,"count":0}],"isBlockCoverage":false},{"functionName":"decodeHtml","ranges":[{"startOffset":6496,"endOffset":6899,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":6918,"endOffset":7297,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":7315,"endOffset":7498,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":7518,"endOffset":7654,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":7671,"endOffset":7696,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":7713,"endOffset":7758,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":7775,"endOffset":7897,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":7914,"endOffset":8147,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":8164,"endOffset":8973,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":8975,"endOffset":9148,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 判断函数\n */\n/**\n * @function\n * @description 判断质数\n * @param {number} argValue 要判断的数据\n * @returns {boolean} 结果\n */\nexport const isPrime = (argValue: number): boolean =>\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\n\n/**\n * @function\n * @description 判断是否是JSON\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isJson = (argData: any): boolean => {\n  try {\n    return typeof JSON.parse(argData || '') === 'object'\n  } catch (e) {}\n  return false\n}\n/**\n * @function\n * @description 判断是否是Blob\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isBlob = (argData: any): boolean => {\n  return argData instanceof Blob\n}\n\n/**\n * @function\n * @description 判断是否是File\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isFile = (argData: any): boolean => {\n  return argData instanceof File\n}\n\n/**\n * @function\n * @description 是否为正确的身份证号码\n * @param  {string} code 身份证号码\n * @returns {boolean}\n */\nexport const isIdCard = (code: string): boolean => {\n  let tip = ''\n  let city: { [key: number]: string } = {\n    11: '北京',\n    12: '天津',\n    13: '河北',\n    14: '山西',\n    15: '内蒙古',\n    21: '辽宁',\n    22: '吉林',\n    23: '黑龙江 ',\n    31: '上海',\n    32: '江苏',\n    33: '浙江',\n    34: '安徽',\n    35: '福建',\n    36: '江西',\n    37: '山东',\n    41: '河南',\n    42: '湖北 ',\n    43: '湖南',\n    44: '广东',\n    45: '广西',\n    46: '海南',\n    50: '重庆',\n    51: '四川',\n    52: '贵州',\n    53: '云南',\n    54: '西藏 ',\n    61: '陕西',\n    62: '甘肃',\n    63: '青海',\n    64: '宁夏',\n    65: '新疆',\n    71: '台湾',\n    81: '香港',\n    82: '澳门',\n    91: '国外 ',\n  }\n  let pass = true\n  if (\n    !code ||\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n      code\n    )\n  ) {\n    tip = '身份证号格式错误'\n    pass = false\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = '地址编码错误'\n    pass = false\n  } else {\n    // 18位身份证需要验证最后一位校验位\n    if (code.length === 18) {\n      const codeArr = code.split('')\n      // ∑(ai×Wi)(mod 11)\n      // 加权因子\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\n      // 校验位\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\n      let sum = 0\n      let ai = 0\n      let wi = 0\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i])\n        wi = factor[i]\n        sum += ai * wi\n      }\n      let last = parity[sum % 11] + ''\n      if (last !== code[17]) {\n        tip = '校验位错误'\n        pass = false\n      }\n    }\n  }\n  console.assert(!tip, tip)\n  return pass\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"3910","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1673578753390,"runtime":1248,"slow":false,"start":1673578752142},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/class/Throttle.spec.ts","testResults":[{"ancestorTitles":["Throttle"],"duration":1016,"failureDetails":[],"failureMessages":[],"fullName":"Throttle Throttle","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"Throttle"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar stdin_exports = {};\n__export(stdin_exports, {\n  Throttle: () => Throttle,\n  default: () => stdin_default\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar _trTime;\nclass Throttle {\n  constructor() {\n    __privateAdd(this, _trTime, 0);\n    this.clickTime = 0;\n  }\n  throttle(argFn, argWait = 1e3, ...args) {\n    if (argWait - (Date.now() - __privateGet(this, _trTime)) <= 0) {\n      __privateSet(this, _trTime, Date.now());\n      this.clickTime = 0;\n      setTimeout(() => {\n        if (this.clickTime > 0) {\n          __privateSet(this, _trTime, 0);\n          this.clickTime = 0;\n        }\n      }, argWait);\n      return argFn(...args);\n    } else {\n      this.clickTime++;\n      return () => this;\n    }\n  }\n}\n_trTime = new WeakMap();\nvar stdin_default = Throttle;\n","originalCode":"/**\n * @class\n * @classdesc 处理函数节流\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @example  const tr = new.Throttle(回调函数,等待时间,...回调函数的参数)\n */\nexport class Throttle {\n  #trTime = 0\n  clickTime = 0\n  /**\n   * @function\n   * @description 函数节流，触发一次后，再间隔n毫秒后才会被触发\n   * @param  {function} argFn 回调函数\n   * @param  {number} argWait 等待时间,默认1000毫秒\n   * @param  {any} ...arg 回调函数的参数\n   * @returns {function}\n   */\n  throttle(\n    argFn: (...arg: any) => any,\n    argWait: number = 1000,\n    ...args: any\n  ): (...arg: any) => any {\n    if (argWait - (Date.now() - this.#trTime) <= 0) {\n      this.#trTime = Date.now()\n      this.clickTime = 0\n      setTimeout(() => {\n        if (this.clickTime > 0) {\n          this.#trTime = 0\n          this.clickTime = 0\n        }\n      }, argWait)\n      return argFn(...args)\n    } else {\n      this.clickTime++\n      return () => this\n    }\n  }\n}\nexport default Throttle\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"4","url":"/home/runner/work/utils/utils/src/class/Throttle.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2322,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":2319,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":2}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":2}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":1}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"__accessCheck","ranges":[{"startOffset":887,"endOffset":974,"count":8},{"startOffset":939,"endOffset":972,"count":0}],"isBlockCoverage":true},{"functionName":"__privateGet","ranges":[{"startOffset":995,"endOffset":1134,"count":5},{"startOffset":1095,"endOffset":1113,"count":0}],"isBlockCoverage":true},{"functionName":"__privateAdd","ranges":[{"startOffset":1155,"endOffset":1351,"count":1},{"startOffset":1208,"endOffset":1277,"count":0},{"startOffset":1306,"endOffset":1323,"count":0}],"isBlockCoverage":true},{"functionName":"__privateSet","ranges":[{"startOffset":1372,"endOffset":1540,"count":3},{"startOffset":1471,"endOffset":1496,"count":0}],"isBlockCoverage":true},{"functionName":"Throttle","ranges":[{"startOffset":1604,"endOffset":1618,"count":0}],"isBlockCoverage":false},{"functionName":"default","ranges":[{"startOffset":1631,"endOffset":1650,"count":1}],"isBlockCoverage":true},{"functionName":"Throttle","ranges":[{"startOffset":1733,"endOffset":1812,"count":1}],"isBlockCoverage":true},{"functionName":"throttle","ranges":[{"startOffset":1815,"endOffset":2259,"count":5},{"startOffset":1924,"endOffset":2193,"count":2},{"startOffset":2193,"endOffset":2255,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2016,"endOffset":2147,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2238,"endOffset":2248,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  delCookie: () => delCookie,\n  getCookie: () => getCookie,\n  getInfo: () => getInfo,\n  getNetworkStatus: () => getNetworkStatus,\n  getRandomColor: () => getRandomColor,\n  getRegexp: () => getRegexp,\n  getStorage: () => getStorage,\n  remInit: () => remInit,\n  setCookie: () => setCookie,\n  setStorage: () => setStorage,\n  setTitle: () => setTitle,\n  sleep: () => sleep\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_data = require(\"./data\");\nvar import_is = require(\"./is\");\nlet isOnline = true;\nif (globalThis && globalThis.addEventListener) {\n  globalThis.addEventListener(\"offline\", function() {\n    console.debug(\"offLine\");\n    isOnline = false;\n  });\n  globalThis.addEventListener(\"online\", function() {\n    console.debug(\"onLine\");\n    isOnline = true;\n  });\n}\nconst getNetworkStatus = () => {\n  return isOnline;\n};\nconst getRegexp = () => {\n  return {\n    html: /<[^>]+>/gim,\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    phone: /^1\\d{10}$/,\n    email: /^(w)+(.w+)*@(w)+((.w+)+)$/,\n    http: /http:\\/\\/|https:\\/\\//,\n    score: /^[1-9]\\d*|0$/,\n    int: /^[1-9]\\d*$/,\n    number: /^\\d*$/,\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    letter: /^[a-zA-Z]*$/,\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    realName: /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    ascii: /^[\\x20-\\x7E]+$/\n  };\n};\nconst setTitle = (argTitle) => {\n  if ((0, import_data.safeData)(globalThis.document.getElementsByTagName(\"title\"), \"0.innerText\")) {\n    globalThis.document.getElementsByTagName(\"title\")[0].innerText = String(argTitle);\n  }\n  if (getInfo().isAppleMobile) {\n    var i = document.createElement(\"iframe\");\n    i.onload = function() {\n      setTimeout(function() {\n        console.debug(\"apple setting title\");\n        i.remove();\n      }, 10);\n    };\n    globalThis.document.body.appendChild(i);\n  }\n};\nconst remInit = (argBaseSize = 16, argWidth = 375) => {\n  const setRem = () => {\n    const scale = (0, import_data.safeData)(globalThis, \"document.documentElement.clientWidth\", argWidth) / argWidth;\n    (0, import_data.safeData)(\n      globalThis,\n      \"document.documentElement.style.fontSize\",\n      argBaseSize * scale + \"px\",\n      true\n    );\n  };\n  setRem();\n  globalThis.onresize = () => {\n    setRem();\n  };\n};\nconst getCookie = (argName) => {\n  let cookie = globalThis.document.cookie.split(\"; \");\n  for (let i = 0; i < cookie.length; i += 1) {\n    let name = (\"\" + cookie[i]).split(\"=\");\n    if (argName === name[0]) {\n      return decodeURIComponent(name[1] || \"\");\n    }\n  }\n  return \"\";\n};\nconst setCookie = (argName, argValue = \"\", argTime = 24) => {\n  let now = new Date();\n  let offset = 8;\n  let utc = now.getTime() + now.getTimezoneOffset() * 6e4;\n  let nd = utc + 36e5 * offset;\n  let exp = new Date(nd);\n  let domain = globalThis.document.domain;\n  exp.setTime(exp.getTime() + argTime * 60 * 60 * 1e3);\n  globalThis.document.cookie = argName + \"=\" + encodeURIComponent(argValue) + \";path=/;expires=\" + exp.toUTCString() + \";domain=\" + domain + \";\";\n};\nconst delCookie = (argName = \"\") => {\n  setCookie(argName, \"\", -1);\n};\nconst getInfo = () => {\n  let ua = (0, import_data.safeData)(globalThis, \"navigator.userAgent\", \"\").toLowerCase();\n  let platform = (0, import_data.safeData)(\n    globalThis,\n    \"navigator.userAgentData.platform\",\n    \"\"\n  ).toLowerCase();\n  let info = {\n    ua,\n    platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match(\"win\"),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match(\"mac\"),\n    isIos: !!platform.match(\"ios\"),\n    isAndroid: !!platform.match(\"android\"),\n    isSafari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"chrome\") < 1,\n    isIE: \"ActiveXObject\" in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i)\n  };\n  if (info.ua.match(\"msie\")) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/);\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1];\n    }\n  }\n  info.isAppleMobile = !!(info.isMobile && ua.toLowerCase().indexOf(\"applewebkit\") && ua.indexOf(\"chrome\") < 1);\n  return info;\n};\nconst getRandomColor = function() {\n  return \"#\" + (\"00000\" + (Math.random() * 16777216 << 0).toString(16)).substring(-6);\n};\nconst getStorage = (argKey, argNoJson) => {\n  let res = globalThis.localStorage.getItem(argKey);\n  if (!argNoJson && (0, import_is.isJson)(res) && res) {\n    res = JSON.parse(res);\n  }\n  return res || \"\";\n};\nconst setStorage = (argKey, argData) => {\n  if (typeof argData === \"object\") {\n    argData = JSON.stringify(argData);\n  }\n  globalThis.localStorage.setItem(argKey, String(argData));\n  return String(argData);\n};\nconst sleep = (ms) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description no\n */\n\nimport { safeData } from './data'\nimport { isJson } from './is'\nimport { Info, AnyObject } from './types'\n\n/**\n * @module index\n * @author linj\n * @description 公共函数，使用'lj-utils'引入\n */\nlet isOnline: boolean = true\n// 断网监听\nif (globalThis && globalThis.addEventListener) {\n  // #ifdef H5\n  globalThis.addEventListener('offline', function () {\n    console.debug('offLine')\n    isOnline = false\n  })\n  globalThis.addEventListener('online', function () {\n    console.debug('onLine')\n    isOnline = true\n  })\n  // #endif\n}\n\n/**\n * @function\n * @description 获取当前网络状态（H5）\n * @return boolean\n */\nexport const getNetworkStatus = () => {\n  return isOnline\n}\n/**\n * @function\n * @description 正则收集\n * @returns {object}\n */\nexport const getRegexp = (): AnyObject => {\n  return {\n    // 匹配html标签，提取html文字： htmlCode.replace(reg.html,'')\n    html: /<[^>]+>/gim,\n    // 至少1数字1字母1字符，8-16位\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    // 普通身份证号正则，isIdCard更为严格\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    // 简易身份证号 数字+x\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    // 手机号\n    phone: /^1\\d{10}$/,\n    // 邮箱\n    email: /^(w)+(.w+)*@(w)+((.w+)+)$/,\n    // 网址\n    http: /http:\\/\\/|https:\\/\\//,\n    // 含0整数（得分）\n    score: /^[1-9]\\d*|0$/,\n    // 整数\n    int: /^[1-9]\\d*$/,\n    // 匹配数字\n    number: /^\\d*$/,\n    // >=0||1位小数\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    // >=0||2位小数\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    // >=0||3位小数\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    // 字母+数字组合\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    // 字母\n    letter: /^[a-zA-Z]*$/,\n    // 帐号50个字内：大小写+数字+中文+'_'+'-'\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    // 中英文姓名 50个字内/中文 中文/英文-. 英文-./\n    realName:\n      /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    // 匹配中文\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    // 匹配ASCII,非中文之外的字符\n    ascii: /^[\\x20-\\x7E]+$/,\n  }\n}\n\n/**\n * @function\n * @description 设置标题\n * @param  {string} argTitle 标题\n */\nexport const setTitle = (argTitle: string | number) => {\n  if (\n    safeData(globalThis.document.getElementsByTagName('title'), '0.innerText')\n  ) {\n    globalThis.document.getElementsByTagName('title')[0].innerText =\n      String(argTitle)\n  }\n  if (getInfo().isAppleMobile) {\n    var i = document.createElement('iframe')\n    i.onload = function () {\n      setTimeout(function () {\n        console.debug('apple setting title')\n        i.remove()\n      }, 10)\n    }\n    globalThis.document.body.appendChild(i)\n  }\n}\n/**\n * @function\n * @description 使用postcss-px2rem时使用\n * @param {number} argBaseSize 基础大小 16px（要跟配置一致）\n * @param {number} argWidth 基准宽度\n */\nexport const remInit = (argBaseSize: number = 16, argWidth: number = 375) => {\n  // 设置 rem 函数\n  const setRem = () => {\n    // 当前页面宽度相对于 argWidth 宽的缩放比例，可根据自己需要修改。\n    const scale =\n      safeData(globalThis, 'document.documentElement.clientWidth', argWidth) /\n      argWidth\n    // 设置页面根节点字体大小\n    safeData(\n      globalThis,\n      'document.documentElement.style.fontSize',\n      argBaseSize * scale + 'px',\n      true\n    )\n  }\n  // 初始化\n  setRem()\n  // 改变窗口大小时重新设置 rem\n  globalThis.onresize = () => {\n    setRem()\n  }\n}\n/**\n * @function\n * @description 获取cookie\n * @param  {string} argName 要获取的值\n * @returns {string}\n */\nexport const getCookie = (argName: string): string => {\n  let cookie = globalThis.document.cookie.split('; ')\n  for (let i = 0; i < cookie.length; i += 1) {\n    let name = ('' + cookie[i]).split('=')\n    if (argName === name[0]) {\n      return decodeURIComponent(name[1] || '')\n    }\n  }\n  return ''\n}\n/**\n * @function\n * @description 设置cookie\n * @param  {string} argName 要设置的key\n * @param  {string} argValue 要设置的value\n * @param  {number} argTime 过期时间/时 默认24小时\n */\nexport const setCookie = (\n  argName: string,\n  argValue: string | number | boolean = '',\n  argTime: number = 24\n) => {\n  let now = new Date()\n  let offset = 8\n  let utc = now.getTime() + now.getTimezoneOffset() * 60000\n  let nd = utc + 3600000 * offset\n  let exp = new Date(nd)\n  let domain = globalThis.document.domain\n  exp.setTime(exp.getTime() + argTime * 60 * 60 * 1000)\n  globalThis.document.cookie =\n    argName +\n    '=' +\n    encodeURIComponent(argValue) +\n    ';path=/;expires=' +\n    exp.toUTCString() +\n    ';domain=' +\n    domain +\n    ';'\n}\n/**\n * @function\n * @description 清除cookie\n * @param  {string} argName 要清除的值\n */\nexport const delCookie = (argName: string = '') => {\n  setCookie(argName, '', -1)\n}\n\n/**\n * @function\n * @description 检测浏览器状态，系统状态 *\n * @returns {Info} {\n * ua: ua,\n * platform: 平台,\n * isMobile: 移动端,\n * isWin: winPC端,\n * isIphone: iphone,\n * isIpad: ipad,\n * isMac: mac,\n * isAppleMobile: 苹果移动端webview\n * isSafari: Safari浏览器,\n * isIos: Ios平台,\n * isAndroid: android平台,\n * isIE: 显示8 9 10, true为11以上\n * ...\n * }\n */\nexport const getInfo = (): Info => {\n  let ua = safeData(globalThis, 'navigator.userAgent', '').toLowerCase()\n  let platform: string = safeData(\n    globalThis,\n    'navigator.userAgentData.platform',\n    ''\n  ).toLowerCase()\n  let info: Info = {\n    ua: ua,\n    platform: platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match('win'),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match('mac'),\n    isIos: !!platform.match('ios'),\n    isAndroid: !!platform.match('android'),\n    isSafari: ua.indexOf('safari') > -1 && ua.indexOf('chrome') < 1,\n    isIE: 'ActiveXObject' in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i),\n  }\n  if (info.ua.match('msie')) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/)\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1]\n    }\n  }\n  info.isAppleMobile = !!(\n    info.isMobile &&\n    ua.toLowerCase().indexOf('applewebkit') &&\n    ua.indexOf('chrome') < 1\n  )\n  return info\n}\n/**\n * @function\n * @description 获取随机颜色\n * @return string\n */\nexport const getRandomColor = function () {\n  return (\n    '#' +\n    ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substring(-6)\n  )\n}\n/**\n * @function\n * @description 获取storage的值，默认将json转为obj\n * @param {string} argKey 要获取的key\n * @param {string} argNoJson true时不自动转换JSON字符串\n * @returns {any} key对应的数据\n */\nexport const getStorage = (argKey: string, argNoJson?: string): any => {\n  let res = globalThis.localStorage.getItem(argKey)\n  // 默认转义JSON字符串\n  if (!argNoJson && isJson(res) && res) {\n    res = JSON.parse(res)\n  }\n  return res || ''\n}\n\n/**\n * @function\n * @description 设置storage的值，默认将obj转为json\n * @param {string} argKey 要获取的key\n * @param {unknown} argData 要保存的数据\n * @returns {string} 保存的数据String\n */\nexport const setStorage = (argKey: string, argData: unknown): string => {\n  if (typeof argData === 'object') {\n    argData = JSON.stringify(argData)\n  }\n  globalThis.localStorage.setItem(argKey, String(argData))\n  return String(argData)\n}\n\n/**\n * @function\n * @description setTimeout promise版\n * @param  {number} ms 时间，毫秒\n */\nexport const sleep = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"4169","url":"/home/runner/work/utils/utils/src/base.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6113,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":6110,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":12}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":12}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":1}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"delCookie","ranges":[{"startOffset":930,"endOffset":945,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":960,"endOffset":975,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":988,"endOffset":1001,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1023,"endOffset":1045,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":1065,"endOffset":1085,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1100,"endOffset":1115,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":1131,"endOffset":1147,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":1160,"endOffset":1173,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":1188,"endOffset":1203,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":1219,"endOffset":1235,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":1249,"endOffset":1263,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":1274,"endOffset":1285,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1517,"endOffset":1585,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1628,"endOffset":1694,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1724,"endOffset":1752,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1772,"endOffset":2674,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":2693,"endOffset":3175,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":3193,"endOffset":3595,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":3615,"endOffset":3879,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":3899,"endOffset":4348,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":4368,"endOffset":4419,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":4437,"endOffset":5474,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":5499,"endOffset":5600,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":5621,"endOffset":5808,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":5829,"endOffset":6019,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":6035,"endOffset":6106,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6066,"endOffset":6102,"count":1}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  decodeHtml: () => decodeHtml,\n  encodeHtml: () => encodeHtml,\n  getEnv: () => getEnv,\n  getObj: () => getObj,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  hideInfo: () => hideInfo,\n  randomInt: () => randomInt,\n  replaceUrlParam: () => replaceUrlParam,\n  safeData: () => safeData,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setUrlParams: () => setUrlParams,\n  string10to62: () => string10to62,\n  string62to10: () => string62to10,\n  toFixed: () => toFixed,\n  toHump: () => toHump,\n  toLine: () => toLine,\n  toList: () => toList\n});\nmodule.exports = __toCommonJS(stdin_exports);\nlet ENV = {};\nlet DATA_OBJECT = {};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst toFixed = (argData, argNum = 2, argType = \"string\") => {\n  let data = Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum);\n  data = (+data || 0).toFixed(argNum);\n  return argType === \"string\" ? data : +data;\n};\nconst toLine = (argData, argUnit = \"_\") => {\n  return argData.replace(/([A-Z])/g, argUnit + \"$1\").toLowerCase();\n};\nconst toHump = (argData, argUnit = \"_\") => {\n  return argData.replace(\n    new RegExp(\"\\\\\" + argUnit + \"(\\\\w)\", \"g\"),\n    (_, letter) => {\n      return letter.toUpperCase();\n    }\n  );\n};\nconst string10to62 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\".split(\"\");\n  let radix = chars.length;\n  let data = +argData;\n  let arr = [];\n  do {\n    let mod = data % radix;\n    data = (data - mod) / radix;\n    arr.unshift(chars[mod]);\n  } while (data);\n  return arr.join(\"\");\n};\nconst string62to10 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\";\n  let radix = chars.length;\n  let len = argData.length;\n  let i = 0;\n  let resNum = 0;\n  while (i < len) {\n    resNum += Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || \"0\");\n  }\n  return resNum;\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData = decodeURIComponent(argData);\n    let temArr = argData.split(\"?\");\n    argData = temArr.pop() || \"\";\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key, value) => {\n      res[key] = value;\n      return \"\";\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  let reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  let r = url.match(reg);\n  let search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function() {\n        if (!arguments[4] || !arguments[4].length) {\n          return \"\";\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1];\n        }\n        return arguments[1] + arguments[4];\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    let sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    let sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst encodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&/g, \"&amp;\");\n  argHtml = argHtml.replace(/</g, \"&lt;\");\n  argHtml = argHtml.replace(/>/g, \"&gt;\");\n  argHtml = argHtml.replace(/'/g, \"&#39;\");\n  argHtml = argHtml.replace(/\"/g, \"&quot;\");\n  argHtml = argHtml.replace(/ /g, \"&nbsp;\");\n  argHtml = argHtml.replace(/\\n/g, \"<br>\");\n  return argHtml;\n};\nconst decodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&amp;/g, \"&\");\n  argHtml = argHtml.replace(/&lt;/g, \"<\");\n  argHtml = argHtml.replace(/&gt;/g, \">\");\n  argHtml = argHtml.replace(/&#39;/g, \"'\");\n  argHtml = argHtml.replace(/&quot;/g, '\"');\n  argHtml = argHtml.replace(/&nbsp;/g, \" \");\n  argHtml = argHtml.replace(/<br>/g, \"\\n\");\n  return argHtml;\n};\nconst hideInfo = (argData = \"\", argStart = 3, argEnd = 4) => {\n  argData = String(argData);\n  let temLen = argData.length;\n  let temSL = argData.length - argEnd - argStart;\n  let start = \"\";\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += \"*\";\n    }\n    argData = argData.substring(0, argStart) + start + argData.substring(temLen - argEnd, temLen);\n  }\n  return argData;\n};\nconst getUuid = () => {\n  function S4() {\n    return ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  }\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nfunction toList(map, getItem) {\n  const list = [];\n  Object.keys(map).forEach((key) => {\n    const item = getItem(key, map[key]);\n    list.push(item);\n  });\n  return list;\n}\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 类字符串/参数处理\n */\n\nimport { AnyObject, Bool } from './types'\n\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * 描述\n * @function\n * @description toFixed处理\n * @date 2020-03-01\n * @param {string|number} argData 要处理的数据\n * @param {number} argNum 要保留位数,默认返回2位小数\n * @param {string} argType 返回类型，默认返回字符串\n * @returns {string|number} 返回处理好的数据\n */\nexport const toFixed = (\n  argData: string | number,\n  argNum: number = 2,\n  argType: string = 'string'\n): string | number => {\n  let data: number | string =\n    Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum)\n  data = (+data || 0).toFixed(argNum)\n  return argType === 'string' ? data : +data\n}\n/**\n * @function\n * @description 驼峰转下划线\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toLine = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(/([A-Z])/g, argUnit + '$1').toLowerCase()\n}\n\n/**\n * @function\n * @description 下划线转驼峰\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toHump = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(\n    new RegExp('\\\\' + argUnit + '(\\\\w)', 'g'),\n    (_, letter) => {\n      return letter.toUpperCase()\n    }\n  )\n}\n/**\n * 描述\n * @function\n * @description 10进制转62进制,用于短网址转换\n * @date 2020-03-01\n * @param {number|string} argData 要处理的数据\n * @returns {string} 返回处理好的数据\n */\nexport const string10to62 = (argData: number | string): string => {\n  let chars =\n    '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'.split('')\n  let radix = chars.length\n  let data = +argData\n  let arr = []\n  do {\n    let mod = data % radix\n    data = (data - mod) / radix\n    arr.unshift(chars[mod])\n  } while (data)\n  return arr.join('')\n}\n/**\n * 描述\n * @function\n * @description 62进制转10进制,用于短网址转换\n * @date 2020-03-01\n * @param {string} argData 要处理的数据\n * @returns {number} 返回处理好的数据\n */\nexport const string62to10 = (argData: string): number => {\n  let chars = '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'\n  let radix = chars.length\n  let len = argData.length\n  let i = 0\n  let resNum = 0\n  while (i < len) {\n    resNum +=\n      Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || '0')\n  }\n  return resNum\n}\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): any => {\n  const res: any = {}\n  try {\n    argData = decodeURIComponent(argData)\n    let temArr = argData.split('?')\n    argData = temArr.pop() || ''\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key: string, value) => {\n      res[key] = value\n      return ''\n    })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  let reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  let r = url.match(reg)\n  let search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function () {\n        if (!arguments[4] || !arguments[4].length) {\n          return ''\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1]\n        }\n        return arguments[1] + arguments[4]\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    let sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    let sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 转义html标签\n * @param  {string} argHtml 需要转义的文本\n * @returns {string}\n */\nexport const encodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&/g, '&amp;')\n  argHtml = argHtml.replace(/</g, '&lt;')\n  argHtml = argHtml.replace(/>/g, '&gt;')\n  argHtml = argHtml.replace(/'/g, '&#39;')\n  argHtml = argHtml.replace(/\"/g, '&quot;')\n  argHtml = argHtml.replace(/ /g, '&nbsp;')\n  argHtml = argHtml.replace(/\\n/g, '<br>')\n  return argHtml\n}\n\n/**\n * @function\n * @description 反转义html标签\n * @param  {string} argHtml 需要反转义的文本\n * @returns {string}\n */\nexport const decodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&amp;/g, '&')\n  argHtml = argHtml.replace(/&lt;/g, '<')\n  argHtml = argHtml.replace(/&gt;/g, '>')\n  argHtml = argHtml.replace(/&#39;/g, \"'\")\n  argHtml = argHtml.replace(/&quot;/g, '\"')\n  argHtml = argHtml.replace(/&nbsp;/g, ' ')\n  argHtml = argHtml.replace(/<br>/g, '\\n')\n  return argHtml\n}\n\n/**\n * 描述\n * @function\n * @description 数据中间加星号\n * @param {string|number} argData 要处理的数据\n * @param {number} argStart=3 前端显示多少位\n * @param {number} argEnd=4 后面显示多少位\n * @returns {string} 返回处理好的数据\n */\nexport const hideInfo = (\n  argData: string | number = '',\n  argStart: number = 3,\n  argEnd: number = 4\n): string => {\n  argData = String(argData)\n  let temLen = argData.length\n  let temSL = argData.length - argEnd - argStart\n  let start = ''\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += '*'\n    }\n    argData =\n      argData.substring(0, argStart) +\n      start +\n      argData.substring(temLen - argEnd, temLen)\n  }\n  return argData\n}\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  function S4() {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  }\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * map 转为 list，list item 具体是什么取决于传入的 getItem 函数\n * @param map\n * @param getItem\n * @return getItem()[]\n */\nexport function toList<V, K extends string, Item>(\n  map: Record<K, V>,\n  getItem: (key: K, value: V) => Item\n) {\n  const list = [] as Item[]\n  Object.keys(map).forEach((key: any) => {\n    // @ts-ignore, trust me.\n    const item = getItem(key, map[key])\n    list.push(item)\n  })\n  return list\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"4170","url":"/home/runner/work/utils/utils/src/data.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":9154,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":9151,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":21}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":21}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"decodeHtml","ranges":[{"startOffset":931,"endOffset":947,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":963,"endOffset":979,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":991,"endOffset":1003,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1015,"endOffset":1027,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1044,"endOffset":1061,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1081,"endOffset":1101,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":1114,"endOffset":1127,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":1141,"endOffset":1155,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":1170,"endOffset":1185,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1206,"endOffset":1227,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1241,"endOffset":1255,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":1267,"endOffset":1279,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":1291,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1315,"endOffset":1327,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":1345,"endOffset":1363,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":1381,"endOffset":1399,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":1417,"endOffset":1435,"count":0}],"isBlockCoverage":false},{"functionName":"toFixed","ranges":[{"startOffset":1448,"endOffset":1461,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":1473,"endOffset":1485,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":1497,"endOffset":1509,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":1521,"endOffset":1533,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1637,"endOffset":2529,"count":0}],"isBlockCoverage":false},{"functionName":"toFixed","ranges":[{"startOffset":2547,"endOffset":2761,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":2778,"endOffset":2877,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":2894,"endOffset":3065,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":3088,"endOffset":3399,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":3422,"endOffset":3730,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":3753,"endOffset":4082,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":4104,"endOffset":4316,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":4341,"endOffset":4772,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":4798,"endOffset":6051,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":6072,"endOffset":6475,"count":0}],"isBlockCoverage":false},{"functionName":"decodeHtml","ranges":[{"startOffset":6496,"endOffset":6899,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":6918,"endOffset":7297,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":7315,"endOffset":7498,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":7518,"endOffset":7654,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":7671,"endOffset":7696,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":7713,"endOffset":7758,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":7775,"endOffset":7897,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":7914,"endOffset":8147,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":8164,"endOffset":8973,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":8975,"endOffset":9148,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 判断函数\n */\n/**\n * @function\n * @description 判断质数\n * @param {number} argValue 要判断的数据\n * @returns {boolean} 结果\n */\nexport const isPrime = (argValue: number): boolean =>\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\n\n/**\n * @function\n * @description 判断是否是JSON\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isJson = (argData: any): boolean => {\n  try {\n    return typeof JSON.parse(argData || '') === 'object'\n  } catch (e) {}\n  return false\n}\n/**\n * @function\n * @description 判断是否是Blob\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isBlob = (argData: any): boolean => {\n  return argData instanceof Blob\n}\n\n/**\n * @function\n * @description 判断是否是File\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isFile = (argData: any): boolean => {\n  return argData instanceof File\n}\n\n/**\n * @function\n * @description 是否为正确的身份证号码\n * @param  {string} code 身份证号码\n * @returns {boolean}\n */\nexport const isIdCard = (code: string): boolean => {\n  let tip = ''\n  let city: { [key: number]: string } = {\n    11: '北京',\n    12: '天津',\n    13: '河北',\n    14: '山西',\n    15: '内蒙古',\n    21: '辽宁',\n    22: '吉林',\n    23: '黑龙江 ',\n    31: '上海',\n    32: '江苏',\n    33: '浙江',\n    34: '安徽',\n    35: '福建',\n    36: '江西',\n    37: '山东',\n    41: '河南',\n    42: '湖北 ',\n    43: '湖南',\n    44: '广东',\n    45: '广西',\n    46: '海南',\n    50: '重庆',\n    51: '四川',\n    52: '贵州',\n    53: '云南',\n    54: '西藏 ',\n    61: '陕西',\n    62: '甘肃',\n    63: '青海',\n    64: '宁夏',\n    65: '新疆',\n    71: '台湾',\n    81: '香港',\n    82: '澳门',\n    91: '国外 ',\n  }\n  let pass = true\n  if (\n    !code ||\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n      code\n    )\n  ) {\n    tip = '身份证号格式错误'\n    pass = false\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = '地址编码错误'\n    pass = false\n  } else {\n    // 18位身份证需要验证最后一位校验位\n    if (code.length === 18) {\n      const codeArr = code.split('')\n      // ∑(ai×Wi)(mod 11)\n      // 加权因子\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\n      // 校验位\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\n      let sum = 0\n      let ai = 0\n      let wi = 0\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i])\n        wi = factor[i]\n        sum += ai * wi\n      }\n      let last = parity[sum % 11] + ''\n      if (last !== code[17]) {\n        tip = '校验位错误'\n        pass = false\n      }\n    }\n  }\n  console.assert(!tip, tip)\n  return pass\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"4171","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1673578755654,"runtime":2247,"slow":false,"start":1673578753407},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/class/Counter.spec.ts","testResults":[{"ancestorTitles":["Debounce"],"duration":2007,"failureDetails":[],"failureMessages":[],"fullName":"Debounce Counter","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"Counter"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar stdin_exports = {};\n__export(stdin_exports, {\n  Counter: () => Counter,\n  default: () => stdin_default\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar _timer;\nclass Counter {\n  constructor(argCount = 60, argCb) {\n    this.count = 0;\n    this.maxCount = 0;\n    __privateAdd(this, _timer, void 0);\n    this.cb = (a) => a;\n    this.count = argCount;\n    this.maxCount = argCount;\n    if (argCb)\n      this.cb = argCb;\n  }\n  setCount(argCount = 60) {\n    this.count = argCount;\n    if (!argCount) {\n      this.stop();\n    }\n    return this;\n  }\n  setMaxCount(argCount = 60) {\n    this.maxCount = argCount;\n    return this;\n  }\n  start(argCb) {\n    const cbFn = argCb || this.cb;\n    if (!this.count) {\n      this.count = this.maxCount;\n    }\n    if (__privateGet(this, _timer)) {\n      clearInterval(__privateGet(this, _timer));\n    }\n    cbFn(this.count);\n    __privateSet(this, _timer, setInterval(() => {\n      this.count--;\n      if (this.count === -1) {\n        this.count = this.maxCount;\n      }\n      cbFn(this.count);\n      if (this.count < 1) {\n        this.stop();\n      }\n    }, 1e3));\n    return this;\n  }\n  stop() {\n    if (__privateGet(this, _timer)) {\n      clearInterval(__privateGet(this, _timer));\n    }\n    return this;\n  }\n}\n_timer = new WeakMap();\nvar stdin_default = Counter;\n","originalCode":"import { AnyFn } from '../types'\n/**\n * @class\n * @classdesc new对象时可传入计数\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @example\n * const counter = new Counter(60, () => {})\n * counter.start() 开始计时(可传入回调函数，返回当前计数)\n * counter.stop() 停止计时\n */\nexport class Counter {\n  count = 0\n  maxCount = 0\n  #timer: any\n  cb: AnyFn = (a) => a\n  /**\n   * @description:\n   * @param {number} argCount 开始计时秒数\n   * @param {function} argCb 回调函数\n   */\n  constructor(argCount: number = 60, argCb?: AnyFn) {\n    this.count = argCount\n    this.maxCount = argCount\n    if (argCb) this.cb = argCb\n  }\n\n  /**\n   * @function\n   * @param {number} argCount 当前倒计时数值\n   * @description 设置当前倒计时数值\n   */\n  setCount(argCount: number = 60): this {\n    this.count = argCount\n    if (!argCount) {\n      this.stop()\n    }\n    return this\n  }\n\n  /**\n   * @function\n   * @param {number} argCount 初始倒计数\n   * @description 设置初始倒计时数值\n   */\n  setMaxCount(argCount: number = 60) {\n    this.maxCount = argCount\n    return this\n  }\n\n  /**\n   * @function\n   * @param {function} argCb 计时回调,返回当前剩余秒数\n   * @description 开始倒计时\n   */\n  start(argCb?: AnyFn) {\n    const cbFn: AnyFn = argCb || this.cb\n    // count为0时从最大值开始\n    if (!this.count) {\n      this.count = this.maxCount\n    }\n    if (this.#timer) {\n      clearInterval(this.#timer)\n    }\n    cbFn(this.count)\n    this.#timer = setInterval(() => {\n      this.count--\n      if (this.count === -1) {\n        this.count = this.maxCount\n      }\n      cbFn(this.count)\n      if (this.count < 1) {\n        this.stop()\n      }\n    }, 1000)\n    return this\n  }\n\n  /**\n   * @function\n   * @description 停止倒计时\n   */\n  stop() {\n    if (this.#timer) {\n      clearInterval(this.#timer)\n    }\n    return this\n  }\n}\nexport default Counter\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"1","url":"/home/runner/work/utils/utils/src/class/Counter.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":2852,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":2849,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":2}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":2}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":1}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"__accessCheck","ranges":[{"startOffset":887,"endOffset":974,"count":9},{"startOffset":939,"endOffset":972,"count":0}],"isBlockCoverage":true},{"functionName":"__privateGet","ranges":[{"startOffset":995,"endOffset":1134,"count":7},{"startOffset":1095,"endOffset":1113,"count":0}],"isBlockCoverage":true},{"functionName":"__privateAdd","ranges":[{"startOffset":1155,"endOffset":1351,"count":1},{"startOffset":1208,"endOffset":1277,"count":0},{"startOffset":1306,"endOffset":1323,"count":0}],"isBlockCoverage":true},{"functionName":"__privateSet","ranges":[{"startOffset":1372,"endOffset":1540,"count":2},{"startOffset":1471,"endOffset":1496,"count":0}],"isBlockCoverage":true},{"functionName":"Counter","ranges":[{"startOffset":1603,"endOffset":1616,"count":0}],"isBlockCoverage":false},{"functionName":"default","ranges":[{"startOffset":1629,"endOffset":1648,"count":1}],"isBlockCoverage":true},{"functionName":"Counter","ranges":[{"startOffset":1729,"endOffset":1970,"count":1}],"isBlockCoverage":true},{"functionName":"Counter.cb","ranges":[{"startOffset":1862,"endOffset":1870,"count":0}],"isBlockCoverage":false},{"functionName":"setCount","ranges":[{"startOffset":1973,"endOffset":2092,"count":0}],"isBlockCoverage":false},{"functionName":"setMaxCount","ranges":[{"startOffset":2095,"endOffset":2174,"count":0}],"isBlockCoverage":false},{"functionName":"start","ranges":[{"startOffset":2177,"endOffset":2666,"count":2},{"startOffset":2215,"endOffset":2225,"count":1},{"startOffset":2248,"endOffset":2289,"count":0},{"startOffset":2326,"endOffset":2382,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2448,"endOffset":2637,"count":2},{"startOffset":2505,"endOffset":2550,"count":0},{"startOffset":2601,"endOffset":2631,"count":0}],"isBlockCoverage":true},{"functionName":"stop","ranges":[{"startOffset":2669,"endOffset":2791,"count":2}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  delCookie: () => delCookie,\n  getCookie: () => getCookie,\n  getInfo: () => getInfo,\n  getNetworkStatus: () => getNetworkStatus,\n  getRandomColor: () => getRandomColor,\n  getRegexp: () => getRegexp,\n  getStorage: () => getStorage,\n  remInit: () => remInit,\n  setCookie: () => setCookie,\n  setStorage: () => setStorage,\n  setTitle: () => setTitle,\n  sleep: () => sleep\n});\nmodule.exports = __toCommonJS(stdin_exports);\nvar import_data = require(\"./data\");\nvar import_is = require(\"./is\");\nlet isOnline = true;\nif (globalThis && globalThis.addEventListener) {\n  globalThis.addEventListener(\"offline\", function() {\n    console.debug(\"offLine\");\n    isOnline = false;\n  });\n  globalThis.addEventListener(\"online\", function() {\n    console.debug(\"onLine\");\n    isOnline = true;\n  });\n}\nconst getNetworkStatus = () => {\n  return isOnline;\n};\nconst getRegexp = () => {\n  return {\n    html: /<[^>]+>/gim,\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    phone: /^1\\d{10}$/,\n    email: /^(w)+(.w+)*@(w)+((.w+)+)$/,\n    http: /http:\\/\\/|https:\\/\\//,\n    score: /^[1-9]\\d*|0$/,\n    int: /^[1-9]\\d*$/,\n    number: /^\\d*$/,\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    letter: /^[a-zA-Z]*$/,\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    realName: /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    ascii: /^[\\x20-\\x7E]+$/\n  };\n};\nconst setTitle = (argTitle) => {\n  if ((0, import_data.safeData)(globalThis.document.getElementsByTagName(\"title\"), \"0.innerText\")) {\n    globalThis.document.getElementsByTagName(\"title\")[0].innerText = String(argTitle);\n  }\n  if (getInfo().isAppleMobile) {\n    var i = document.createElement(\"iframe\");\n    i.onload = function() {\n      setTimeout(function() {\n        console.debug(\"apple setting title\");\n        i.remove();\n      }, 10);\n    };\n    globalThis.document.body.appendChild(i);\n  }\n};\nconst remInit = (argBaseSize = 16, argWidth = 375) => {\n  const setRem = () => {\n    const scale = (0, import_data.safeData)(globalThis, \"document.documentElement.clientWidth\", argWidth) / argWidth;\n    (0, import_data.safeData)(\n      globalThis,\n      \"document.documentElement.style.fontSize\",\n      argBaseSize * scale + \"px\",\n      true\n    );\n  };\n  setRem();\n  globalThis.onresize = () => {\n    setRem();\n  };\n};\nconst getCookie = (argName) => {\n  let cookie = globalThis.document.cookie.split(\"; \");\n  for (let i = 0; i < cookie.length; i += 1) {\n    let name = (\"\" + cookie[i]).split(\"=\");\n    if (argName === name[0]) {\n      return decodeURIComponent(name[1] || \"\");\n    }\n  }\n  return \"\";\n};\nconst setCookie = (argName, argValue = \"\", argTime = 24) => {\n  let now = new Date();\n  let offset = 8;\n  let utc = now.getTime() + now.getTimezoneOffset() * 6e4;\n  let nd = utc + 36e5 * offset;\n  let exp = new Date(nd);\n  let domain = globalThis.document.domain;\n  exp.setTime(exp.getTime() + argTime * 60 * 60 * 1e3);\n  globalThis.document.cookie = argName + \"=\" + encodeURIComponent(argValue) + \";path=/;expires=\" + exp.toUTCString() + \";domain=\" + domain + \";\";\n};\nconst delCookie = (argName = \"\") => {\n  setCookie(argName, \"\", -1);\n};\nconst getInfo = () => {\n  let ua = (0, import_data.safeData)(globalThis, \"navigator.userAgent\", \"\").toLowerCase();\n  let platform = (0, import_data.safeData)(\n    globalThis,\n    \"navigator.userAgentData.platform\",\n    \"\"\n  ).toLowerCase();\n  let info = {\n    ua,\n    platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match(\"win\"),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match(\"mac\"),\n    isIos: !!platform.match(\"ios\"),\n    isAndroid: !!platform.match(\"android\"),\n    isSafari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"chrome\") < 1,\n    isIE: \"ActiveXObject\" in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i)\n  };\n  if (info.ua.match(\"msie\")) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/);\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1];\n    }\n  }\n  info.isAppleMobile = !!(info.isMobile && ua.toLowerCase().indexOf(\"applewebkit\") && ua.indexOf(\"chrome\") < 1);\n  return info;\n};\nconst getRandomColor = function() {\n  return \"#\" + (\"00000\" + (Math.random() * 16777216 << 0).toString(16)).substring(-6);\n};\nconst getStorage = (argKey, argNoJson) => {\n  let res = globalThis.localStorage.getItem(argKey);\n  if (!argNoJson && (0, import_is.isJson)(res) && res) {\n    res = JSON.parse(res);\n  }\n  return res || \"\";\n};\nconst setStorage = (argKey, argData) => {\n  if (typeof argData === \"object\") {\n    argData = JSON.stringify(argData);\n  }\n  globalThis.localStorage.setItem(argKey, String(argData));\n  return String(argData);\n};\nconst sleep = (ms) => {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description no\n */\n\nimport { safeData } from './data'\nimport { isJson } from './is'\nimport { Info, AnyObject } from './types'\n\n/**\n * @module index\n * @author linj\n * @description 公共函数，使用'lj-utils'引入\n */\nlet isOnline: boolean = true\n// 断网监听\nif (globalThis && globalThis.addEventListener) {\n  // #ifdef H5\n  globalThis.addEventListener('offline', function () {\n    console.debug('offLine')\n    isOnline = false\n  })\n  globalThis.addEventListener('online', function () {\n    console.debug('onLine')\n    isOnline = true\n  })\n  // #endif\n}\n\n/**\n * @function\n * @description 获取当前网络状态（H5）\n * @return boolean\n */\nexport const getNetworkStatus = () => {\n  return isOnline\n}\n/**\n * @function\n * @description 正则收集\n * @returns {object}\n */\nexport const getRegexp = (): AnyObject => {\n  return {\n    // 匹配html标签，提取html文字： htmlCode.replace(reg.html,'')\n    html: /<[^>]+>/gim,\n    // 至少1数字1字母1字符，8-16位\n    password: /^(?=.*?[A-Za-z])(?=.*?[0-9])(?=.*?[\\W_]).{8,16}$/,\n    // 普通身份证号正则，isIdCard更为严格\n    idCard: /^(\\d{6})(\\d{4})(\\d{2})(\\d{2})(\\d{3})([0-9]|X)$/,\n    // 简易身份证号 数字+x\n    idCardNormal: /^[0-9]\\d+([0-9]|X|x)*$/,\n    // 手机号\n    phone: /^1\\d{10}$/,\n    // 邮箱\n    email: /^(w)+(.w+)*@(w)+((.w+)+)$/,\n    // 网址\n    http: /http:\\/\\/|https:\\/\\//,\n    // 含0整数（得分）\n    score: /^[1-9]\\d*|0$/,\n    // 整数\n    int: /^[1-9]\\d*$/,\n    // 匹配数字\n    number: /^\\d*$/,\n    // >=0||1位小数\n    float1: /^(([1-9]\\d*)|0|(0.\\d{0,1})|([1-9]\\d*.\\d{0,1}))$/,\n    // >=0||2位小数\n    float2: /^(([1-9]\\d*)|0|(0.\\d{0,2})|([1-9]\\d*.\\d{0,2}))$/,\n    // >=0||3位小数\n    float3: /^(([1-9]\\d*)|0|(0.\\d{0,3})|([1-9]\\d*.\\d{0,3}))$/,\n    // 字母+数字组合\n    letterNumber: /^[a-zA-Z0-9]*$/,\n    // 字母\n    letter: /^[a-zA-Z]*$/,\n    // 帐号50个字内：大小写+数字+中文+'_'+'-'\n    account: /^[a-zA-Z0-9_\\-\\u4e00-\\u9fa5]{1,50}$/,\n    // 中英文姓名 50个字内/中文 中文/英文-. 英文-./\n    realName:\n      /^([\\u4e00-\\u9fa5]{1,50}|[\\u4e00-\\u9fa5]{1,25}[\\s][\\u4e00-\\u9fa5]{1,24}|[a-zA-Z_\\-.]{1,50}|[a-zA-Z_\\-.]{1,25}[\\s][a-zA-Z_\\-.]{1,24})$/,\n    // 匹配中文\n    cn: /^[\\u4e00-\\u9fa5]*$/,\n    // 匹配ASCII,非中文之外的字符\n    ascii: /^[\\x20-\\x7E]+$/,\n  }\n}\n\n/**\n * @function\n * @description 设置标题\n * @param  {string} argTitle 标题\n */\nexport const setTitle = (argTitle: string | number) => {\n  if (\n    safeData(globalThis.document.getElementsByTagName('title'), '0.innerText')\n  ) {\n    globalThis.document.getElementsByTagName('title')[0].innerText =\n      String(argTitle)\n  }\n  if (getInfo().isAppleMobile) {\n    var i = document.createElement('iframe')\n    i.onload = function () {\n      setTimeout(function () {\n        console.debug('apple setting title')\n        i.remove()\n      }, 10)\n    }\n    globalThis.document.body.appendChild(i)\n  }\n}\n/**\n * @function\n * @description 使用postcss-px2rem时使用\n * @param {number} argBaseSize 基础大小 16px（要跟配置一致）\n * @param {number} argWidth 基准宽度\n */\nexport const remInit = (argBaseSize: number = 16, argWidth: number = 375) => {\n  // 设置 rem 函数\n  const setRem = () => {\n    // 当前页面宽度相对于 argWidth 宽的缩放比例，可根据自己需要修改。\n    const scale =\n      safeData(globalThis, 'document.documentElement.clientWidth', argWidth) /\n      argWidth\n    // 设置页面根节点字体大小\n    safeData(\n      globalThis,\n      'document.documentElement.style.fontSize',\n      argBaseSize * scale + 'px',\n      true\n    )\n  }\n  // 初始化\n  setRem()\n  // 改变窗口大小时重新设置 rem\n  globalThis.onresize = () => {\n    setRem()\n  }\n}\n/**\n * @function\n * @description 获取cookie\n * @param  {string} argName 要获取的值\n * @returns {string}\n */\nexport const getCookie = (argName: string): string => {\n  let cookie = globalThis.document.cookie.split('; ')\n  for (let i = 0; i < cookie.length; i += 1) {\n    let name = ('' + cookie[i]).split('=')\n    if (argName === name[0]) {\n      return decodeURIComponent(name[1] || '')\n    }\n  }\n  return ''\n}\n/**\n * @function\n * @description 设置cookie\n * @param  {string} argName 要设置的key\n * @param  {string} argValue 要设置的value\n * @param  {number} argTime 过期时间/时 默认24小时\n */\nexport const setCookie = (\n  argName: string,\n  argValue: string | number | boolean = '',\n  argTime: number = 24\n) => {\n  let now = new Date()\n  let offset = 8\n  let utc = now.getTime() + now.getTimezoneOffset() * 60000\n  let nd = utc + 3600000 * offset\n  let exp = new Date(nd)\n  let domain = globalThis.document.domain\n  exp.setTime(exp.getTime() + argTime * 60 * 60 * 1000)\n  globalThis.document.cookie =\n    argName +\n    '=' +\n    encodeURIComponent(argValue) +\n    ';path=/;expires=' +\n    exp.toUTCString() +\n    ';domain=' +\n    domain +\n    ';'\n}\n/**\n * @function\n * @description 清除cookie\n * @param  {string} argName 要清除的值\n */\nexport const delCookie = (argName: string = '') => {\n  setCookie(argName, '', -1)\n}\n\n/**\n * @function\n * @description 检测浏览器状态，系统状态 *\n * @returns {Info} {\n * ua: ua,\n * platform: 平台,\n * isMobile: 移动端,\n * isWin: winPC端,\n * isIphone: iphone,\n * isIpad: ipad,\n * isMac: mac,\n * isAppleMobile: 苹果移动端webview\n * isSafari: Safari浏览器,\n * isIos: Ios平台,\n * isAndroid: android平台,\n * isIE: 显示8 9 10, true为11以上\n * ...\n * }\n */\nexport const getInfo = (): Info => {\n  let ua = safeData(globalThis, 'navigator.userAgent', '').toLowerCase()\n  let platform: string = safeData(\n    globalThis,\n    'navigator.userAgentData.platform',\n    ''\n  ).toLowerCase()\n  let info: Info = {\n    ua: ua,\n    platform: platform,\n    isMobile: !!ua.match(/mobile/),\n    isWin: !!platform.match('win'),\n    isIphone: !!ua.match(/iphone/),\n    isIpad: !!ua.match(/ipad/),\n    isMac: !!platform.match('mac'),\n    isIos: !!platform.match('ios'),\n    isAndroid: !!platform.match('android'),\n    isSafari: ua.indexOf('safari') > -1 && ua.indexOf('chrome') < 1,\n    isIE: 'ActiveXObject' in globalThis,\n    ieVersion: 0,\n    isAppleMobile: false,\n    isWeixin: !!ua.match(/MicroMessenger/i),\n    isAlipay: !!ua.match(/Alipay/i),\n  }\n  if (info.ua.match('msie')) {\n    let IE = info.ua.match(/msie\\s([0-9]*)/)\n    if (IE && IE.length >= 2) {\n      info.ieVersion = +IE[1]\n    }\n  }\n  info.isAppleMobile = !!(\n    info.isMobile &&\n    ua.toLowerCase().indexOf('applewebkit') &&\n    ua.indexOf('chrome') < 1\n  )\n  return info\n}\n/**\n * @function\n * @description 获取随机颜色\n * @return string\n */\nexport const getRandomColor = function () {\n  return (\n    '#' +\n    ('00000' + ((Math.random() * 0x1000000) << 0).toString(16)).substring(-6)\n  )\n}\n/**\n * @function\n * @description 获取storage的值，默认将json转为obj\n * @param {string} argKey 要获取的key\n * @param {string} argNoJson true时不自动转换JSON字符串\n * @returns {any} key对应的数据\n */\nexport const getStorage = (argKey: string, argNoJson?: string): any => {\n  let res = globalThis.localStorage.getItem(argKey)\n  // 默认转义JSON字符串\n  if (!argNoJson && isJson(res) && res) {\n    res = JSON.parse(res)\n  }\n  return res || ''\n}\n\n/**\n * @function\n * @description 设置storage的值，默认将obj转为json\n * @param {string} argKey 要获取的key\n * @param {unknown} argData 要保存的数据\n * @returns {string} 保存的数据String\n */\nexport const setStorage = (argKey: string, argData: unknown): string => {\n  if (typeof argData === 'object') {\n    argData = JSON.stringify(argData)\n  }\n  globalThis.localStorage.setItem(argKey, String(argData))\n  return String(argData)\n}\n\n/**\n * @function\n * @description setTimeout promise版\n * @param  {number} ms 时间，毫秒\n */\nexport const sleep = (ms: number) => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"4430","url":"/home/runner/work/utils/utils/src/base.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":6113,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":6110,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":12}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":12}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":2}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"delCookie","ranges":[{"startOffset":930,"endOffset":945,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":960,"endOffset":975,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":988,"endOffset":1001,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1023,"endOffset":1045,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":1065,"endOffset":1085,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1100,"endOffset":1115,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":1131,"endOffset":1147,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":1160,"endOffset":1173,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":1188,"endOffset":1203,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":1219,"endOffset":1235,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":1249,"endOffset":1263,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":1274,"endOffset":1285,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1517,"endOffset":1585,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":1628,"endOffset":1694,"count":0}],"isBlockCoverage":false},{"functionName":"getNetworkStatus","ranges":[{"startOffset":1724,"endOffset":1752,"count":0}],"isBlockCoverage":false},{"functionName":"getRegexp","ranges":[{"startOffset":1772,"endOffset":2674,"count":0}],"isBlockCoverage":false},{"functionName":"setTitle","ranges":[{"startOffset":2693,"endOffset":3175,"count":0}],"isBlockCoverage":false},{"functionName":"remInit","ranges":[{"startOffset":3193,"endOffset":3595,"count":0}],"isBlockCoverage":false},{"functionName":"getCookie","ranges":[{"startOffset":3615,"endOffset":3879,"count":0}],"isBlockCoverage":false},{"functionName":"setCookie","ranges":[{"startOffset":3899,"endOffset":4348,"count":0}],"isBlockCoverage":false},{"functionName":"delCookie","ranges":[{"startOffset":4368,"endOffset":4419,"count":0}],"isBlockCoverage":false},{"functionName":"getInfo","ranges":[{"startOffset":4437,"endOffset":5474,"count":0}],"isBlockCoverage":false},{"functionName":"getRandomColor","ranges":[{"startOffset":5499,"endOffset":5600,"count":0}],"isBlockCoverage":false},{"functionName":"getStorage","ranges":[{"startOffset":5621,"endOffset":5808,"count":0}],"isBlockCoverage":false},{"functionName":"setStorage","ranges":[{"startOffset":5829,"endOffset":6019,"count":0}],"isBlockCoverage":false},{"functionName":"sleep","ranges":[{"startOffset":6035,"endOffset":6106,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6066,"endOffset":6102,"count":2}],"isBlockCoverage":true}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  decodeHtml: () => decodeHtml,\n  encodeHtml: () => encodeHtml,\n  getEnv: () => getEnv,\n  getObj: () => getObj,\n  getUrlParam: () => getUrlParam,\n  getUrlParamObj: () => getUrlParamObj,\n  getUuid: () => getUuid,\n  hideInfo: () => hideInfo,\n  randomInt: () => randomInt,\n  replaceUrlParam: () => replaceUrlParam,\n  safeData: () => safeData,\n  setEnv: () => setEnv,\n  setLog: () => setLog,\n  setObj: () => setObj,\n  setUrlParams: () => setUrlParams,\n  string10to62: () => string10to62,\n  string62to10: () => string62to10,\n  toFixed: () => toFixed,\n  toHump: () => toHump,\n  toLine: () => toLine,\n  toList: () => toList\n});\nmodule.exports = __toCommonJS(stdin_exports);\nlet ENV = {};\nlet DATA_OBJECT = {};\nconst safeData = (argData, argCheck, argValue, argSetValueForce) => {\n  if (typeof argCheck !== \"string\" && typeof argCheck !== \"number\") {\n    console.warn(\"argCheck\\u8BF7\\u4F20\\u5165string\\u5F53\\u524D\\u4E3A:\" + argCheck);\n    return \"\";\n  }\n  const temKey = argCheck.toString().split(\".\");\n  const temLen = temKey.length;\n  if (!argData) {\n    return argValue;\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== \"object\") {\n        if (argSetValueForce) {\n          console.warn(\"safeData setValue err\\uFF1A\", argData, \"index:\", i);\n        }\n        return argValue;\n      }\n      argData = argData[temKey[i]] || {};\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue;\n  }\n  if (typeof argValue === \"undefined\") {\n    return argData[temKey[temLen - 1]];\n  } else {\n    return argData[temKey[temLen - 1]] || argValue;\n  }\n};\nconst toFixed = (argData, argNum = 2, argType = \"string\") => {\n  let data = Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum);\n  data = (+data || 0).toFixed(argNum);\n  return argType === \"string\" ? data : +data;\n};\nconst toLine = (argData, argUnit = \"_\") => {\n  return argData.replace(/([A-Z])/g, argUnit + \"$1\").toLowerCase();\n};\nconst toHump = (argData, argUnit = \"_\") => {\n  return argData.replace(\n    new RegExp(\"\\\\\" + argUnit + \"(\\\\w)\", \"g\"),\n    (_, letter) => {\n      return letter.toUpperCase();\n    }\n  );\n};\nconst string10to62 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\".split(\"\");\n  let radix = chars.length;\n  let data = +argData;\n  let arr = [];\n  do {\n    let mod = data % radix;\n    data = (data - mod) / radix;\n    arr.unshift(chars[mod]);\n  } while (data);\n  return arr.join(\"\");\n};\nconst string62to10 = (argData) => {\n  let chars = \"0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ\";\n  let radix = chars.length;\n  let len = argData.length;\n  let i = 0;\n  let resNum = 0;\n  while (i < len) {\n    resNum += Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || \"0\");\n  }\n  return resNum;\n};\nconst setUrlParams = (argParams, noMark) => {\n  let re = \"\";\n  if (!noMark) {\n    re = \"?\";\n  }\n  let paramsList = Object.keys(argParams);\n  let temLength = paramsList.length;\n  if (!temLength) {\n    return \"\";\n  }\n  paramsList.map((v, k) => {\n    re += v + \"=\" + argParams[v];\n    if (k < temLength - 1) {\n      re += \"&\";\n    }\n  });\n  return re;\n};\nconst getUrlParam = (argName, argUrl = globalThis.location.search || \"\") => {\n  let result = argUrl.match(new RegExp(\"[?&]\" + argName + \"=([^&]+)\", \"i\"));\n  if (!result) {\n    return \"\";\n  }\n  return decodeURIComponent(result[1]);\n};\nconst getUrlParamObj = (argData = globalThis.location.search || globalThis.location.hash) => {\n  const res = {};\n  try {\n    argData = decodeURIComponent(argData);\n    let temArr = argData.split(\"?\");\n    argData = temArr.pop() || \"\";\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key, value) => {\n      res[key] = value;\n      return \"\";\n    });\n    return res;\n  } catch (e) {\n    console.error(\"\\u8F6C\\u6362\\u5931\\u8D25\", e);\n    return res;\n  }\n};\nconst replaceUrlParam = (name, value, url = globalThis.location.href || \"\") => {\n  let reg = new RegExp(\"([?]|&)(\" + name + \"=)([^&#]*)([&]?|$)\", \"img\");\n  let r = url.match(reg);\n  let search = url.split(\"?\");\n  let strValue = url;\n  if (value === void 0 || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function() {\n        if (!arguments[4] || !arguments[4].length) {\n          return \"\";\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1];\n        }\n        return arguments[1] + arguments[4];\n      });\n      strValue = strValue.replace(\"?&\", \"?\");\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`);\n  } else if (search.length > 1) {\n    let sub = search[1].split(\"#\");\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`;\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`;\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`;\n    }\n  } else {\n    let sub = url.split(\"#\");\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`;\n    } else {\n      strValue = `${url}?${name}=${value}`;\n    }\n  }\n  return strValue;\n};\nconst encodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&/g, \"&amp;\");\n  argHtml = argHtml.replace(/</g, \"&lt;\");\n  argHtml = argHtml.replace(/>/g, \"&gt;\");\n  argHtml = argHtml.replace(/'/g, \"&#39;\");\n  argHtml = argHtml.replace(/\"/g, \"&quot;\");\n  argHtml = argHtml.replace(/ /g, \"&nbsp;\");\n  argHtml = argHtml.replace(/\\n/g, \"<br>\");\n  return argHtml;\n};\nconst decodeHtml = (argHtml) => {\n  if (!argHtml || argHtml.length === 0) {\n    return \"\";\n  }\n  argHtml = argHtml.replace(/&amp;/g, \"&\");\n  argHtml = argHtml.replace(/&lt;/g, \"<\");\n  argHtml = argHtml.replace(/&gt;/g, \">\");\n  argHtml = argHtml.replace(/&#39;/g, \"'\");\n  argHtml = argHtml.replace(/&quot;/g, '\"');\n  argHtml = argHtml.replace(/&nbsp;/g, \" \");\n  argHtml = argHtml.replace(/<br>/g, \"\\n\");\n  return argHtml;\n};\nconst hideInfo = (argData = \"\", argStart = 3, argEnd = 4) => {\n  argData = String(argData);\n  let temLen = argData.length;\n  let temSL = argData.length - argEnd - argStart;\n  let start = \"\";\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += \"*\";\n    }\n    argData = argData.substring(0, argStart) + start + argData.substring(temLen - argEnd, temLen);\n  }\n  return argData;\n};\nconst getUuid = () => {\n  function S4() {\n    return ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);\n  }\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + Date.now();\n};\nconst randomInt = (min = 0, max = 100) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst setEnv = (env) => {\n  ENV = env;\n};\nconst getEnv = (key) => {\n  return safeData(ENV, key, \"\");\n};\nconst setObj = (key, data) => {\n  if (!key) {\n    DATA_OBJECT = data;\n  } else {\n    DATA_OBJECT[key] = data;\n  }\n  return DATA_OBJECT;\n};\nconst getObj = (key, argData, isDeepCopy) => {\n  let res = safeData(DATA_OBJECT, key, {});\n  if (argData) {\n    res = Object.assign(res, argData);\n  }\n  if (!isDeepCopy) {\n    return res;\n  } else {\n    return JSON.parse(JSON.stringify(res));\n  }\n};\nconst setLog = (logLevel, logConfig) => {\n  logLevel = logLevel || getEnv(\"VUE_APP_LOG_LEVEL\") || 4;\n  const logList = [\"log\", \"info\", \"warn\", \"error\"];\n  const log = {};\n  logList.forEach((v) => {\n    log[v] = console[v];\n  });\n  for (let key in logConfig) {\n    if (console[key]) {\n      ;\n      console[key] = (...arg) => {\n        var _a, _b;\n        ;\n        log[key](...arg, (_a = Error().stack) == null ? void 0 : _a.split(\"\\n\")[2]);\n        logConfig[key] && logConfig[key](...arg, (_b = Error().stack) == null ? void 0 : _b.split(\"\\n\")[2]);\n      };\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {\n      };\n    case 2:\n      console.info = () => {\n      };\n    case 3:\n      console.log = () => {\n      };\n    case 4:\n      console.debug = () => {\n      };\n    default:\n      break;\n  }\n};\nfunction toList(map, getItem) {\n  const list = [];\n  Object.keys(map).forEach((key) => {\n    const item = getItem(key, map[key]);\n    list.push(item);\n  });\n  return list;\n}\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 类字符串/参数处理\n */\n\nimport { AnyObject, Bool } from './types'\n\nlet ENV: AnyObject = {}\nlet DATA_OBJECT: AnyObject = {}\n/**\n * @function\n * @description 数据安全访问\n * @param  {any} argData  [原始数据]\n * @param  {string} argCheck [要返回的数据，用'.'连接，数组用'.+数字表示']\n * @param  {any} argValue [如果数据有误，返回的值，选填]\n * @param  {boolean|0|1} argSetValueForce [是否强制赋值argValue]\n * @returns {any}\n */\nexport const safeData = (\n  argData: any,\n  argCheck: string,\n  argValue?: any,\n  argSetValueForce?: Bool\n): any => {\n  if (typeof argCheck !== 'string' && typeof argCheck !== 'number') {\n    console.warn('argCheck请传入string当前为:' + argCheck)\n    return ''\n  }\n  const temKey = argCheck.toString().split('.')\n  const temLen = temKey.length\n  if (!argData) {\n    return argValue\n  }\n  if (temLen > 1) {\n    for (let i = 0; i < temLen - 1; i++) {\n      if (typeof argData[temKey[i]] !== 'object') {\n        if (argSetValueForce) {\n          console.warn('safeData setValue err：', argData, 'index:', i)\n        }\n        return argValue\n      }\n      argData = argData[temKey[i]] || {}\n    }\n  }\n  if (argSetValueForce) {\n    argData[temKey[temLen - 1]] = argValue\n  }\n  if (typeof argValue === 'undefined') {\n    return argData[temKey[temLen - 1]]\n  } else {\n    return argData[temKey[temLen - 1]] || argValue\n  }\n}\n/**\n * 描述\n * @function\n * @description toFixed处理\n * @date 2020-03-01\n * @param {string|number} argData 要处理的数据\n * @param {number} argNum 要保留位数,默认返回2位小数\n * @param {string} argType 返回类型，默认返回字符串\n * @returns {string|number} 返回处理好的数据\n */\nexport const toFixed = (\n  argData: string | number,\n  argNum: number = 2,\n  argType: string = 'string'\n): string | number => {\n  let data: number | string =\n    Math.round(+argData * Math.pow(10, argNum)) / Math.pow(10, argNum)\n  data = (+data || 0).toFixed(argNum)\n  return argType === 'string' ? data : +data\n}\n/**\n * @function\n * @description 驼峰转下划线\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toLine = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(/([A-Z])/g, argUnit + '$1').toLowerCase()\n}\n\n/**\n * @function\n * @description 下划线转驼峰\n * @param {string} argData 要转换数据\n * @param {string} argUnit 要转换的字符，默认“_”\n * @return {string}\n */\nexport const toHump = (argData: string, argUnit: string = '_'): string => {\n  return argData.replace(\n    new RegExp('\\\\' + argUnit + '(\\\\w)', 'g'),\n    (_, letter) => {\n      return letter.toUpperCase()\n    }\n  )\n}\n/**\n * 描述\n * @function\n * @description 10进制转62进制,用于短网址转换\n * @date 2020-03-01\n * @param {number|string} argData 要处理的数据\n * @returns {string} 返回处理好的数据\n */\nexport const string10to62 = (argData: number | string): string => {\n  let chars =\n    '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'.split('')\n  let radix = chars.length\n  let data = +argData\n  let arr = []\n  do {\n    let mod = data % radix\n    data = (data - mod) / radix\n    arr.unshift(chars[mod])\n  } while (data)\n  return arr.join('')\n}\n/**\n * 描述\n * @function\n * @description 62进制转10进制,用于短网址转换\n * @date 2020-03-01\n * @param {string} argData 要处理的数据\n * @returns {number} 返回处理好的数据\n */\nexport const string62to10 = (argData: string): number => {\n  let chars = '0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ'\n  let radix = chars.length\n  let len = argData.length\n  let i = 0\n  let resNum = 0\n  while (i < len) {\n    resNum +=\n      Math.pow(radix, i++) * chars.indexOf(argData.charAt(len - i) || '0')\n  }\n  return resNum\n}\n/**\n * @description obj转url参数\n * @function\n * @param {any} argParams 参数对象\n * @param {boolean?} noMark 默认带?,true时,不带\n * @returns {string}\n */\nexport const setUrlParams = (argParams: any, noMark?: boolean): string => {\n  let re = ''\n  if (!noMark) {\n    re = '?'\n  }\n  let paramsList = Object.keys(argParams)\n  let temLength = paramsList.length\n  if (!temLength) {\n    return ''\n  }\n  paramsList.map((v, k) => {\n    re += v + '=' + argParams[v]\n    if (k < temLength - 1) {\n      re += '&'\n    }\n  })\n  return re\n}\n\n/**\n * @description 获取url参数\n * @function\n * @param {string} argName 要获取的key\n * @param {string} argUrl url数据\n * @returns {string}\n */\nexport const getUrlParam = (\n  argName: string,\n  argUrl: string = globalThis.location.search || ''\n): string => {\n  let result = argUrl.match(new RegExp('[?&]' + argName + '=([^&]+)', 'i'))\n  if (!result) {\n    return ''\n  }\n  return decodeURIComponent(result[1])\n}\n/**\n * @description 获取所有url参数，eg: a=1&b=2 to {a:1,b:2}\n * @function\n * @param {string} argData 要处理的数据\n * @returns {any}\n */\nexport const getUrlParamObj = (\n  argData: string = globalThis.location.search || globalThis.location.hash\n): any => {\n  const res: any = {}\n  try {\n    argData = decodeURIComponent(argData)\n    let temArr = argData.split('?')\n    argData = temArr.pop() || ''\n    argData.replace(/([^?=&#]+)=([^?=&#]+)/g, (_, key: string, value) => {\n      res[key] = value\n      return ''\n    })\n    return res\n  } catch (e) {\n    console.error('转换失败', e)\n    return res\n  }\n  // let temObj = new URLSearchParams(argData)\n  // let resObj = {}\n  // for (const [key, value] of temObj) {\n  //   resObj[key] = value\n  // }\n  // return resObj\n}\n\n/**\n * @description 通过正则匹配修改当前页面的url中的参数\n * @function\n * @param  {string} name key\n * @param  {string | number| undefined | null} value 要替换的value\n * @param  {string} url 要替换的网址,默认location.href\n * @returns {string}\n */\nexport const replaceUrlParam = (\n  name: string,\n  value: string | number | undefined | null,\n  url: string = globalThis.location.href || ''\n): string => {\n  let reg = new RegExp('([?]|&)(' + name + '=)([^&#]*)([&]?|$)', 'img')\n  let r = url.match(reg)\n  let search = url.split('?')\n  let strValue: string = url\n  if (value === undefined || value === null) {\n    if (r != null) {\n      strValue = url.replace(reg, function () {\n        if (!arguments[4] || !arguments[4].length) {\n          return ''\n        } else if (arguments[1] === arguments[4]) {\n          return arguments[1]\n        }\n        return arguments[1] + arguments[4]\n      })\n      strValue = strValue.replace('?&', '?')\n    }\n  } else if (r != null) {\n    strValue = url.replace(reg, `$1$2${value}$4`)\n  } else if (search.length > 1) {\n    let sub = search[1].split('#')\n    if (sub.length > 1) {\n      if (sub[1].length) {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}#${sub[1]}`\n      } else {\n        strValue = `${search[0]}?${sub[0]}&${name}=${value}${sub[1]}`\n      }\n    } else {\n      strValue = `${search[0]}?${search[1]}&${name}=${value}`\n    }\n  } else {\n    // 不存在?时,搜索hash\n    let sub = url.split('#')\n    if (sub.length > 1) {\n      strValue = `${sub[0]}?${name}=${value}#${sub[1]}`\n    } else {\n      strValue = `${url}?${name}=${value}`\n    }\n  }\n  return strValue\n}\n\n/**\n * @function\n * @description 转义html标签\n * @param  {string} argHtml 需要转义的文本\n * @returns {string}\n */\nexport const encodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&/g, '&amp;')\n  argHtml = argHtml.replace(/</g, '&lt;')\n  argHtml = argHtml.replace(/>/g, '&gt;')\n  argHtml = argHtml.replace(/'/g, '&#39;')\n  argHtml = argHtml.replace(/\"/g, '&quot;')\n  argHtml = argHtml.replace(/ /g, '&nbsp;')\n  argHtml = argHtml.replace(/\\n/g, '<br>')\n  return argHtml\n}\n\n/**\n * @function\n * @description 反转义html标签\n * @param  {string} argHtml 需要反转义的文本\n * @returns {string}\n */\nexport const decodeHtml = (argHtml: string): string => {\n  if (!argHtml || argHtml.length === 0) {\n    return ''\n  }\n  argHtml = argHtml.replace(/&amp;/g, '&')\n  argHtml = argHtml.replace(/&lt;/g, '<')\n  argHtml = argHtml.replace(/&gt;/g, '>')\n  argHtml = argHtml.replace(/&#39;/g, \"'\")\n  argHtml = argHtml.replace(/&quot;/g, '\"')\n  argHtml = argHtml.replace(/&nbsp;/g, ' ')\n  argHtml = argHtml.replace(/<br>/g, '\\n')\n  return argHtml\n}\n\n/**\n * 描述\n * @function\n * @description 数据中间加星号\n * @param {string|number} argData 要处理的数据\n * @param {number} argStart=3 前端显示多少位\n * @param {number} argEnd=4 后面显示多少位\n * @returns {string} 返回处理好的数据\n */\nexport const hideInfo = (\n  argData: string | number = '',\n  argStart: number = 3,\n  argEnd: number = 4\n): string => {\n  argData = String(argData)\n  let temLen = argData.length\n  let temSL = argData.length - argEnd - argStart\n  let start = ''\n  if (temSL > 0) {\n    for (let i = 0; i < temSL; i++) {\n      start += '*'\n    }\n    argData =\n      argData.substring(0, argStart) +\n      start +\n      argData.substring(temLen - argEnd, temLen)\n  }\n  return argData\n}\n/**\n * @function\n * @description 获取简单uuid\n * @returns {string} uuid\n */\nexport const getUuid = (): string => {\n  function S4() {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1)\n  }\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + Date.now()\n}\n/**\n * @function\n * @description 获取随机数,含最大值，含最小值\n * @param  {number} min 最小值\n * @param  {number} max 最大值\n * @returns {number}\n */\nexport const randomInt = (min: number = 0, max: number = 100): number => {\n  min = Math.ceil(min)\n  max = Math.floor(max)\n  // 含最大值，含最小值\n  return Math.floor(Math.random() * (max - min + 1)) + min\n}\n/**\n * @function\n * @description 设置env参数，一般在main.js中调用\n * @param  {AnyObject} env 要设置的值\n */\nexport const setEnv = (env: AnyObject) => {\n  ENV = env\n}\n/**\n * @function\n * @description 获取env参数\n * @param  {string} key 要获取的值\n * @returns {string} 获取的值\n */\nexport const getEnv = (key: string): string => {\n  return safeData(ENV, key, '')\n}\n\n/**\n * @function\n * @description 设置object参数,可做运行时缓存\n * @param  {string} key 要设置的key\n * @param  {AnyObject} data 要设置的值\n * @returns {AnyObject}\n */\nexport const setObj = (key: string, data: AnyObject): AnyObject => {\n  if (!key) {\n    DATA_OBJECT = data\n  } else {\n    DATA_OBJECT[key] = data\n  }\n  return DATA_OBJECT\n}\n/**\n * @function\n * @description 获取object参数\n * @param  {string} key 要获取的值\n * @param  {string} argData 要合并的值\n * @param  {boolean} isDeepCopy 是否深拷贝\n * @returns {AnyObject} 获取的值\n */\nexport const getObj = (\n  key: string,\n  argData?: AnyObject,\n  isDeepCopy?: Bool\n): AnyObject => {\n  let res: AnyObject = safeData(DATA_OBJECT, key, {})\n  if (argData) {\n    res = Object.assign(res, argData)\n  }\n  if (!isDeepCopy) {\n    return res\n  } else {\n    return JSON.parse(JSON.stringify(res))\n  }\n}\n\n/**\n * @function\n * @description 设置日志输出logLevel 1 error 2 warn 3 info 4 log 5 debug\n * @param {AnyObject} logConfig 重写配置\n * @param {function} logConfig.error 错误日志回调（做额外处理用）\n */\nexport const setLog = (logLevel?: string | number, logConfig?: AnyObject) => {\n  // 1 error 2 warn 3 info 4 log 5 debug\n  logLevel = logLevel || getEnv('VUE_APP_LOG_LEVEL') || 4\n  const logList = ['log', 'info', 'warn', 'error']\n  const log: AnyObject = {}\n  logList.forEach((v) => {\n    log[v] = (console as AnyObject)[v]\n  })\n  for (let key in logConfig) {\n    if ((console as AnyObject)[key]) {\n      ;(console as AnyObject)[key] = (...arg: any[]) => {\n        ;(log as AnyObject)[key](...arg, Error().stack?.split('\\n')[2])\n        // 回调处理\n        logConfig[key] && logConfig[key](...arg, Error().stack?.split('\\n')[2])\n      }\n    }\n  }\n  switch (+logLevel) {\n    case 1:\n      console.warn = () => {}\n    case 2:\n      console.info = () => {}\n    case 3:\n      console.log = () => {}\n    case 4:\n      console.debug = () => {}\n    default:\n      break\n  }\n  // return log\n}\n\n/**\n * map 转为 list，list item 具体是什么取决于传入的 getItem 函数\n * @param map\n * @param getItem\n * @return getItem()[]\n */\nexport function toList<V, K extends string, Item>(\n  map: Record<K, V>,\n  getItem: (key: K, value: V) => Item\n) {\n  const list = [] as Item[]\n  Object.keys(map).forEach((key: any) => {\n    // @ts-ignore, trust me.\n    const item = getItem(key, map[key])\n    list.push(item)\n  })\n  return list\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"4431","url":"/home/runner/work/utils/utils/src/data.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":9154,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":9151,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":21}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":21}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"decodeHtml","ranges":[{"startOffset":931,"endOffset":947,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":963,"endOffset":979,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":991,"endOffset":1003,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":1015,"endOffset":1027,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":1044,"endOffset":1061,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":1081,"endOffset":1101,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":1114,"endOffset":1127,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":1141,"endOffset":1155,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":1170,"endOffset":1185,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":1206,"endOffset":1227,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1241,"endOffset":1255,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":1267,"endOffset":1279,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":1291,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":1315,"endOffset":1327,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":1345,"endOffset":1363,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":1381,"endOffset":1399,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":1417,"endOffset":1435,"count":0}],"isBlockCoverage":false},{"functionName":"toFixed","ranges":[{"startOffset":1448,"endOffset":1461,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":1473,"endOffset":1485,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":1497,"endOffset":1509,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":1521,"endOffset":1533,"count":0}],"isBlockCoverage":false},{"functionName":"safeData","ranges":[{"startOffset":1637,"endOffset":2529,"count":0}],"isBlockCoverage":false},{"functionName":"toFixed","ranges":[{"startOffset":2547,"endOffset":2761,"count":0}],"isBlockCoverage":false},{"functionName":"toLine","ranges":[{"startOffset":2778,"endOffset":2877,"count":0}],"isBlockCoverage":false},{"functionName":"toHump","ranges":[{"startOffset":2894,"endOffset":3065,"count":0}],"isBlockCoverage":false},{"functionName":"string10to62","ranges":[{"startOffset":3088,"endOffset":3399,"count":0}],"isBlockCoverage":false},{"functionName":"string62to10","ranges":[{"startOffset":3422,"endOffset":3730,"count":0}],"isBlockCoverage":false},{"functionName":"setUrlParams","ranges":[{"startOffset":3753,"endOffset":4082,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParam","ranges":[{"startOffset":4104,"endOffset":4316,"count":0}],"isBlockCoverage":false},{"functionName":"getUrlParamObj","ranges":[{"startOffset":4341,"endOffset":4772,"count":0}],"isBlockCoverage":false},{"functionName":"replaceUrlParam","ranges":[{"startOffset":4798,"endOffset":6051,"count":0}],"isBlockCoverage":false},{"functionName":"encodeHtml","ranges":[{"startOffset":6072,"endOffset":6475,"count":0}],"isBlockCoverage":false},{"functionName":"decodeHtml","ranges":[{"startOffset":6496,"endOffset":6899,"count":0}],"isBlockCoverage":false},{"functionName":"hideInfo","ranges":[{"startOffset":6918,"endOffset":7297,"count":0}],"isBlockCoverage":false},{"functionName":"getUuid","ranges":[{"startOffset":7315,"endOffset":7498,"count":0}],"isBlockCoverage":false},{"functionName":"randomInt","ranges":[{"startOffset":7518,"endOffset":7654,"count":0}],"isBlockCoverage":false},{"functionName":"setEnv","ranges":[{"startOffset":7671,"endOffset":7696,"count":0}],"isBlockCoverage":false},{"functionName":"getEnv","ranges":[{"startOffset":7713,"endOffset":7758,"count":0}],"isBlockCoverage":false},{"functionName":"setObj","ranges":[{"startOffset":7775,"endOffset":7897,"count":0}],"isBlockCoverage":false},{"functionName":"getObj","ranges":[{"startOffset":7914,"endOffset":8147,"count":0}],"isBlockCoverage":false},{"functionName":"setLog","ranges":[{"startOffset":8164,"endOffset":8973,"count":0}],"isBlockCoverage":false},{"functionName":"toList","ranges":[{"startOffset":8975,"endOffset":9148,"count":0}],"isBlockCoverage":false}]}},{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 判断函数\n */\n/**\n * @function\n * @description 判断质数\n * @param {number} argValue 要判断的数据\n * @returns {boolean} 结果\n */\nexport const isPrime = (argValue: number): boolean =>\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\n\n/**\n * @function\n * @description 判断是否是JSON\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isJson = (argData: any): boolean => {\n  try {\n    return typeof JSON.parse(argData || '') === 'object'\n  } catch (e) {}\n  return false\n}\n/**\n * @function\n * @description 判断是否是Blob\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isBlob = (argData: any): boolean => {\n  return argData instanceof Blob\n}\n\n/**\n * @function\n * @description 判断是否是File\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isFile = (argData: any): boolean => {\n  return argData instanceof File\n}\n\n/**\n * @function\n * @description 是否为正确的身份证号码\n * @param  {string} code 身份证号码\n * @returns {boolean}\n */\nexport const isIdCard = (code: string): boolean => {\n  let tip = ''\n  let city: { [key: number]: string } = {\n    11: '北京',\n    12: '天津',\n    13: '河北',\n    14: '山西',\n    15: '内蒙古',\n    21: '辽宁',\n    22: '吉林',\n    23: '黑龙江 ',\n    31: '上海',\n    32: '江苏',\n    33: '浙江',\n    34: '安徽',\n    35: '福建',\n    36: '江西',\n    37: '山东',\n    41: '河南',\n    42: '湖北 ',\n    43: '湖南',\n    44: '广东',\n    45: '广西',\n    46: '海南',\n    50: '重庆',\n    51: '四川',\n    52: '贵州',\n    53: '云南',\n    54: '西藏 ',\n    61: '陕西',\n    62: '甘肃',\n    63: '青海',\n    64: '宁夏',\n    65: '新疆',\n    71: '台湾',\n    81: '香港',\n    82: '澳门',\n    91: '国外 ',\n  }\n  let pass = true\n  if (\n    !code ||\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n      code\n    )\n  ) {\n    tip = '身份证号格式错误'\n    pass = false\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = '地址编码错误'\n    pass = false\n  } else {\n    // 18位身份证需要验证最后一位校验位\n    if (code.length === 18) {\n      const codeArr = code.split('')\n      // ∑(ai×Wi)(mod 11)\n      // 加权因子\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\n      // 校验位\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\n      let sum = 0\n      let ai = 0\n      let wi = 0\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i])\n        wi = factor[i]\n        sum += ai * wi\n      }\n      let last = parity[sum % 11] + ''\n      if (last !== code[17]) {\n        tip = '校验位错误'\n        pass = false\n      }\n    }\n  }\n  console.assert(!tip, tip)\n  return pass\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"4432","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":0}],"isBlockCoverage":false},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":0}],"isBlockCoverage":false},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":0}],"isBlockCoverage":false},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":0}],"isBlockCoverage":false},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":0}],"isBlockCoverage":false}]}}]},{"leaks":false,"numFailingTests":0,"numPassingTests":4,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1673578755948,"runtime":270,"slow":false,"start":1673578755678},"skipped":false,"testFilePath":"/home/runner/work/utils/utils/test/is.spec.ts","testResults":[{"ancestorTitles":["is"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"is isJson","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"isJson"},{"ancestorTitles":["is"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"is isBlobMock","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"isBlobMock"},{"ancestorTitles":["is"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"is isFileMock","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"isFileMock"},{"ancestorTitles":["is"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"is isIdCard","invocations":1,"location":null,"numPassingAsserts":0,"status":"passed","title":"isIdCard"}],"failureMessage":null,"v8Coverage":[{"codeTransformResult":{"code":"var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar stdin_exports = {};\n__export(stdin_exports, {\n  isBlob: () => isBlob,\n  isFile: () => isFile,\n  isIdCard: () => isIdCard,\n  isJson: () => isJson,\n  isPrime: () => isPrime\n});\nmodule.exports = __toCommonJS(stdin_exports);\nconst isPrime = (argValue) => !/^.?$|^(..+?)\\1+$/.test(\".\".repeat(argValue));\nconst isJson = (argData) => {\n  try {\n    return typeof JSON.parse(argData || \"\") === \"object\";\n  } catch (e) {\n  }\n  return false;\n};\nconst isBlob = (argData) => {\n  return argData instanceof Blob;\n};\nconst isFile = (argData) => {\n  return argData instanceof File;\n};\nconst isIdCard = (code) => {\n  let tip = \"\";\n  let city = {\n    11: \"\\u5317\\u4EAC\",\n    12: \"\\u5929\\u6D25\",\n    13: \"\\u6CB3\\u5317\",\n    14: \"\\u5C71\\u897F\",\n    15: \"\\u5185\\u8499\\u53E4\",\n    21: \"\\u8FBD\\u5B81\",\n    22: \"\\u5409\\u6797\",\n    23: \"\\u9ED1\\u9F99\\u6C5F \",\n    31: \"\\u4E0A\\u6D77\",\n    32: \"\\u6C5F\\u82CF\",\n    33: \"\\u6D59\\u6C5F\",\n    34: \"\\u5B89\\u5FBD\",\n    35: \"\\u798F\\u5EFA\",\n    36: \"\\u6C5F\\u897F\",\n    37: \"\\u5C71\\u4E1C\",\n    41: \"\\u6CB3\\u5357\",\n    42: \"\\u6E56\\u5317 \",\n    43: \"\\u6E56\\u5357\",\n    44: \"\\u5E7F\\u4E1C\",\n    45: \"\\u5E7F\\u897F\",\n    46: \"\\u6D77\\u5357\",\n    50: \"\\u91CD\\u5E86\",\n    51: \"\\u56DB\\u5DDD\",\n    52: \"\\u8D35\\u5DDE\",\n    53: \"\\u4E91\\u5357\",\n    54: \"\\u897F\\u85CF \",\n    61: \"\\u9655\\u897F\",\n    62: \"\\u7518\\u8083\",\n    63: \"\\u9752\\u6D77\",\n    64: \"\\u5B81\\u590F\",\n    65: \"\\u65B0\\u7586\",\n    71: \"\\u53F0\\u6E7E\",\n    81: \"\\u9999\\u6E2F\",\n    82: \"\\u6FB3\\u95E8\",\n    91: \"\\u56FD\\u5916 \"\n  };\n  let pass = true;\n  if (!code || !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n    code\n  )) {\n    tip = \"\\u8EAB\\u4EFD\\u8BC1\\u53F7\\u683C\\u5F0F\\u9519\\u8BEF\";\n    pass = false;\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = \"\\u5730\\u5740\\u7F16\\u7801\\u9519\\u8BEF\";\n    pass = false;\n  } else {\n    if (code.length === 18) {\n      const codeArr = code.split(\"\");\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2];\n      let parity = [1, 0, \"X\", 9, 8, 7, 6, 5, 4, 3, 2];\n      let sum = 0;\n      let ai = 0;\n      let wi = 0;\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i]);\n        wi = factor[i];\n        sum += ai * wi;\n      }\n      let last = parity[sum % 11] + \"\";\n      if (last !== code[17]) {\n        tip = \"\\u6821\\u9A8C\\u4F4D\\u9519\\u8BEF\";\n        pass = false;\n      }\n    }\n  }\n  console.assert(!tip, tip);\n  return pass;\n};\n","originalCode":"/**\n * @module index\n * @author linjielinlin 993353454@qq.com\n * @date 2022-05-11 22:07:43\n * @description 判断函数\n */\n/**\n * @function\n * @description 判断质数\n * @param {number} argValue 要判断的数据\n * @returns {boolean} 结果\n */\nexport const isPrime = (argValue: number): boolean =>\n  !/^.?$|^(..+?)\\1+$/.test('.'.repeat(argValue))\n\n/**\n * @function\n * @description 判断是否是JSON\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isJson = (argData: any): boolean => {\n  try {\n    return typeof JSON.parse(argData || '') === 'object'\n  } catch (e) {}\n  return false\n}\n/**\n * @function\n * @description 判断是否是Blob\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isBlob = (argData: any): boolean => {\n  return argData instanceof Blob\n}\n\n/**\n * @function\n * @description 判断是否是File\n * @param  {any} argData 数据\n * @returns {boolean}\n */\nexport const isFile = (argData: any): boolean => {\n  return argData instanceof File\n}\n\n/**\n * @function\n * @description 是否为正确的身份证号码\n * @param  {string} code 身份证号码\n * @returns {boolean}\n */\nexport const isIdCard = (code: string): boolean => {\n  let tip = ''\n  let city: { [key: number]: string } = {\n    11: '北京',\n    12: '天津',\n    13: '河北',\n    14: '山西',\n    15: '内蒙古',\n    21: '辽宁',\n    22: '吉林',\n    23: '黑龙江 ',\n    31: '上海',\n    32: '江苏',\n    33: '浙江',\n    34: '安徽',\n    35: '福建',\n    36: '江西',\n    37: '山东',\n    41: '河南',\n    42: '湖北 ',\n    43: '湖南',\n    44: '广东',\n    45: '广西',\n    46: '海南',\n    50: '重庆',\n    51: '四川',\n    52: '贵州',\n    53: '云南',\n    54: '西藏 ',\n    61: '陕西',\n    62: '甘肃',\n    63: '青海',\n    64: '宁夏',\n    65: '新疆',\n    71: '台湾',\n    81: '香港',\n    82: '澳门',\n    91: '国外 ',\n  }\n  let pass = true\n  if (\n    !code ||\n    !/^\\d{6}(18|19|20)?\\d{2}(0[1-9]|1[012])(0[1-9]|[12]\\d|3[01])\\d{3}(\\d|X)$/i.test(\n      code\n    )\n  ) {\n    tip = '身份证号格式错误'\n    pass = false\n  } else if (!city[+code.substring(0, 2)]) {\n    tip = '地址编码错误'\n    pass = false\n  } else {\n    // 18位身份证需要验证最后一位校验位\n    if (code.length === 18) {\n      const codeArr = code.split('')\n      // ∑(ai×Wi)(mod 11)\n      // 加权因子\n      let factor = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2]\n      // 校验位\n      let parity = [1, 0, 'X', 9, 8, 7, 6, 5, 4, 3, 2]\n      let sum = 0\n      let ai = 0\n      let wi = 0\n      for (let i = 0; i < 17; i++) {\n        ai = Number(codeArr[i])\n        wi = factor[i]\n        sum += ai * wi\n      }\n      let last = parity[sum % 11] + ''\n      if (last !== code[17]) {\n        tip = '校验位错误'\n        pass = false\n      }\n    }\n  }\n  console.assert(!tip, tip)\n  return pass\n}\n","sourceMapPath":null,"wrapperLength":82},"result":{"scriptId":"4690","url":"/home/runner/work/utils/utils/src/is.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":3284,"count":1}],"isBlockCoverage":true},{"functionName":"Object.<anonymous>","ranges":[{"startOffset":23,"endOffset":3281,"count":1}],"isBlockCoverage":true},{"functionName":"__export","ranges":[{"startOffset":296,"endOffset":407,"count":1},{"startOffset":343,"endOffset":405,"count":5}],"isBlockCoverage":true},{"functionName":"__copyProps","ranges":[{"startOffset":427,"endOffset":773,"count":1},{"startOffset":496,"endOffset":525,"count":0},{"startOffset":580,"endOffset":754,"count":5}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":665,"endOffset":680,"count":4}],"isBlockCoverage":true},{"functionName":"__toCommonJS","ranges":[{"startOffset":794,"endOffset":865,"count":1}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":927,"endOffset":939,"count":1}],"isBlockCoverage":true},{"functionName":"isFile","ranges":[{"startOffset":951,"endOffset":963,"count":1}],"isBlockCoverage":true},{"functionName":"isIdCard","ranges":[{"startOffset":977,"endOffset":991,"count":1}],"isBlockCoverage":true},{"functionName":"isJson","ranges":[{"startOffset":1003,"endOffset":1015,"count":1}],"isBlockCoverage":true},{"functionName":"isPrime","ranges":[{"startOffset":1028,"endOffset":1041,"count":0}],"isBlockCoverage":false},{"functionName":"isPrime","ranges":[{"startOffset":1108,"endOffset":1168,"count":0}],"isBlockCoverage":false},{"functionName":"isJson","ranges":[{"startOffset":1185,"endOffset":1303,"count":2},{"startOffset":1245,"endOffset":1250,"count":0},{"startOffset":1270,"endOffset":1302,"count":0}],"isBlockCoverage":true},{"functionName":"isBlob","ranges":[{"startOffset":1320,"endOffset":1370,"count":2}],"isBlockCoverage":true},{"functionName":"isFile","ranges":[{"startOffset":1387,"endOffset":1437,"count":1}],"isBlockCoverage":true},{"functionName":"isIdCard","ranges":[{"startOffset":1456,"endOffset":3277,"count":3},{"startOffset":2488,"endOffset":2573,"count":2},{"startOffset":2573,"endOffset":3231,"count":1},{"startOffset":2613,"endOffset":2686,"count":0},{"startOffset":2982,"endOffset":3072,"count":17}],"isBlockCoverage":true}]}}]}],"wasInterrupted":false,"config":{"bail":0,"changedFilesWithAncestor":false,"collectCoverage":true,"collectCoverageFrom":[],"coverageDirectory":"/home/runner/work/utils/utils/dist/cove","coverageProvider":"v8","coverageReporters":["json","text","lcov","clover"],"detectLeaks":false,"detectOpenHandles":true,"errorOnDeprecated":false,"expand":false,"findRelatedTests":false,"forceExit":true,"json":false,"lastCommit":false,"listTests":false,"logHeapUsage":false,"maxConcurrency":5,"maxWorkers":1,"noStackTrace":false,"nonFlagArgs":[],"notify":false,"notifyMode":"failure-change","onlyChanged":false,"onlyFailures":false,"passWithNoTests":false,"projects":[],"reporters":[["default",{}],["/home/runner/work/utils/utils/node_modules/jest-html-reporters/index.js",{"publicPath":"./dist/coverage","filename":"index.html","openReport":false}]],"rootDir":"/home/runner/work/utils/utils","runTestsByPath":false,"skipFilter":false,"testFailureExitCode":1,"testPathPattern":"","testSequencer":"/home/runner/work/utils/utils/node_modules/@jest/test-sequencer/build/index.js","updateSnapshot":"new","useStderr":false,"watch":false,"watchAll":false,"watchman":true,"coverageLinkPath":"../cove/lcov-report/index.html"},"endTime":1673578756156,"_reporterOptions":{"publicPath":"./dist/coverage","filename":"index.html","expand":false,"pageTitle":"","hideIcon":false,"testCommand":"npx jest","openReport":false,"failureMessageOnly":0,"enableMergeData":false,"dataMergeLevel":1,"inlineSource":false,"urlForTestFiles":""},"attachInfos":{}})